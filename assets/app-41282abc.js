import{_ as Rh}from"./index-d873c1fa.js";class g2{constructor(t){this.onNavigate=t,this.currentTab="dashboard",this.isMenuOpen=!1}render(){const t=document.createElement("header");return t.className="bg-gradient-to-r from-blue-700 to-cyan-600 text-white shadow-lg",t.innerHTML=`
      <div class="container mx-auto px-4 py-3">
        <div class="flex justify-between items-center">
          <!-- Logo y nombre -->
          <div class="flex items-center space-x-3">
            <span class="text-2xl">🌊</span>
            <h1 class="text-xl font-bold">AquaBuild</h1>
          </div>
          
          <!-- Menú hamburguesa para todos los dispositivos -->
          <button id="menu-toggle" class="text-white focus:outline-none ml-4">
            <svg id="menu-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>
        
        <!-- Menú desplegable overlay para todos los dispositivos -->
        <div id="menu-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden" style="display: none;"></div>
        
        <div id="dropdown-menu" class="hidden absolute top-full left-4 right-4 md:left-auto md:right-auto md:w-96 bg-white text-gray-800 rounded-lg shadow-xl z-50 mt-2 overflow-hidden">
          <div class="p-4 border-b border-gray-200">
            <h3 class="font-semibold text-gray-700 mb-3">MENÚ PRINCIPAL</h3>
            <nav>
              <ul class="space-y-2">
                <li>
                  <a href="#" data-tab="dashboard" class="block py-3 px-4 rounded-lg hover:bg-blue-50 hover:text-blue-700 transition-colors flex items-center space-x-3">
                    <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                    </svg>
                    <span class="font-medium">Principal</span>
                  </a>
                </li>
                <li>
                  <a href="#" data-tab="quotes" class="block py-3 px-4 rounded-lg hover:bg-blue-50 hover:text-blue-700 transition-colors flex items-center space-x-3">
                    <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    <span class="font-medium">Cotizaciones</span>
                  </a>
                </li>
                <li>
                  <a href="#" data-tab="invoices" class="block py-3 px-4 rounded-lg hover:bg-blue-50 hover:text-blue-700 transition-colors flex items-center space-x-3">
                    <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    <span class="font-medium">Facturas</span>
                  </a>
                </li>
                <li>
                  <a href="#" data-tab="clients" class="block py-3 px-4 rounded-lg hover:bg-blue-50 hover:text-blue-700 transition-colors flex items-center space-x-3">
                    <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                    <span class="font-medium">Clientes</span>
                  </a>
                </li>
              </ul>
            </nav>
          </div>
          <div class="p-4 bg-gray-50">
            <button id="menu-logout-btn" class="w-full py-2 px-4 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center space-x-2">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
              </svg>
              <span class="font-medium">Cerrar Sesión</span>
            </button>
          </div>
        </div>
      </div>
    `,setTimeout(()=>{const e=document.getElementById("menu-toggle"),r=document.getElementById("dropdown-menu"),i=document.getElementById("menu-overlay"),s=document.getElementById("menu-icon");if(!e||!r||!i||!s){console.error("Elementos del menú no encontrados");return}e.addEventListener("click",u=>{u.stopPropagation(),this.toggleMenu(r,i,s)}),r.querySelectorAll("[data-tab]").forEach(u=>{u.addEventListener("click",d=>{d.preventDefault(),d.stopPropagation();const g=u.getAttribute("data-tab");this.setActiveTab(g),this.onNavigate(g),this.closeMenu(r,i,s)})});const l=document.getElementById("menu-logout-btn");l&&l.addEventListener("click",u=>{u.preventDefault(),u.stopPropagation(),this.onNavigate("logout"),this.closeMenu(r,i,s)}),document.addEventListener("click",u=>{!t.contains(u.target)&&this.isMenuOpen&&this.closeMenu(r,i,s)}),document.addEventListener("keydown",u=>{u.key==="Escape"&&this.isMenuOpen&&this.closeMenu(r,i,s)})},100),t}toggleMenu(t,e,r){this.isMenuOpen?this.closeMenu(t,e,r):this.openMenu(t,e,r)}openMenu(t,e,r){t.classList.remove("hidden"),e.classList.remove("hidden"),r.style.transform="rotate(180deg)",this.isMenuOpen=!0;const i=t.closest("header");if(i){const s=i.getBoundingClientRect();t.style.top=`${s.height+10}px`}}closeMenu(t,e,r){t.classList.add("hidden"),e.classList.add("hidden"),r.style.transform="rotate(0deg)",this.isMenuOpen=!1}setActiveTab(t){this.currentTab=t,document.querySelectorAll("[data-tab]").forEach(e=>{e.classList.remove("font-bold","text-blue-700"),e.getAttribute("data-tab")===t&&e.classList.add("font-bold","text-blue-700")})}}const m2=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=i&63|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=i&63|128)}return t},y2=function(n){const t=[];let e=0,r=0;for(;e<n.length;){const i=n[e++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[e++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[e++],o=n[e++],l=n[e++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=n[e++],o=n[e++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Vg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,l=o?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,g=s>>2,v=(s&3)<<4|l>>4;let b=(l&15)<<2|d>>6,m=d&63;u||(m=64,o||(b=64)),r.push(e[g],e[v],e[b],e[m])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(jg(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):y2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=e[n.charAt(i++)],l=i<n.length?e[n.charAt(i)]:0;++i;const d=i<n.length?e[n.charAt(i)]:64;++i;const v=i<n.length?e[n.charAt(i)]:64;if(++i,s==null||l==null||d==null||v==null)throw new v2;const b=s<<2|l>>4;if(r.push(b),d!==64){const m=l<<4&240|d>>2;if(r.push(m),v!==64){const N=d<<6&192|v;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class v2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const w2=function(n){const t=jg(n);return Vg.encodeByteArray(t,!0)},$l=function(n){return w2(n).replace(/\./g,"")},Bg=function(n){try{return Vg.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=()=>b2().__FIREBASE_DEFAULTS__,E2=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},I2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Bg(n[1]);return t&&JSON.parse(t)},bu=()=>{try{return m2()||A2()||E2()||I2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qg=n=>{var t,e;return(e=(t=bu())==null?void 0:t.emulatorHosts)==null?void 0:e[n]},S2=n=>{const t=qg(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),r]:[t.substring(0,e),r]},Ug=()=>{var n;return(n=bu())==null?void 0:n.config},Hg=n=>{var t;return(t=bu())==null?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zg(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},r=t||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n},l="";return[$l(JSON.stringify(e)),$l(JSON.stringify(o)),l].join(".")}const xc={};function x2(){const n={prod:[],emulator:[]};for(const t of Object.keys(xc))xc[t]?n.emulator.push(t):n.prod.push(t);return n}function P2(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Wf=!1;function Wg(n,t){if(typeof window>"u"||typeof document>"u"||!Ua(window.location.host)||xc[n]===t||xc[n]||Wf)return;xc[n]=t;function e(b){return`__firebase__banner__${b}`}const r="__firebase__banner",s=x2().prod.length>0;function o(){const b=document.getElementById(r);b&&b.remove()}function l(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function u(b,m){b.setAttribute("width","24"),b.setAttribute("id",m),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function d(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Wf=!0,o()},b}function g(b,m){b.setAttribute("id",m),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=P2(r),m=e("text"),N=document.getElementById(m)||document.createElement("span"),R=e("learnmore"),F=document.getElementById(R)||document.createElement("a"),P=e("preprendIcon"),L=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const O=b.element;l(O),g(F,R);const q=d();u(L,P),O.append(L,N,F,q),document.body.appendChild(O)}s?(N.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function C2(){var t;const n=(t=bu())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function k2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F2(){const n=Gn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function D2(){return!C2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O2(){try{return typeof indexedDB=="object"}catch{return!1}}function M2(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var s;t(((s=i.error)==null?void 0:s.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="FirebaseError";class cs extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name=j2,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jc.prototype.create)}}class Jc{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?V2(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new cs(i,l,r)}}function V2(n,t){return n.replace(B2,(e,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const B2=/\{\$([^}]+)}/g;function q2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Mo(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const i of e){if(!r.includes(i))return!1;const s=n[i],o=t[i];if(Gf(s)&&Gf(o)){if(!Mo(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!e.includes(i))return!1;return!0}function Gf(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function bc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Ac(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function U2(n,t){const e=new H2(n,t);return e.subscribe.bind(e)}class H2{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let i;if(t===void 0&&e===void 0&&r===void 0)throw new Error("Missing Observer.");z2(t,["next","error","complete"])?i=t:i={next:t,error:e,complete:r},i.next===void 0&&(i.next=ch),i.error===void 0&&(i.error=ch),i.complete===void 0&&(i.complete=ch);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z2(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function ch(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(n){return n&&n._delegate?n._delegate:n}class jo{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new _2;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(K2(t))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=_o){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_o){return this.instances.has(t)}getOptions(t=_o){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(t,e){const r=this.normalizeInstanceIdentifier(e),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const i of r)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:G2(t),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=_o){return this.component?this.component.multipleInstances?t:_o:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G2(n){return n===_o?void 0:n}function K2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new W2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ye||(ye={}));const X2={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},Q2=ye.INFO,J2={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},Z2=(n,t,...e)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),i=J2[t];if(i)console[i](`[${r}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class md{constructor(t){this.name=t,this._logLevel=Q2,this._logHandler=Z2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ye))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?X2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...t),this._logHandler(this,ye.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...t),this._logHandler(this,ye.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...t),this._logHandler(this,ye.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...t),this._logHandler(this,ye.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...t),this._logHandler(this,ye.ERROR,...t)}}const $2=(n,t)=>t.some(e=>n instanceof e);let Kf,Yf;function t5(){return Kf||(Kf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e5(){return Yf||(Yf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gg=new WeakMap,Lh=new WeakMap,Kg=new WeakMap,lh=new WeakMap,yd=new WeakMap;function n5(n){const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(Bs(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&Gg.set(e,n)}).catch(()=>{}),yd.set(t,n),t}function r5(n){if(Lh.has(n))return;const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Lh.set(n,t)}let kh={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Lh.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Kg.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Bs(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function i5(n){kh=n(kh)}function s5(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const r=n.call(uh(this),t,...e);return Kg.set(r,t.sort?t.sort():[t]),Bs(r)}:e5().includes(n)?function(...t){return n.apply(uh(this),t),Bs(Gg.get(this))}:function(...t){return Bs(n.apply(uh(this),t))}}function o5(n){return typeof n=="function"?s5(n):(n instanceof IDBTransaction&&r5(n),$2(n,t5())?new Proxy(n,kh):n)}function Bs(n){if(n instanceof IDBRequest)return n5(n);if(lh.has(n))return lh.get(n);const t=o5(n);return t!==n&&(lh.set(n,t),yd.set(t,n)),t}const uh=n=>yd.get(n);function a5(n,t,{blocked:e,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,t),l=Bs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Bs(o.result),u.oldVersion,u.newVersion,Bs(o.transaction),u)}),e&&o.addEventListener("blocked",u=>e(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const c5=["get","getKey","getAll","getAllKeys","count"],l5=["put","add","delete","clear"],hh=new Map;function Xf(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(hh.get(t))return hh.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,i=l5.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!(i||c5.includes(e)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[e](...l),i&&u.done]))[0]};return hh.set(t,s),s}i5(n=>({...n,get:(t,e,r)=>Xf(t,e)||n.get(t,e,r),has:(t,e)=>!!Xf(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(h5(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(e=>e).join(" ")}}function h5(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Fh="@firebase/app",Qf="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new md("@firebase/app"),d5="@firebase/app-compat",f5="@firebase/analytics-compat",p5="@firebase/analytics",g5="@firebase/app-check-compat",m5="@firebase/app-check",y5="@firebase/auth",v5="@firebase/auth-compat",w5="@firebase/database",b5="@firebase/data-connect",A5="@firebase/database-compat",E5="@firebase/functions",I5="@firebase/functions-compat",S5="@firebase/installations",_5="@firebase/installations-compat",T5="@firebase/messaging",x5="@firebase/messaging-compat",P5="@firebase/performance",N5="@firebase/performance-compat",C5="@firebase/remote-config",R5="@firebase/remote-config-compat",L5="@firebase/storage",k5="@firebase/storage-compat",F5="@firebase/firestore",D5="@firebase/ai",O5="@firebase/firestore-compat",M5="firebase",j5="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="[DEFAULT]",V5={[Fh]:"fire-core",[d5]:"fire-core-compat",[p5]:"fire-analytics",[f5]:"fire-analytics-compat",[m5]:"fire-app-check",[g5]:"fire-app-check-compat",[y5]:"fire-auth",[v5]:"fire-auth-compat",[w5]:"fire-rtdb",[b5]:"fire-data-connect",[A5]:"fire-rtdb-compat",[E5]:"fire-fn",[I5]:"fire-fn-compat",[S5]:"fire-iid",[_5]:"fire-iid-compat",[T5]:"fire-fcm",[x5]:"fire-fcm-compat",[P5]:"fire-perf",[N5]:"fire-perf-compat",[C5]:"fire-rc",[R5]:"fire-rc-compat",[L5]:"fire-gcs",[k5]:"fire-gcs-compat",[F5]:"fire-fst",[O5]:"fire-fst-compat",[D5]:"fire-vertex","fire-js":"fire-js",[M5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=new Map,B5=new Map,Oh=new Map;function Jf(n,t){try{n.container.addComponent(t)}catch(e){rs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Fa(n){const t=n.name;if(Oh.has(t))return rs.debug(`There were multiple attempts to register component ${t}.`),!1;Oh.set(t,n);for(const e of tu.values())Jf(e,n);for(const e of B5.values())Jf(e,n);return!0}function vd(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ir(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new Jc("app","Firebase",q5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(t,e,r){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=j5;function Yg(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const r={name:Dh,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw qs.create("bad-app-name",{appName:String(i)});if(e||(e=Ug()),!e)throw qs.create("no-options");const s=tu.get(i);if(s){if(Mo(e,s.options)&&Mo(r,s.config))return s;throw qs.create("duplicate-app",{appName:i})}const o=new Y2(i);for(const u of Oh.values())o.addComponent(u);const l=new U5(e,r,o);return tu.set(i,l),l}function Xg(n=Dh){const t=tu.get(n);if(!t&&n===Dh&&Ug())return Yg();if(!t)throw qs.create("no-app",{appName:n});return t}function Us(n,t,e){let r=V5[n]??n;e&&(r+=`-${e}`);const i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rs.warn(o.join(" "));return}Fa(new jo(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5="firebase-heartbeat-database",z5=1,Vc="firebase-heartbeat-store";let dh=null;function Qg(){return dh||(dh=a5(H5,z5,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Vc)}catch(e){console.warn(e)}}}}).catch(n=>{throw qs.create("idb-open",{originalErrorMessage:n.message})})),dh}async function W5(n){try{const e=(await Qg()).transaction(Vc),r=await e.objectStore(Vc).get(Jg(n));return await e.done,r}catch(t){if(t instanceof cs)rs.warn(t.message);else{const e=qs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});rs.warn(e.message)}}}async function Zf(n,t){try{const r=(await Qg()).transaction(Vc,"readwrite");await r.objectStore(Vc).put(t,Jg(n)),await r.done}catch(e){if(e instanceof cs)rs.warn(e.message);else{const r=qs.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});rs.warn(r.message)}}}function Jg(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=1024,K5=30;class Y5{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Q5(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,e;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$f();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>K5){const o=J5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rs.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$f(),{heartbeatsToSend:r,unsentEntries:i}=X5(this._heartbeatsCache.heartbeats),s=$l(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return rs.warn(e),""}}}function $f(){return new Date().toISOString().substring(0,10)}function X5(n,t=G5){const e=[];let r=n.slice();for(const i of n){const s=e.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),tp(e)>t){s.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),tp(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}class Q5{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O2()?M2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await W5(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zf(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zf(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function tp(n){return $l(JSON.stringify({version:2,heartbeats:n})).length}function J5(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let r=1;r<n.length;r++)n[r].date<e&&(e=n[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(n){Fa(new jo("platform-logger",t=>new u5(t),"PRIVATE")),Fa(new jo("heartbeat",t=>new Y5(t),"PRIVATE")),Us(Fh,Qf,n),Us(Fh,Qf,"esm2020"),Us("fire-js","")}Z5("");var $5="firebase",ty="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Us($5,ty,"app");var ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,Zg;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(_,I){function C(){}C.prototype=I.prototype,_.F=I.prototype,_.prototype=new C,_.prototype.constructor=_,_.D=function(M,A,E){for(var T=Array(arguments.length-2),W=2;W<arguments.length;W++)T[W-2]=arguments[W];return I.prototype[A].apply(M,T)}}function e(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,e),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,I,C){C||(C=0);const M=Array(16);if(typeof I=="string")for(var A=0;A<16;++A)M[A]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(A=0;A<16;++A)M[A]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=_.g[0],C=_.g[1],A=_.g[2];let E=_.g[3],T;T=I+(E^C&(A^E))+M[0]+3614090360&4294967295,I=C+(T<<7&4294967295|T>>>25),T=E+(A^I&(C^A))+M[1]+3905402710&4294967295,E=I+(T<<12&4294967295|T>>>20),T=A+(C^E&(I^C))+M[2]+606105819&4294967295,A=E+(T<<17&4294967295|T>>>15),T=C+(I^A&(E^I))+M[3]+3250441966&4294967295,C=A+(T<<22&4294967295|T>>>10),T=I+(E^C&(A^E))+M[4]+4118548399&4294967295,I=C+(T<<7&4294967295|T>>>25),T=E+(A^I&(C^A))+M[5]+1200080426&4294967295,E=I+(T<<12&4294967295|T>>>20),T=A+(C^E&(I^C))+M[6]+2821735955&4294967295,A=E+(T<<17&4294967295|T>>>15),T=C+(I^A&(E^I))+M[7]+4249261313&4294967295,C=A+(T<<22&4294967295|T>>>10),T=I+(E^C&(A^E))+M[8]+1770035416&4294967295,I=C+(T<<7&4294967295|T>>>25),T=E+(A^I&(C^A))+M[9]+2336552879&4294967295,E=I+(T<<12&4294967295|T>>>20),T=A+(C^E&(I^C))+M[10]+4294925233&4294967295,A=E+(T<<17&4294967295|T>>>15),T=C+(I^A&(E^I))+M[11]+2304563134&4294967295,C=A+(T<<22&4294967295|T>>>10),T=I+(E^C&(A^E))+M[12]+1804603682&4294967295,I=C+(T<<7&4294967295|T>>>25),T=E+(A^I&(C^A))+M[13]+4254626195&4294967295,E=I+(T<<12&4294967295|T>>>20),T=A+(C^E&(I^C))+M[14]+2792965006&4294967295,A=E+(T<<17&4294967295|T>>>15),T=C+(I^A&(E^I))+M[15]+1236535329&4294967295,C=A+(T<<22&4294967295|T>>>10),T=I+(A^E&(C^A))+M[1]+4129170786&4294967295,I=C+(T<<5&4294967295|T>>>27),T=E+(C^A&(I^C))+M[6]+3225465664&4294967295,E=I+(T<<9&4294967295|T>>>23),T=A+(I^C&(E^I))+M[11]+643717713&4294967295,A=E+(T<<14&4294967295|T>>>18),T=C+(E^I&(A^E))+M[0]+3921069994&4294967295,C=A+(T<<20&4294967295|T>>>12),T=I+(A^E&(C^A))+M[5]+3593408605&4294967295,I=C+(T<<5&4294967295|T>>>27),T=E+(C^A&(I^C))+M[10]+38016083&4294967295,E=I+(T<<9&4294967295|T>>>23),T=A+(I^C&(E^I))+M[15]+3634488961&4294967295,A=E+(T<<14&4294967295|T>>>18),T=C+(E^I&(A^E))+M[4]+3889429448&4294967295,C=A+(T<<20&4294967295|T>>>12),T=I+(A^E&(C^A))+M[9]+568446438&4294967295,I=C+(T<<5&4294967295|T>>>27),T=E+(C^A&(I^C))+M[14]+3275163606&4294967295,E=I+(T<<9&4294967295|T>>>23),T=A+(I^C&(E^I))+M[3]+4107603335&4294967295,A=E+(T<<14&4294967295|T>>>18),T=C+(E^I&(A^E))+M[8]+1163531501&4294967295,C=A+(T<<20&4294967295|T>>>12),T=I+(A^E&(C^A))+M[13]+2850285829&4294967295,I=C+(T<<5&4294967295|T>>>27),T=E+(C^A&(I^C))+M[2]+4243563512&4294967295,E=I+(T<<9&4294967295|T>>>23),T=A+(I^C&(E^I))+M[7]+1735328473&4294967295,A=E+(T<<14&4294967295|T>>>18),T=C+(E^I&(A^E))+M[12]+2368359562&4294967295,C=A+(T<<20&4294967295|T>>>12),T=I+(C^A^E)+M[5]+4294588738&4294967295,I=C+(T<<4&4294967295|T>>>28),T=E+(I^C^A)+M[8]+2272392833&4294967295,E=I+(T<<11&4294967295|T>>>21),T=A+(E^I^C)+M[11]+1839030562&4294967295,A=E+(T<<16&4294967295|T>>>16),T=C+(A^E^I)+M[14]+4259657740&4294967295,C=A+(T<<23&4294967295|T>>>9),T=I+(C^A^E)+M[1]+2763975236&4294967295,I=C+(T<<4&4294967295|T>>>28),T=E+(I^C^A)+M[4]+1272893353&4294967295,E=I+(T<<11&4294967295|T>>>21),T=A+(E^I^C)+M[7]+4139469664&4294967295,A=E+(T<<16&4294967295|T>>>16),T=C+(A^E^I)+M[10]+3200236656&4294967295,C=A+(T<<23&4294967295|T>>>9),T=I+(C^A^E)+M[13]+681279174&4294967295,I=C+(T<<4&4294967295|T>>>28),T=E+(I^C^A)+M[0]+3936430074&4294967295,E=I+(T<<11&4294967295|T>>>21),T=A+(E^I^C)+M[3]+3572445317&4294967295,A=E+(T<<16&4294967295|T>>>16),T=C+(A^E^I)+M[6]+76029189&4294967295,C=A+(T<<23&4294967295|T>>>9),T=I+(C^A^E)+M[9]+3654602809&4294967295,I=C+(T<<4&4294967295|T>>>28),T=E+(I^C^A)+M[12]+3873151461&4294967295,E=I+(T<<11&4294967295|T>>>21),T=A+(E^I^C)+M[15]+530742520&4294967295,A=E+(T<<16&4294967295|T>>>16),T=C+(A^E^I)+M[2]+3299628645&4294967295,C=A+(T<<23&4294967295|T>>>9),T=I+(A^(C|~E))+M[0]+4096336452&4294967295,I=C+(T<<6&4294967295|T>>>26),T=E+(C^(I|~A))+M[7]+1126891415&4294967295,E=I+(T<<10&4294967295|T>>>22),T=A+(I^(E|~C))+M[14]+2878612391&4294967295,A=E+(T<<15&4294967295|T>>>17),T=C+(E^(A|~I))+M[5]+4237533241&4294967295,C=A+(T<<21&4294967295|T>>>11),T=I+(A^(C|~E))+M[12]+1700485571&4294967295,I=C+(T<<6&4294967295|T>>>26),T=E+(C^(I|~A))+M[3]+2399980690&4294967295,E=I+(T<<10&4294967295|T>>>22),T=A+(I^(E|~C))+M[10]+4293915773&4294967295,A=E+(T<<15&4294967295|T>>>17),T=C+(E^(A|~I))+M[1]+2240044497&4294967295,C=A+(T<<21&4294967295|T>>>11),T=I+(A^(C|~E))+M[8]+1873313359&4294967295,I=C+(T<<6&4294967295|T>>>26),T=E+(C^(I|~A))+M[15]+4264355552&4294967295,E=I+(T<<10&4294967295|T>>>22),T=A+(I^(E|~C))+M[6]+2734768916&4294967295,A=E+(T<<15&4294967295|T>>>17),T=C+(E^(A|~I))+M[13]+1309151649&4294967295,C=A+(T<<21&4294967295|T>>>11),T=I+(A^(C|~E))+M[4]+4149444226&4294967295,I=C+(T<<6&4294967295|T>>>26),T=E+(C^(I|~A))+M[11]+3174756917&4294967295,E=I+(T<<10&4294967295|T>>>22),T=A+(I^(E|~C))+M[2]+718787259&4294967295,A=E+(T<<15&4294967295|T>>>17),T=C+(E^(A|~I))+M[9]+3951481745&4294967295,_.g[0]=_.g[0]+I&4294967295,_.g[1]=_.g[1]+(A+(T<<21&4294967295|T>>>11))&4294967295,_.g[2]=_.g[2]+A&4294967295,_.g[3]=_.g[3]+E&4294967295}r.prototype.v=function(_,I){I===void 0&&(I=_.length);const C=I-this.blockSize,M=this.C;let A=this.h,E=0;for(;E<I;){if(A==0)for(;E<=C;)i(this,_,E),E+=this.blockSize;if(typeof _=="string"){for(;E<I;)if(M[A++]=_.charCodeAt(E++),A==this.blockSize){i(this,M),A=0;break}}else for(;E<I;)if(M[A++]=_[E++],A==this.blockSize){i(this,M),A=0;break}}this.h=A,this.o+=I},r.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var I=1;I<_.length-8;++I)_[I]=0;I=this.o*8;for(var C=_.length-8;C<_.length;++C)_[C]=I&255,I/=256;for(this.v(_),_=Array(16),I=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)_[I++]=this.g[C]>>>M&255;return _};function s(_,I){var C=l;return Object.prototype.hasOwnProperty.call(C,_)?C[_]:C[_]=I(_)}function o(_,I){this.h=I;const C=[];let M=!0;for(let A=_.length-1;A>=0;A--){const E=_[A]|0;M&&E==I||(C[A]=E,M=!1)}this.g=C}var l={};function u(_){return-128<=_&&_<128?s(_,function(I){return new o([I|0],I<0?-1:0)}):new o([_|0],_<0?-1:0)}function d(_){if(isNaN(_)||!isFinite(_))return v;if(_<0)return F(d(-_));const I=[];let C=1;for(let M=0;_>=C;M++)I[M]=_/C|0,C*=4294967296;return new o(I,0)}function g(_,I){if(_.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(_.charAt(0)=="-")return F(g(_.substring(1),I));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=d(Math.pow(I,8));let M=v;for(let E=0;E<_.length;E+=8){var A=Math.min(8,_.length-E);const T=parseInt(_.substring(E,E+A),I);A<8?(A=d(Math.pow(I,A)),M=M.j(A).add(d(T))):(M=M.j(C),M=M.add(d(T)))}return M}var v=u(0),b=u(1),m=u(16777216);n=o.prototype,n.m=function(){if(R(this))return-F(this).m();let _=0,I=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);_+=(M>=0?M:4294967296+M)*I,I*=4294967296}return _},n.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(N(this))return"0";if(R(this))return"-"+F(this).toString(_);const I=d(Math.pow(_,6));var C=this;let M="";for(;;){const A=q(C,I).g;C=P(C,A.j(I));let E=((C.g.length>0?C.g[0]:C.h)>>>0).toString(_);if(C=A,N(C))return E+M;for(;E.length<6;)E="0"+E;M=E+M}},n.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function N(_){if(_.h!=0)return!1;for(let I=0;I<_.g.length;I++)if(_.g[I]!=0)return!1;return!0}function R(_){return _.h==-1}n.l=function(_){return _=P(this,_),R(_)?-1:N(_)?0:1};function F(_){const I=_.g.length,C=[];for(let M=0;M<I;M++)C[M]=~_.g[M];return new o(C,~_.h).add(b)}n.abs=function(){return R(this)?F(this):this},n.add=function(_){const I=Math.max(this.g.length,_.g.length),C=[];let M=0;for(let A=0;A<=I;A++){let E=M+(this.i(A)&65535)+(_.i(A)&65535),T=(E>>>16)+(this.i(A)>>>16)+(_.i(A)>>>16);M=T>>>16,E&=65535,T&=65535,C[A]=T<<16|E}return new o(C,C[C.length-1]&-2147483648?-1:0)};function P(_,I){return _.add(F(I))}n.j=function(_){if(N(this)||N(_))return v;if(R(this))return R(_)?F(this).j(F(_)):F(F(this).j(_));if(R(_))return F(this.j(F(_)));if(this.l(m)<0&&_.l(m)<0)return d(this.m()*_.m());const I=this.g.length+_.g.length,C=[];for(var M=0;M<2*I;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let A=0;A<_.g.length;A++){const E=this.i(M)>>>16,T=this.i(M)&65535,W=_.i(A)>>>16,ct=_.i(A)&65535;C[2*M+2*A]+=T*ct,L(C,2*M+2*A),C[2*M+2*A+1]+=E*ct,L(C,2*M+2*A+1),C[2*M+2*A+1]+=T*W,L(C,2*M+2*A+1),C[2*M+2*A+2]+=E*W,L(C,2*M+2*A+2)}for(_=0;_<I;_++)C[_]=C[2*_+1]<<16|C[2*_];for(_=I;_<2*I;_++)C[_]=0;return new o(C,0)};function L(_,I){for(;(_[I]&65535)!=_[I];)_[I+1]+=_[I]>>>16,_[I]&=65535,I++}function O(_,I){this.g=_,this.h=I}function q(_,I){if(N(I))throw Error("division by zero");if(N(_))return new O(v,v);if(R(_))return I=q(F(_),I),new O(F(I.g),F(I.h));if(R(I))return I=q(_,F(I)),new O(F(I.g),I.h);if(_.g.length>30){if(R(_)||R(I))throw Error("slowDivide_ only works with positive integers.");for(var C=b,M=I;M.l(_)<=0;)C=Y(C),M=Y(M);var A=J(C,1),E=J(M,1);for(M=J(M,2),C=J(C,2);!N(M);){var T=E.add(M);T.l(_)<=0&&(A=A.add(C),E=T),M=J(M,1),C=J(C,1)}return I=P(_,A.j(I)),new O(A,I)}for(A=v;_.l(I)>=0;){for(C=Math.max(1,Math.floor(_.m()/I.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),E=d(C),T=E.j(I);R(T)||T.l(_)>0;)C-=M,E=d(C),T=E.j(I);N(E)&&(E=b),A=A.add(E),_=P(_,T)}return new O(A,_)}n.B=function(_){return q(this,_).h},n.and=function(_){const I=Math.max(this.g.length,_.g.length),C=[];for(let M=0;M<I;M++)C[M]=this.i(M)&_.i(M);return new o(C,this.h&_.h)},n.or=function(_){const I=Math.max(this.g.length,_.g.length),C=[];for(let M=0;M<I;M++)C[M]=this.i(M)|_.i(M);return new o(C,this.h|_.h)},n.xor=function(_){const I=Math.max(this.g.length,_.g.length),C=[];for(let M=0;M<I;M++)C[M]=this.i(M)^_.i(M);return new o(C,this.h^_.h)};function Y(_){const I=_.g.length+1,C=[];for(let M=0;M<I;M++)C[M]=_.i(M)<<1|_.i(M-1)>>>31;return new o(C,_.h)}function J(_,I){const C=I>>5;I%=32;const M=_.g.length-C,A=[];for(let E=0;E<M;E++)A[E]=I>0?_.i(E+C)>>>I|_.i(E+C+1)<<32-I:_.i(E+C);return new o(A,_.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Zg=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=g,Hs=o}).apply(typeof ep<"u"?ep:typeof self<"u"?self:typeof window<"u"?window:{});var kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $g,Ec,tm,Hl,Mh,em,nm,rm;(function(){var n,t=Object.defineProperty;function e(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof kl=="object"&&kl];for(var f=0;f<a.length;++f){var w=a[f];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=e(this);function i(a,f){if(f)t:{var w=r;a=a.split(".");for(var x=0;x<a.length-1;x++){var z=a[x];if(!(z in w))break t;w=w[z]}a=a[a.length-1],x=w[a],f=f(x),f!=x&&f!=null&&t(w,a,{configurable:!0,writable:!0,value:f})}}i("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(a){return a||function(f){var w=[],x;for(x in f)Object.prototype.hasOwnProperty.call(f,x)&&w.push([x,f[x]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function u(a,f,w){return a.call.apply(a.bind,arguments)}function d(a,f,w){return d=u,d.apply(null,arguments)}function g(a,f){var w=Array.prototype.slice.call(arguments,1);return function(){var x=w.slice();return x.push.apply(x,arguments),a.apply(this,x)}}function v(a,f){function w(){}w.prototype=f.prototype,a.Z=f.prototype,a.prototype=new w,a.prototype.constructor=a,a.Ob=function(x,z,tt){for(var gt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)gt[Nt-2]=arguments[Nt];return f.prototype[z].apply(x,gt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function m(a){const f=a.length;if(f>0){const w=Array(f);for(let x=0;x<f;x++)w[x]=a[x];return w}return[]}function N(a,f){for(let x=1;x<arguments.length;x++){const z=arguments[x];var w=typeof z;if(w=w!="object"?w:z?Array.isArray(z)?"array":w:"null",w=="array"||w=="object"&&typeof z.length=="number"){w=a.length||0;const tt=z.length||0;a.length=w+tt;for(let gt=0;gt<tt;gt++)a[w+gt]=z[gt]}else a.push(z)}}class R{constructor(f,w){this.i=f,this.j=w,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function F(a){o.setTimeout(()=>{throw a},0)}function P(){var a=_;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class L{constructor(){this.h=this.g=null}add(f,w){const x=O.get();x.set(f,w),this.h?this.h.next=x:this.g=x,this.h=x}}var O=new R(()=>new q,a=>a.reset());class q{constructor(){this.next=this.g=this.h=null}set(f,w){this.h=f,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,J=!1,_=new L,I=()=>{const a=Promise.resolve(void 0);Y=()=>{a.then(C)}};function C(){for(var a;a=P();){try{a.h.call(a.g)}catch(w){F(w)}var f=O;f.j(a),f.h<100&&(f.h++,a.next=f.g,f.g=a)}J=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var E=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const w=()=>{};o.addEventListener("test",w,f),o.removeEventListener("test",w,f)}catch{}return a}();function T(a){return/^[\s\xa0]*$/.test(a)}function W(a,f){A.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,f)}v(W,A),W.prototype.init=function(a,f){const w=this.type=a.type,x=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget,f||(w=="mouseover"?f=a.fromElement:w=="mouseout"&&(f=a.toElement)),this.relatedTarget=f,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),Q=0;function X(a,f,w,x,z){this.listener=a,this.proxy=null,this.src=f,this.type=w,this.capture=!!x,this.ha=z,this.key=++Q,this.da=this.fa=!1}function et(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function $(a,f,w){for(const x in a)f.call(w,a[x],x,a)}function at(a,f){for(const w in a)f.call(void 0,a[w],w,a)}function mt(a){const f={};for(const w in a)f[w]=a[w];return f}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(a,f){let w,x;for(let z=1;z<arguments.length;z++){x=arguments[z];for(w in x)a[w]=x[w];for(let tt=0;tt<k.length;tt++)w=k[tt],Object.prototype.hasOwnProperty.call(x,w)&&(a[w]=x[w])}}function G(a){this.src=a,this.g={},this.h=0}G.prototype.add=function(a,f,w,x,z){const tt=a.toString();a=this.g[tt],a||(a=this.g[tt]=[],this.h++);const gt=nt(a,f,x,z);return gt>-1?(f=a[gt],w||(f.fa=!1)):(f=new X(f,this.src,tt,!!x,z),f.fa=w,a.push(f)),f};function Z(a,f){const w=f.type;if(w in a.g){var x=a.g[w],z=Array.prototype.indexOf.call(x,f,void 0),tt;(tt=z>=0)&&Array.prototype.splice.call(x,z,1),tt&&(et(f),a.g[w].length==0&&(delete a.g[w],a.h--))}}function nt(a,f,w,x){for(let z=0;z<a.length;++z){const tt=a[z];if(!tt.da&&tt.listener==f&&tt.capture==!!w&&tt.ha==x)return z}return-1}var ut="closure_lm_"+(Math.random()*1e6|0),ht={};function pt(a,f,w,x,z){if(x&&x.once)return Rt(a,f,w,x,z);if(Array.isArray(f)){for(let tt=0;tt<f.length;tt++)pt(a,f[tt],w,x,z);return null}return w=xt(w),a&&a[ct]?a.J(f,w,l(x)?!!x.capture:!!x,z):Tt(a,f,w,!1,x,z)}function Tt(a,f,w,x,z,tt){if(!f)throw Error("Invalid event type");const gt=l(z)?!!z.capture:!!z;let Nt=ne(a);if(Nt||(a[ut]=Nt=new G(a)),w=Nt.add(f,w,x,gt,tt),w.proxy)return w;if(x=_t(),w.proxy=x,x.src=a,x.listener=w,a.addEventListener)E||(z=gt),z===void 0&&(z=!1),a.addEventListener(f.toString(),x,z);else if(a.attachEvent)a.attachEvent(vt(f.toString()),x);else if(a.addListener&&a.removeListener)a.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return w}function _t(){function a(w){return f.call(a.src,a.listener,w)}const f=rt;return a}function Rt(a,f,w,x,z){if(Array.isArray(f)){for(let tt=0;tt<f.length;tt++)Rt(a,f[tt],w,x,z);return null}return w=xt(w),a&&a[ct]?a.K(f,w,l(x)?!!x.capture:!!x,z):Tt(a,f,w,!0,x,z)}function kt(a,f,w,x,z){if(Array.isArray(f))for(var tt=0;tt<f.length;tt++)kt(a,f[tt],w,x,z);else x=l(x)?!!x.capture:!!x,w=xt(w),a&&a[ct]?(a=a.i,tt=String(f).toString(),tt in a.g&&(f=a.g[tt],w=nt(f,w,x,z),w>-1&&(et(f[w]),Array.prototype.splice.call(f,w,1),f.length==0&&(delete a.g[tt],a.h--)))):a&&(a=ne(a))&&(f=a.g[f.toString()],a=-1,f&&(a=nt(f,w,x,z)),(w=a>-1?f[a]:null)&&Gt(w))}function Gt(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[ct])Z(f.i,a);else{var w=a.type,x=a.proxy;f.removeEventListener?f.removeEventListener(w,x,a.capture):f.detachEvent?f.detachEvent(vt(w),x):f.addListener&&f.removeListener&&f.removeListener(x),(w=ne(f))?(Z(w,a),w.h==0&&(w.src=null,f[ut]=null)):et(a)}}}function vt(a){return a in ht?ht[a]:ht[a]="on"+a}function rt(a,f){if(a.da)a=!0;else{f=new W(f,this);const w=a.listener,x=a.ha||a.src;a.fa&&Gt(a),a=w.call(x,f)}return a}function ne(a){return a=a[ut],a instanceof G?a:null}var qt="__closure_events_fn_"+(Math.random()*1e9>>>0);function xt(a){return typeof a=="function"?a:(a[qt]||(a[qt]=function(f){return a.handleEvent(f)}),a[qt])}function Pt(){M.call(this),this.i=new G(this),this.M=this,this.G=null}v(Pt,M),Pt.prototype[ct]=!0,Pt.prototype.removeEventListener=function(a,f,w,x){kt(this,a,f,w,x)};function Ct(a,f){var w,x=a.G;if(x)for(w=[];x;x=x.G)w.push(x);if(a=a.M,x=f.type||f,typeof f=="string")f=new A(f,a);else if(f instanceof A)f.target=f.target||a;else{var z=f;f=new A(x,a),H(f,z)}z=!0;let tt,gt;if(w)for(gt=w.length-1;gt>=0;gt--)tt=f.g=w[gt],z=Lt(tt,x,!0,f)&&z;if(tt=f.g=a,z=Lt(tt,x,!0,f)&&z,z=Lt(tt,x,!1,f)&&z,w)for(gt=0;gt<w.length;gt++)tt=f.g=w[gt],z=Lt(tt,x,!1,f)&&z}Pt.prototype.N=function(){if(Pt.Z.N.call(this),this.i){var a=this.i;for(const f in a.g){const w=a.g[f];for(let x=0;x<w.length;x++)et(w[x]);delete a.g[f],a.h--}}this.G=null},Pt.prototype.J=function(a,f,w,x){return this.i.add(String(a),f,!1,w,x)},Pt.prototype.K=function(a,f,w,x){return this.i.add(String(a),f,!0,w,x)};function Lt(a,f,w,x){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();let z=!0;for(let tt=0;tt<f.length;++tt){const gt=f[tt];if(gt&&!gt.da&&gt.capture==w){const Nt=gt.listener,Ut=gt.ha||gt.src;gt.fa&&Z(a.i,gt),z=Nt.call(Ut,x)!==!1&&z}}return z&&!x.defaultPrevented}function zt(a,f){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=d(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(a,f||0)}function re(a){a.g=zt(()=>{a.g=null,a.i&&(a.i=!1,re(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class le extends M{constructor(f,w){super(),this.m=f,this.l=w,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:re(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oe(a){M.call(this),this.h=a,this.g={}}v(oe,M);var pe=[];function _e(a){$(a.g,function(f,w){this.g.hasOwnProperty(w)&&Gt(f)},a),a.g={}}oe.prototype.N=function(){oe.Z.N.call(this),_e(this)},oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zt=o.JSON.stringify,he=o.JSON.parse,Ot=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function dn(){}function be(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Te(){A.call(this,"d")}v(Te,A);function Fe(){A.call(this,"c")}v(Fe,A);var En={},Ie=null;function Tr(){return Ie=Ie||new Pt}En.Ia="serverreachability";function qe(a){A.call(this,En.Ia,a)}v(qe,A);function Nn(a){const f=Tr();Ct(f,new qe(f))}En.STAT_EVENT="statevent";function xr(a,f){A.call(this,En.STAT_EVENT,a),this.stat=f}v(xr,A);function de(a){const f=Tr();Ct(f,new xr(f,a))}En.Ja="timingevent";function ie(a,f){A.call(this,En.Ja,a),this.size=f}v(ie,A);function ge(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},f)}function gr(){this.g=!0}gr.prototype.ua=function(){this.g=!1};function fn(a,f,w,x,z,tt){a.info(function(){if(a.g)if(tt){var gt="",Nt=tt.split("&");for(let Mt=0;Mt<Nt.length;Mt++){var Ut=Nt[Mt].split("=");if(Ut.length>1){const Kt=Ut[0];Ut=Ut[1];const Ae=Kt.split("_");gt=Ae.length>=2&&Ae[1]=="type"?gt+(Kt+"="+Ut+"&"):gt+(Kt+"=redacted&")}}}else gt=null;else gt=tt;return"XMLHTTP REQ ("+x+") [attempt "+z+"]: "+f+`
`+w+`
`+gt})}function Pr(a,f,w,x,z,tt,gt){a.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+z+"]: "+f+`
`+w+`
`+tt+" "+gt})}function Cn(a,f,w,x){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+mr(a,w)+(x?" "+x:"")})}function Qt(a,f){a.info(function(){return"TIMEOUT: "+f})}gr.prototype.info=function(){};function mr(a,f){if(!a.g)return f;if(!f)return null;try{const tt=JSON.parse(f);if(tt){for(a=0;a<tt.length;a++)if(Array.isArray(tt[a])){var w=tt[a];if(!(w.length<2)){var x=w[1];if(Array.isArray(x)&&!(x.length<1)){var z=x[0];if(z!="noop"&&z!="stop"&&z!="close")for(let gt=1;gt<x.length;gt++)x[gt]=""}}}}return Zt(tt)}catch{return f}}var Kn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Rn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Qe;function Ge(){}v(Ge,dn),Ge.prototype.g=function(){return new XMLHttpRequest},Qe=new Ge;function pn(a){return encodeURIComponent(String(a))}function ls(a){var f=1;a=a.split(":");const w=[];for(;f>0&&a.length;)w.push(a.shift()),f--;return a.length&&w.push(a.join(":")),w}function In(a,f,w,x){this.j=a,this.i=f,this.l=w,this.S=x||1,this.V=new oe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new rr}function rr(){this.i=null,this.g="",this.h=!1}var ir={},Yn={};function sr(a,f,w){a.M=1,a.A=Yr(Qn(f)),a.u=w,a.R=!0,Xn(a,null)}function Xn(a,f){a.F=Date.now(),Wr(a),a.B=Qn(a.A);var w=a.B,x=a.S;Array.isArray(x)||(x=[String(x)]),Vi(w.i,"t",x),a.C=0,w=a.j.L,a.h=new rr,a.g=sa(a.j,w?f:null,!a.u),a.P>0&&(a.O=new le(d(a.Y,a,a.g),a.P)),f=a.V,w=a.g,x=a.ba;var z="readystatechange";Array.isArray(z)||(z&&(pe[0]=z.toString()),z=pe);for(let tt=0;tt<z.length;tt++){const gt=pt(w,z[tt],x||f.handleEvent,!1,f.h||f);if(!gt)break;f.g[gt.key]=gt}f=a.J?mt(a.J):{},a.u?(a.v||(a.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,f)):(a.v="GET",a.g.ea(a.B,a.v,null,f)),Nn(),fn(a.i,a.v,a.B,a.l,a.S,a.u)}In.prototype.ba=function(a){a=a.target;const f=this.O;f&&or(a)==3?f.j():this.Y(a)},In.prototype.Y=function(a){try{if(a==this.g)t:{const Nt=or(this.g),Ut=this.g.ya(),Mt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||qi(this.g)))){this.K||Nt!=4||Ut==7||(Ut==8||Mt<=0?Nn(3):Nn(2)),fi(this);var f=this.g.ca();this.X=f;var w=Nr(this);if(this.o=f==200,Pr(this.i,this.v,this.B,this.l,this.S,Nt,f),this.o){if(this.U&&!this.L){e:{if(this.g){var x,z=this.g;if((x=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(x)){var tt=x;break e}}tt=null}if(a=tt)Cn(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oo(this,a);else{this.o=!1,this.m=3,de(12),Gr(this),pi(this);break t}}if(this.R){a=!0;let Kt;for(;!this.K&&this.C<w.length;)if(Kt=us(this,w),Kt==Yn){Nt==4&&(this.m=4,de(14),a=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==ir){this.m=4,de(15),Cn(this.i,this.l,w,"[Invalid Chunk]"),a=!1;break}else Cn(this.i,this.l,Kt,null),oo(this,Kt);if(di(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||w.length!=0||this.h.h||(this.m=1,de(16),a=!1),this.o=this.o&&a,!a)Cn(this.i,this.l,w,"[Invalid Chunked Response]"),Gr(this),pi(this);else if(w.length>0&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.aa&&!gt.P&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),mo(gt),gt.P=!0,de(11))}}else Cn(this.i,this.l,w,null),oo(this,w);Nt==4&&Gr(this),this.o&&!this.K&&(Nt==4?yo(this.j,this):(this.o=!1,Wr(this)))}else ra(this.g),f==400&&w.indexOf("Unknown SID")>0?(this.m=3,de(12)):(this.m=0,de(13)),Gr(this),pi(this)}}}catch{}finally{}};function Nr(a){if(!di(a))return a.g.la();const f=qi(a.g);if(f==="")return"";let w="";const x=f.length,z=or(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Gr(a),pi(a),"";a.h.i=new o.TextDecoder}for(let tt=0;tt<x;tt++)a.h.h=!0,w+=a.h.i.decode(f[tt],{stream:!(z&&tt==x-1)});return f.length=0,a.h.g+=w,a.C=0,a.h.g}function di(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function us(a,f){var w=a.C,x=f.indexOf(`
`,w);return x==-1?Yn:(w=Number(f.substring(w,x)),isNaN(w)?ir:(x+=1,x+w>f.length?Yn:(f=f.slice(x,x+w),a.C=x+w,f)))}In.prototype.cancel=function(){this.K=!0,Gr(this)};function Wr(a){a.T=Date.now()+a.H,Mi(a,a.H)}function Mi(a,f){if(a.D!=null)throw Error("WatchDog timer not null");a.D=ge(d(a.aa,a),f)}function fi(a){a.D&&(o.clearTimeout(a.D),a.D=null)}In.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(Qt(this.i,this.B),this.M!=2&&(Nn(),de(17)),Gr(this),this.m=2,pi(this)):Mi(this,this.T-a)};function pi(a){a.j.I==0||a.K||yo(a.j,a)}function Gr(a){fi(a);var f=a.O;f&&typeof f.dispose=="function"&&f.dispose(),a.O=null,_e(a.V),a.g&&(f=a.g,a.g=null,f.abort(),f.dispose())}function oo(a,f){try{var w=a.j;if(w.I!=0&&(w.g==a||co(w.h,a))){if(!a.L&&co(w.h,a)&&w.I==3){try{var x=w.Ba.g.parse(f)}catch{x=null}if(Array.isArray(x)&&x.length==3){var z=x;if(z[0]==0){t:if(!w.v){if(w.g)if(w.g.F+3e3<a.F)Ei(w),Zn(w);else break t;Ai(w),de(18)}}else w.xa=z[1],0<w.xa-w.K&&z[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=ge(d(w.Va,w),6e3));ds(w.h)<=1&&w.ta&&(w.ta=void 0)}else vr(w,11)}else if((a.L||w.g==a)&&Ei(w),!T(f))for(z=w.Ba.g.parse(f),f=0;f<z.length;f++){let Mt=z[f];const Kt=Mt[0];if(!(Kt<=w.K))if(w.K=Kt,Mt=Mt[1],w.I==2)if(Mt[0]=="c"){w.M=Mt[1],w.ba=Mt[2];const Ae=Mt[3];Ae!=null&&(w.ka=Ae,w.j.info("VER="+w.ka));const Pe=Mt[4];Pe!=null&&(w.za=Pe,w.j.info("SVER="+w.za));const Ce=Mt[5];Ce!=null&&typeof Ce=="number"&&Ce>0&&(x=1.5*Ce,w.O=x,w.j.info("backChannelRequestTimeoutMs_="+x)),x=w;const Ue=a.g;if(Ue){const Ye=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ye){var tt=x.h;tt.g||Ye.indexOf("spdy")==-1&&Ye.indexOf("quic")==-1&&Ye.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(fs(tt,tt.h),tt.h=null))}if(x.G){const $n=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;$n&&(x.wa=$n,fe(x.J,x.G,$n))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-a.F,w.j.info("Handshake RTT: "+w.T+"ms")),x=w;var gt=a;if(x.na=vo(x,x.L?x.ba:null,x.W),gt.L){Ko(x.h,gt);var Nt=gt,Ut=x.O;Ut&&(Nt.H=Ut),Nt.D&&(fi(Nt),Wr(Nt)),x.g=gt}else ia(x);w.i.length>0&&ms(w)}else Mt[0]!="stop"&&Mt[0]!="close"||vr(w,7);else w.I==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?vr(w,7):gs(w):Mt[0]!="noop"&&w.l&&w.l.qa(Mt),w.A=0)}}Nn(4)}catch{}}var hs=class{constructor(a,f){this.g=a,this.map=f}};function ao(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Go(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ds(a){return a.h?1:a.g?a.g.size:0}function co(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function fs(a,f){a.g?a.g.add(f):a.h=f}function Ko(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}ao.prototype.cancel=function(){if(this.i=ji(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function ji(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const w of a.g.values())f=f.concat(w.G);return f}return m(a.i)}var Yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ke(a,f){if(a){a=a.split("&");for(let w=0;w<a.length;w++){const x=a[w].indexOf("=");let z,tt=null;x>=0?(z=a[w].substring(0,x),tt=a[w].substring(x+1)):z=a[w],f(z,tt?decodeURIComponent(tt.replace(/\+/g," ")):"")}}}function yr(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;a instanceof yr?(this.l=a.l,gi(this,a.j),this.o=a.o,this.g=a.g,Kr(this,a.u),this.h=a.h,lo(this,Bi(a.i)),this.m=a.m):a&&(f=String(a).match(Yo))?(this.l=!1,gi(this,f[1]||"",!0),this.o=an(f[2]||""),this.g=an(f[3]||"",!0),Kr(this,f[4]),this.h=an(f[5]||"",!0),lo(this,f[6]||"",!0),this.m=an(f[7]||"")):(this.l=!1,this.i=new Qr(null,this.l))}yr.prototype.toString=function(){const a=[];var f=this.j;f&&a.push(Xr(f,Qo,!0),":");var w=this.g;return(w||f=="file")&&(a.push("//"),(f=this.o)&&a.push(Xr(f,Qo,!0),"@"),a.push(pn(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&a.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&a.push("/"),a.push(Xr(w,w.charAt(0)=="/"?Qa:Jo,!0))),(w=this.i.toString())&&a.push("?",w),(w=this.m)&&a.push("#",Xr(w,Ja)),a.join("")},yr.prototype.resolve=function(a){const f=Qn(this);let w=!!a.j;w?gi(f,a.j):w=!!a.o,w?f.o=a.o:w=!!a.g,w?f.g=a.g:w=a.u!=null;var x=a.h;if(w)Kr(f,a.u);else if(w=!!a.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var z=f.h.lastIndexOf("/");z!=-1&&(x=f.h.slice(0,z+1)+x)}if(z=x,z==".."||z==".")x="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){x=z.lastIndexOf("/",0)==0,z=z.split("/");const tt=[];for(let gt=0;gt<z.length;){const Nt=z[gt++];Nt=="."?x&&gt==z.length&&tt.push(""):Nt==".."?((tt.length>1||tt.length==1&&tt[0]!="")&&tt.pop(),x&&gt==z.length&&tt.push("")):(tt.push(Nt),x=!0)}x=tt.join("/")}else x=z}return w?f.h=x:w=a.i.toString()!=="",w?lo(f,Bi(a.i)):w=!!a.m,w&&(f.m=a.m),f};function Qn(a){return new yr(a)}function gi(a,f,w){a.j=w?an(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Kr(a,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);a.u=f}else a.u=null}function lo(a,f,w){f instanceof Qr?(a.i=f,Sn(a.i,a.l)):(w||(f=Xr(f,Zo)),a.i=new Qr(f,a.l))}function fe(a,f,w){a.i.set(f,w)}function Yr(a){return fe(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function an(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Xr(a,f,w){return typeof a=="string"?(a=encodeURI(a).replace(f,Xo),w&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Xo(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Qo=/[#\/\?@]/g,Jo=/[#\?:]/g,Qa=/[#\?]/g,Zo=/[#\?@]/g,Ja=/#/g;function Qr(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function Jr(a){a.g||(a.g=new Map,a.h=0,a.i&&Ke(a.i,function(f,w){a.add(decodeURIComponent(f.replace(/\+/g," ")),w)}))}n=Qr.prototype,n.add=function(a,f){Jr(this),this.i=null,a=Zr(this,a);let w=this.g.get(a);return w||this.g.set(a,w=[]),w.push(f),this.h+=1,this};function $o(a,f){Jr(a),f=Zr(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function ta(a,f){return Jr(a),f=Zr(a,f),a.g.has(f)}n.forEach=function(a,f){Jr(this),this.g.forEach(function(w,x){w.forEach(function(z){a.call(f,z,x,this)},this)},this)};function Cr(a,f){Jr(a);let w=[];if(typeof f=="string")ta(a,f)&&(w=w.concat(a.g.get(Zr(a,f))));else for(a=Array.from(a.g.values()),f=0;f<a.length;f++)w=w.concat(a[f]);return w}n.set=function(a,f){return Jr(this),this.i=null,a=Zr(this,a),ta(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},n.get=function(a,f){return a?(a=Cr(this,a),a.length>0?String(a[0]):f):f};function Vi(a,f,w){$o(a,f),w.length>0&&(a.i=null,a.g.set(Zr(a,f),m(w)),a.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(let x=0;x<f.length;x++){var w=f[x];const z=pn(w);w=Cr(this,w);for(let tt=0;tt<w.length;tt++){let gt=z;w[tt]!==""&&(gt+="="+pn(w[tt])),a.push(gt)}}return this.i=a.join("&")};function Bi(a){const f=new Qr;return f.i=a.i,a.g&&(f.g=new Map(a.g),f.h=a.h),f}function Zr(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function Sn(a,f){f&&!a.j&&(Jr(a),a.i=null,a.g.forEach(function(w,x){const z=x.toLowerCase();x!=z&&($o(this,x),Vi(this,z,w))},a)),a.j=f}function Za(a,f){const w=new gr;if(o.Image){const x=new Image;x.onload=g(Wt,w,"TestLoadImage: loaded",!0,f,x),x.onerror=g(Wt,w,"TestLoadImage: error",!1,f,x),x.onabort=g(Wt,w,"TestLoadImage: abort",!1,f,x),x.ontimeout=g(Wt,w,"TestLoadImage: timeout",!1,f,x),o.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=a}else f(!1)}function ea(a,f){const w=new gr,x=new AbortController,z=setTimeout(()=>{x.abort(),Wt(w,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:x.signal}).then(tt=>{clearTimeout(z),tt.ok?Wt(w,"TestPingServer: ok",!0,f):Wt(w,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(z),Wt(w,"TestPingServer: error",!1,f)})}function Wt(a,f,w,x,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),x(w)}catch{}}function $a(){this.g=new Ot}function uo(a){this.i=a.Sb||null,this.h=a.ab||!1}v(uo,dn),uo.prototype.g=function(){return new Jn(this.i,this.h)};function Jn(a,f){Pt.call(this),this.H=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Jn,Pt),n=Jn.prototype,n.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=f,this.readyState=1,Rr(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(f.body=a),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},n.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Rr(this)),this.g&&(this.readyState=3,Rr(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ho(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function ho(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}n.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?mi(this):Rr(this),this.readyState==3&&ho(this)}},n.Oa=function(a){this.g&&(this.response=this.responseText=a,mi(this))},n.Na=function(a){this.g&&(this.response=a,mi(this))},n.ga=function(){this.g&&mi(this)};function mi(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Rr(a)}n.setRequestHeader=function(a,f){this.A.append(a,f)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var w=f.next();!w.done;)w=w.value,a.push(w[0]+": "+w[1]),w=f.next();return a.join(`\r
`)};function Rr(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Jn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function ps(a){let f="";return $(a,function(w,x){f+=x,f+=":",f+=w,f+=`\r
`}),f}function fo(a,f,w){t:{for(x in w){var x=!1;break t}x=!0}x||(w=ps(w),typeof a=="string"?w!=null&&pn(w):fe(a,f,w))}function je(a){Pt.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(je,Pt);var tc=/^https?$/i,po=["POST","PUT"];n=je.prototype,n.Fa=function(a){this.H=a},n.ea=function(a,f,w,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Qe.g(),this.g.onreadystatechange=b(d(this.Ca,this));try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(tt){yi(this,tt);return}if(a=w||"",w=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var z in x)w.set(z,x[z]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const tt of x.keys())w.set(tt,x.get(tt));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(w.keys()).find(tt=>tt.toLowerCase()=="content-type"),z=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(po,f,void 0)>=0)||x||z||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,gt]of w)this.g.setRequestHeader(tt,gt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(tt){yi(this,tt)}};function yi(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.o=5,$r(a),Lr(a)}function $r(a){a.A||(a.A=!0,Ct(a,"complete"),Ct(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,Ct(this,"complete"),Ct(this,"abort"),Lr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lr(this,!0)),je.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?na(this):this.Xa())},n.Xa=function(){na(this)};function na(a){if(a.h&&typeof s<"u"){if(a.v&&or(a)==4)setTimeout(a.Ca.bind(a),0);else if(Ct(a,"readystatechange"),or(a)==4){a.h=!1;try{const tt=a.ca();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break t;default:f=!1}var w;if(!(w=f)){var x;if(x=tt===0){let gt=String(a.D).match(Yo)[1]||null;!gt&&o.self&&o.self.location&&(gt=o.self.location.protocol.slice(0,-1)),x=!tc.test(gt?gt.toLowerCase():"")}w=x}if(w)Ct(a,"complete"),Ct(a,"success");else{a.o=6;try{var z=or(a)>2?a.g.statusText:""}catch{z=""}a.l=z+" ["+a.ca()+"]",$r(a)}}finally{Lr(a)}}}}function Lr(a,f){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const w=a.g;a.g=null,f||Ct(a,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function or(a){return a.g?a.g.readyState:0}n.ca=function(){try{return or(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),he(f)}};function qi(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function ra(a){const f={};a=(a.g&&or(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<a.length;x++){if(T(a[x]))continue;var w=ls(a[x]);const z=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const tt=f[z]||[];f[z]=tt,tt.push(w)}at(f,function(x){return x.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(a,f,w){return w&&w.internalChannelParams&&w.internalChannelParams[a]||f}function go(a){this.za=0,this.i=[],this.j=new gr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,a),this.Za=vi("retryDelaySeedMs",1e4,a),this.Ta=vi("forwardChannelMaxRetries",2,a),this.va=vi("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new ao(a&&a.concurrentRequestLimit),this.Ba=new $a,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=go.prototype,n.ka=8,n.I=1,n.connect=function(a,f,w,x){de(0),this.W=a,this.H=f||{},w&&x!==void 0&&(this.H.OSID=w,this.H.OAID=x),this.F=this.X,this.J=vo(this,null,this.W),ms(this)};function gs(a){if(kr(a),a.I==3){var f=a.V++,w=Qn(a.J);if(fe(w,"SID",a.M),fe(w,"RID",f),fe(w,"TYPE","terminate"),ti(a,w),f=new In(a,a.j,f),f.M=2,f.A=Yr(Qn(w)),w=!1,o.navigator&&o.navigator.sendBeacon)try{w=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!w&&o.Image&&(new Image().src=f.A,w=!0),w||(f.g=sa(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Wr(f)}vs(a)}function Zn(a){a.g&&(mo(a),a.g.cancel(),a.g=null)}function kr(a){Zn(a),a.v&&(o.clearTimeout(a.v),a.v=null),Ei(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function ms(a){if(!Go(a.h)&&!a.m){a.m=!0;var f=a.Ea;Y||I(),J||(Y(),J=!0),_.add(f,a),a.D=0}}function wi(a,f){return ds(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=f.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=ge(d(a.Ea,a,f),Ui(a,a.D)),a.D++,!0)}n.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const z=new In(this,this.j,a);let tt=this.o;if(this.U&&(tt?(tt=mt(tt),H(tt,this.U)):tt=this.U),this.u!==null||this.R||(z.J=tt,tt=null),this.S)t:{for(var f=0,w=0;w<this.i.length;w++){e:{var x=this.i[w];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(f+=x,f>4096){f=w;break t}if(f===4096||w===this.i.length-1){f=w+1;break t}}f=1e3}else f=1e3;f=bi(this,z,f),w=Qn(this.J),fe(w,"RID",a),fe(w,"CVER",22),this.G&&fe(w,"X-HTTP-Session-Id",this.G),ti(this,w),tt&&(this.R?f="headers="+pn(ps(tt))+"&"+f:this.u&&fo(w,this.u,tt)),fs(this.h,z),this.Ra&&fe(w,"TYPE","init"),this.S?(fe(w,"$req",f),fe(w,"SID","null"),z.U=!0,sr(z,w,null)):sr(z,w,f),this.I=2}}else this.I==3&&(a?ar(this,a):this.i.length==0||Go(this.h)||ar(this))};function ar(a,f){var w;f?w=f.l:w=a.V++;const x=Qn(a.J);fe(x,"SID",a.M),fe(x,"RID",w),fe(x,"AID",a.K),ti(a,x),a.u&&a.o&&fo(x,a.u,a.o),w=new In(a,a.j,w,a.D+1),a.u===null&&(w.J=a.o),f&&(a.i=f.G.concat(a.i)),f=bi(a,w,1e3),w.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),fs(a.h,w),sr(w,x,f)}function ti(a,f){a.H&&$(a.H,function(w,x){fe(f,x,w)}),a.l&&$({},function(w,x){fe(f,x,w)})}function bi(a,f,w){w=Math.min(a.i.length,w);const x=a.l?d(a.l.Ka,a.l,a):null;t:{var z=a.i;let Nt=-1;for(;;){const Ut=["count="+w];Nt==-1?w>0?(Nt=z[0].g,Ut.push("ofs="+Nt)):Nt=0:Ut.push("ofs="+Nt);let Mt=!0;for(let Kt=0;Kt<w;Kt++){var tt=z[Kt].g;const Ae=z[Kt].map;if(tt-=Nt,tt<0)Nt=Math.max(0,z[Kt].g-100),Mt=!1;else try{tt="req"+tt+"_"||"";try{var gt=Ae instanceof Map?Ae:Object.entries(Ae);for(const[Pe,Ce]of gt){let Ue=Ce;l(Ce)&&(Ue=Zt(Ce)),Ut.push(tt+Pe+"="+encodeURIComponent(Ue))}}catch(Pe){throw Ut.push(tt+"type="+encodeURIComponent("_badmap")),Pe}}catch{x&&x(Ae)}}if(Mt){gt=Ut.join("&");break t}}gt=void 0}return a=a.i.splice(0,w),f.G=a,gt}function ia(a){if(!a.g&&!a.v){a.Y=1;var f=a.Da;Y||I(),J||(Y(),J=!0),_.add(f,a),a.A=0}}function Ai(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=ge(d(a.Da,a),Ui(a,a.A)),a.A++,!0)}n.Da=function(){if(this.v=null,ys(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=ge(d(this.Wa,this),a)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,de(10),Zn(this),ys(this))};function mo(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function ys(a){a.g=new In(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var f=Qn(a.na);fe(f,"RID","rpc"),fe(f,"SID",a.M),fe(f,"AID",a.K),fe(f,"CI",a.F?"0":"1"),!a.F&&a.ia&&fe(f,"TO",a.ia),fe(f,"TYPE","xmlhttp"),ti(a,f),a.u&&a.o&&fo(f,a.u,a.o),a.O&&(a.g.H=a.O);var w=a.g;a=a.ba,w.M=1,w.A=Yr(Qn(f)),w.u=null,w.R=!0,Xn(w,a)}n.Va=function(){this.C!=null&&(this.C=null,Zn(this),Ai(this),de(19))};function Ei(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function yo(a,f){var w=null;if(a.g==f){Ei(a),mo(a),a.g=null;var x=2}else if(co(a.h,f))w=f.G,Ko(a.h,f),x=1;else return;if(a.I!=0){if(f.o)if(x==1){w=f.u?f.u.length:0,f=Date.now()-f.F;var z=a.D;x=Tr(),Ct(x,new ie(x,w)),ms(a)}else ia(a);else if(z=f.m,z==3||z==0&&f.X>0||!(x==1&&wi(a,f)||x==2&&Ai(a)))switch(w&&w.length>0&&(f=a.h,f.i=f.i.concat(w)),z){case 1:vr(a,5);break;case 4:vr(a,10);break;case 3:vr(a,6);break;default:vr(a,2)}}}function Ui(a,f){let w=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(w*=2),w*f}function vr(a,f){if(a.j.info("Error code "+f),f==2){var w=d(a.bb,a),x=a.Ua;const z=!x;x=new yr(x||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||gi(x,"https"),Yr(x),z?Za(x.toString(),w):ea(x.toString(),w)}else de(2);a.I=0,a.l&&a.l.pa(f),vs(a),kr(a)}n.bb=function(a){a?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function vs(a){if(a.I=0,a.ja=[],a.l){const f=ji(a.h);(f.length!=0||a.i.length!=0)&&(N(a.ja,f),N(a.ja,a.i),a.h.i.length=0,m(a.i),a.i.length=0),a.l.oa()}}function vo(a,f,w){var x=w instanceof yr?Qn(w):new yr(w);if(x.g!="")f&&(x.g=f+"."+x.g),Kr(x,x.u);else{var z=o.location;x=z.protocol,f=f?f+"."+z.hostname:z.hostname,z=+z.port;const tt=new yr(null);x&&gi(tt,x),f&&(tt.g=f),z&&Kr(tt,z),w&&(tt.h=w),x=tt}return w=a.G,f=a.wa,w&&f&&fe(x,w,f),fe(x,"VER",a.ka),ti(a,x),x}function sa(a,f,w){if(f&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Aa&&!a.ma?new je(new uo({ab:w})):new je(a.ma),f.Fa(a.L),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hi(){}n=Hi.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Fr(){}Fr.prototype.g=function(a,f){return new gn(a,f)};function gn(a,f){Pt.call(this),this.g=new go(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(a?a["X-WebChannel-Client-Profile"]=f.sa:a={"X-WebChannel-Client-Profile":f.sa}),this.g.U=a,(a=f&&f.Qb)&&!T(a)&&(this.g.u=a),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!T(f)&&(this.g.G=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new p(this)}v(gn,Pt),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){gs(this.g)},gn.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var w={};w.__data__=a,a=w}else this.v&&(w={},w.__data__=Zt(a),a=w);f.i.push(new hs(f.Ya++,a)),f.I==3&&ms(f)},gn.prototype.N=function(){this.g.l=null,delete this.j,gs(this.g),delete this.g,gn.Z.N.call(this)};function ei(a){Te.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){t:{for(const w in f){a=w;break t}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}v(ei,Te);function ws(){Fe.call(this),this.status=1}v(ws,Fe);function p(a){this.g=a}v(p,Hi),p.prototype.ra=function(){Ct(this.g,"a")},p.prototype.qa=function(a){Ct(this.g,new ei(a))},p.prototype.pa=function(a){Ct(this.g,new ws)},p.prototype.oa=function(){Ct(this.g,"b")},Fr.prototype.createWebChannel=Fr.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,rm=function(){return new Fr},nm=function(){return Tr()},em=En,Mh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Kn.NO_ERROR=0,Kn.TIMEOUT=8,Kn.HTTP_ERROR=6,Hl=Kn,Rn.COMPLETE="complete",tm=Rn,be.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",Pt.prototype.listen=Pt.prototype.J,Ec=be,je.prototype.listenOnce=je.prototype.K,je.prototype.getLastError=je.prototype.Ha,je.prototype.getLastErrorCode=je.prototype.ya,je.prototype.getStatus=je.prototype.ca,je.prototype.getResponseJson=je.prototype.La,je.prototype.getResponseText=je.prototype.la,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Fa,$g=je}).apply(typeof kl<"u"?kl:typeof self<"u"?self:typeof window<"u"?window:{});const np="@firebase/firestore",rp="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=new md("@firebase/firestore");function Ea(){return Vo.logLevel}function Vt(n,...t){if(Vo.logLevel<=ye.DEBUG){const e=t.map(wd);Vo.debug(`Firestore (${za}): ${n}`,...e)}}function is(n,...t){if(Vo.logLevel<=ye.ERROR){const e=t.map(wd);Vo.error(`Firestore (${za}): ${n}`,...e)}}function Da(n,...t){if(Vo.logLevel<=ye.WARN){const e=t.map(wd);Vo.warn(`Firestore (${za}): ${n}`,...e)}}function wd(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(n,t,e){let r="Unexpected state";typeof t=="string"?r=t:e=t,im(n,r,e)}function im(n,t,e){let r=`FIRESTORE (${za}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{r+=" CONTEXT: "+JSON.stringify(e)}catch{r+=" CONTEXT: "+e}throw is(r),new Error(r)}function Ne(n,t,e,r){let i="Unexpected state";typeof e=="string"?i=e:r=e,n||im(t,i,r)}function ce(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ht extends cs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ey{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Hn.UNAUTHENTICATED))}shutdown(){}}class ny{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class ry{constructor(t){this.t=t,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ne(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,e(u)):Promise.resolve();let s=new es;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new es,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new es)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string",31837,{l:r}),new sm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ne(t===null||typeof t=="string",2055,{h:t}),new Hn(t)}}class iy{constructor(t,e,r){this.P=t,this.T=e,this.I=r,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sy{constructor(t,e,r){this.P=t,this.T=e,this.I=r}getToken(){return Promise.resolve(new iy(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ip{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oy{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ir(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Ne(this.o===void 0,3512);const r=s=>{s.error!=null&&Vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Vt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{Vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ip(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ne(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new ip(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=ay(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<e&&(r+=t.charAt(i[s]%62))}return r}}function ve(n,t){return n<t?-1:n>t?1:0}function jh(n,t){const e=Math.min(n.length,t.length);for(let r=0;r<e;r++){const i=n.charAt(r),s=t.charAt(r);if(i!==s)return fh(i)===fh(s)?ve(i,s):fh(i)?1:-1}return ve(n.length,t.length)}const cy=55296,ly=57343;function fh(n){const t=n.charCodeAt(0);return t>=cy&&t<=ly}function Oa(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="__name__";class Ti{constructor(t,e,r){e===void 0?e=0:e>t.length&&ee(637,{offset:e,range:t.length}),r===void 0?r=t.length-e:r>t.length-e&&ee(1746,{length:r,range:t.length-e}),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const s=Ti.compareSegments(t.get(i),e.get(i));if(s!==0)return s}return ve(t.length,e.length)}static compareSegments(t,e){const r=Ti.isNumericId(t),i=Ti.isNumericId(e);return r&&!i?-1:!r&&i?1:r&&i?Ti.extractNumericId(t).compare(Ti.extractNumericId(e)):jh(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hs.fromString(t.substring(4,t.length-2))}}class He extends Ti{construct(t,e,r){return new He(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ht(St.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new He(e)}static emptyPath(){return new He([])}}const uy=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends Ti{construct(t,e,r){return new Dn(t,e,r)}static isValidIdentifier(t){return uy.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sp}static keyField(){return new Dn([sp])}static fromServerFormat(t){const e=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ht(St.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let o=!1;for(;i<t.length;){const l=t[i];if(l==="\\"){if(i+1===t.length)throw new Ht(St.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Ht(St.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Ht(St.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Dn(e)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t){this.path=t}static fromPath(t){return new Xt(He.fromString(t))}static fromName(t){return new Xt(He.fromString(t).popFirst(5))}static empty(){return new Xt(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&He.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return He.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Xt(new He(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(n,t,e){if(!e)throw new Ht(St.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function hy(n,t,e,r){if(t===!0&&r===!0)throw new Ht(St.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function op(n){if(!Xt.isDocumentKey(n))throw new Ht(St.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ap(n){if(Xt.isDocumentKey(n))throw new Ht(St.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function am(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ad(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":ee(12329,{type:typeof n})}function ss(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ht(St.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Ad(n);throw new Ht(St.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(n,t){const e={typeString:n};return t&&(e.value=t),e}function $c(n,t){if(!am(n))throw new Ht(St.INVALID_ARGUMENT,"JSON must be an object");let e;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in n)){e=`JSON missing required field: '${r}'`;break}const o=n[r];if(i&&typeof o!==i){e=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){e=`Expected '${r}' field to equal '${s.value}'`;break}}if(e)throw new Ht(St.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=-62135596800,lp=1e6;class ze{static now(){return ze.fromMillis(Date.now())}static fromDate(t){return ze.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor((t-1e3*e)*lp);return new ze(e,r)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ht(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ht(St.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<cp)throw new Ht(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ht(St.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lp}_compareTo(t){return this.seconds===t.seconds?ve(this.nanoseconds,t.nanoseconds):ve(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($c(t,ze._jsonSchema))return new ze(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-cp;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:hn("string",ze._jsonSchemaVersion),seconds:hn("number"),nanoseconds:hn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(t){return new se(t)}static min(){return new se(new ze(0,0))}static max(){return new se(new ze(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=-1;function dy(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new ze(e+1,0):new ze(e,r));return new Ks(i,Xt.empty(),t)}function fy(n){return new Ks(n.readTime,n.key,Bc)}class Ks{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Ks(se.min(),Xt.empty(),Bc)}static max(){return new Ks(se.max(),Xt.empty(),Bc)}}function py(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Xt.comparator(n.documentKey,t.documentKey),e!==0?e:ve(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class my{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(n){if(n.code!==St.FAILED_PRECONDITION||n.message!==gy)throw n;Vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Et((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(e,s).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Et?e:Et.resolve(e)}catch(e){return Et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Et.reject(e)}static resolve(t){return new Et((e,r)=>{e(t)})}static reject(t){return new Et((e,r)=>{r(t)})}static waitFor(t){return new Et((e,r)=>{let i=0,s=0,o=!1;t.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&e()},u=>r(u))}),o=!0,s===i&&e()})}static or(t){let e=Et.resolve(!1);for(const r of t)e=e.next(i=>i?Et.resolve(i):r());return e}static forEach(t,e){const r=[];return t.forEach((i,s)=>{r.push(e.call(this,i,s))}),this.waitFor(r)}static mapArray(t,e){return new Et((r,i)=>{const s=t.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const d=u;e(t[d]).next(g=>{o[d]=g,++l,l===s&&r(o)},g=>i(g))}})}static doWhile(t,e){return new Et((r,i)=>{const s=()=>{t()===!0?e().next(()=>{s()},i):r()};s()})}}function yy(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ga(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>e.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Au.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=-1;function Eu(n){return n==null}function eu(n){return n===0&&1/n==-1/0}function vy(n){return typeof n=="number"&&Number.isInteger(n)&&!eu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="";function wy(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=up(t)),t=by(n.get(e),t);return up(t)}function by(n,t){let e=t;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":e+="";break;case cm:e+="";break;default:e+=s}}return e}function up(n){return n+cm+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function eo(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function lm(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,e){this.comparator=t,this.root=e||Fn.EMPTY}insert(t,e){return new Xe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(t){return new Xe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(r===0)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fl(this.root,t,this.comparator,!0)}}class Fl{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?r(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fn{constructor(t,e,r,i,s){this.key=t,this.value=e,this.color=r??Fn.RED,this.left=i??Fn.EMPTY,this.right=s??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,s){return new Fn(t??this.key,e??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,r),null):s===0?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),e(t,i.key)===0){if(i.right.isEmpty())return Fn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ee(27949);return t+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(t,e,r,i,s){return this}insert(t,e,r){return new Fn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.comparator=t,this.data=new Xe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new dp(this.data.getIterator())}getIteratorFrom(t){return new dp(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof An)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new An(this.comparator);return e.data=t,e}}class dp{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t){this.fields=t,t.sort(Dn.comparator)}static empty(){return new Sr([])}unionWith(t){let e=new An(Dn.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Sr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Oa(this.fields,t.fields,(e,r)=>e.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new um("Invalid base64 string: "+s):s}}(t);return new Mn(e)}static fromUint8Array(t){const e=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new Mn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ve(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const Ay=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(n){if(Ne(!!n,39018),typeof n=="string"){let t=0;const e=Ay.exec(n);if(Ne(!!e,46558,{timestamp:n}),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:nn(n.seconds),nanos:nn(n.nanos)}}function nn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Xs(n){return typeof n=="string"?Mn.fromBase64String(n):Mn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="server_timestamp",dm="__type__",fm="__previous_value__",pm="__local_write_time__";function Id(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[dm])==null?void 0:r.stringValue)===hm}function Iu(n){const t=n.mapValue.fields[fm];return Id(t)?Iu(t):t}function qc(n){const t=Ys(n.mapValue.fields[pm].timestampValue);return new ze(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(t,e,r,i,s,o,l,u,d,g){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=g}}const nu="(default)";class Uc{constructor(t,e){this.projectId=t,this.database=e||nu}static empty(){return new Uc("","")}get isDefaultDatabase(){return this.database===nu}isEqual(t){return t instanceof Uc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="__type__",mm="__max__",Dl={mapValue:{fields:{__type__:{stringValue:mm}}}},ym="__vector__",ru="value";function Qs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Id(n)?4:Sy(n)?9007199254740991:Iy(n)?10:11:ee(28295,{value:n})}function Fi(n,t){if(n===t)return!0;const e=Qs(n);if(e!==Qs(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return qc(n).isEqual(qc(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ys(i.timestampValue),l=Ys(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(i,s){return Xs(i.bytesValue).isEqual(Xs(s.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,s){return nn(i.geoPointValue.latitude)===nn(s.geoPointValue.latitude)&&nn(i.geoPointValue.longitude)===nn(s.geoPointValue.longitude)}(n,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return nn(i.integerValue)===nn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=nn(i.doubleValue),l=nn(s.doubleValue);return o===l?eu(o)===eu(l):isNaN(o)&&isNaN(l)}return!1}(n,t);case 9:return Oa(n.arrayValue.values||[],t.arrayValue.values||[],Fi);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(hp(o)!==hp(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Fi(o[u],l[u])))return!1;return!0}(n,t);default:return ee(52216,{left:n})}}function Hc(n,t){return(n.values||[]).find(e=>Fi(e,t))!==void 0}function Ma(n,t){if(n===t)return 0;const e=Qs(n),r=Qs(t);if(e!==r)return ve(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return ve(n.booleanValue,t.booleanValue);case 2:return function(s,o){const l=nn(s.integerValue||s.doubleValue),u=nn(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(n,t);case 3:return fp(n.timestampValue,t.timestampValue);case 4:return fp(qc(n),qc(t));case 5:return jh(n.stringValue,t.stringValue);case 6:return function(s,o){const l=Xs(s),u=Xs(o);return l.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const g=ve(l[d],u[d]);if(g!==0)return g}return ve(l.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const l=ve(nn(s.latitude),nn(o.latitude));return l!==0?l:ve(nn(s.longitude),nn(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return pp(n.arrayValue,t.arrayValue);case 10:return function(s,o){var b,m,N,R;const l=s.fields||{},u=o.fields||{},d=(b=l[ru])==null?void 0:b.arrayValue,g=(m=u[ru])==null?void 0:m.arrayValue,v=ve(((N=d==null?void 0:d.values)==null?void 0:N.length)||0,((R=g==null?void 0:g.values)==null?void 0:R.length)||0);return v!==0?v:pp(d,g)}(n.mapValue,t.mapValue);case 11:return function(s,o){if(s===Dl.mapValue&&o===Dl.mapValue)return 0;if(s===Dl.mapValue)return 1;if(o===Dl.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),d=o.fields||{},g=Object.keys(d);u.sort(),g.sort();for(let v=0;v<u.length&&v<g.length;++v){const b=jh(u[v],g[v]);if(b!==0)return b;const m=Ma(l[u[v]],d[g[v]]);if(m!==0)return m}return ve(u.length,g.length)}(n.mapValue,t.mapValue);default:throw ee(23264,{he:e})}}function fp(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return ve(n,t);const e=Ys(n),r=Ys(t),i=ve(e.seconds,r.seconds);return i!==0?i:ve(e.nanos,r.nanos)}function pp(n,t){const e=n.values||[],r=t.values||[];for(let i=0;i<e.length&&i<r.length;++i){const s=Ma(e[i],r[i]);if(s)return s}return ve(e.length,r.length)}function ja(n){return Vh(n)}function Vh(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const r=Ys(e);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Xs(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Xt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let r="[",i=!0;for(const s of e.values||[])i?i=!1:r+=",",r+=Vh(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(e){const r=Object.keys(e.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Vh(e.fields[o])}`;return i+"}"}(n.mapValue):ee(61005,{value:n})}function zl(n){switch(Qs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Iu(n);return t?16+zl(t):16;case 5:return 2*n.stringValue.length;case 6:return Xs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+zl(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return eo(r.fields,(s,o)=>{i+=s.length+zl(o)}),i}(n.mapValue);default:throw ee(13486,{value:n})}}function Bh(n){return!!n&&"integerValue"in n}function Sd(n){return!!n&&"arrayValue"in n}function gp(n){return!!n&&"nullValue"in n}function mp(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wl(n){return!!n&&"mapValue"in n}function Iy(n){var e,r;return((r=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[gm])==null?void 0:r.stringValue)===ym}function Pc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return eo(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=Pc(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Pc(n.arrayValue.values[e]);return t}return{...n}}function Sy(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===mm}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t){this.value=t}static empty(){return new fr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!Wl(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pc(e)}setAll(t){let e=Dn.emptyPath(),r={},i=[];t.forEach((o,l)=>{if(!e.isImmediateParentOf(l)){const u=this.getFieldsMap(e);this.applyChanges(u,r,i),r={},i=[],e=l.popLast()}o?r[l.lastSegment()]=Pc(o):i.push(l.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,r,i)}delete(t){const e=this.field(t.popLast());Wl(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Fi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];Wl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){eo(e,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new fr(Pc(this.value))}}function vm(n){const t=[];return eo(n.fields,(e,r)=>{const i=new Dn([e]);if(Wl(r)){const s=vm(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new Sr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t,e,r,i,s,o,l){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(t){return new zn(t,0,se.min(),se.min(),se.min(),fr.empty(),0)}static newFoundDocument(t,e,r,i){return new zn(t,1,e,se.min(),r,i,0)}static newNoDocument(t,e){return new zn(t,2,e,se.min(),se.min(),fr.empty(),0)}static newUnknownDocument(t,e){return new zn(t,3,e,se.min(),se.min(),fr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof zn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t,e){this.position=t,this.inclusive=e}}function yp(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){const s=t[i],o=n.position[i];if(s.field.isKeyField()?r=Xt.comparator(Xt.fromName(o.referenceValue),e.key):r=Ma(o,e.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function vp(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Fi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t,e="asc"){this.field=t,this.dir=e}}function _y(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{}class vn extends wm{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,r):new xy(t,e,r):e==="array-contains"?new Cy(t,r):e==="in"?new Ry(t,r):e==="not-in"?new Ly(t,r):e==="array-contains-any"?new ky(t,r):new vn(t,e,r)}static createKeyFieldInFilter(t,e,r){return e==="in"?new Py(t,r):new Ny(t,r)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ma(e,this.value)):e!==null&&Qs(this.value)===Qs(e)&&this.matchesComparison(Ma(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends wm{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Di(t,e)}matches(t){return bm(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bm(n){return n.op==="and"}function Am(n){return Ty(n)&&bm(n)}function Ty(n){for(const t of n.filters)if(t instanceof Di)return!1;return!0}function qh(n){if(n instanceof vn)return n.field.canonicalString()+n.op.toString()+ja(n.value);if(Am(n))return n.filters.map(t=>qh(t)).join(",");{const t=n.filters.map(e=>qh(e)).join(",");return`${n.op}(${t})`}}function Em(n,t){return n instanceof vn?function(r,i){return i instanceof vn&&r.op===i.op&&r.field.isEqual(i.field)&&Fi(r.value,i.value)}(n,t):n instanceof Di?function(r,i){return i instanceof Di&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&Em(o,i.filters[l]),!0):!1}(n,t):void ee(19439)}function Im(n){return n instanceof vn?function(e){return`${e.field.canonicalString()} ${e.op} ${ja(e.value)}`}(n):n instanceof Di?function(e){return e.op.toString()+" {"+e.getFilters().map(Im).join(" ,")+"}"}(n):"Filter"}class xy extends vn{constructor(t,e,r){super(t,e,r),this.key=Xt.fromName(r.referenceValue)}matches(t){const e=Xt.comparator(t.key,this.key);return this.matchesComparison(e)}}class Py extends vn{constructor(t,e){super(t,"in",e),this.keys=Sm("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Ny extends vn{constructor(t,e){super(t,"not-in",e),this.keys=Sm("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Sm(n,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map(r=>Xt.fromName(r.referenceValue))}class Cy extends vn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Sd(e)&&Hc(e.arrayValue,this.value)}}class Ry extends vn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Hc(this.value.arrayValue,e)}}class Ly extends vn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Hc(this.value.arrayValue,e)}}class ky extends vn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Sd(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>Hc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(t,e=null,r=[],i=[],s=null,o=null,l=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function wp(n,t=null,e=[],r=[],i=null,s=null,o=null){return new Fy(n,t,e,r,i,s,o)}function _d(n){const t=ce(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>qh(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Eu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>ja(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>ja(r)).join(",")),t.Te=e}return t.Te}function Td(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!_y(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Em(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!vp(n.startAt,t.startAt)&&vp(n.endAt,t.endAt)}function Uh(n){return Xt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(t,e=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Dy(n,t,e,r,i,s,o,l){return new Su(n,t,e,r,i,s,o,l)}function xd(n){return new Su(n)}function bp(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Oy(n){return n.collectionGroup!==null}function Nc(n){const t=ce(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),e.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new An(Dn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new su(s,r))}),e.has(Dn.keyField().canonicalString())||t.Ie.push(new su(Dn.keyField(),r))}return t.Ie}function Pi(n){const t=ce(n);return t.Ee||(t.Ee=My(t,Nc(n))),t.Ee}function My(n,t){if(n.limitType==="F")return wp(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new su(i.field,s)});const e=n.endAt?new iu(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new iu(n.startAt.position,n.startAt.inclusive):null;return wp(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}function Hh(n,t,e){return new Su(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function _u(n,t){return Td(Pi(n),Pi(t))&&n.limitType===t.limitType}function _m(n){return`${_d(Pi(n))}|lt:${n.limitType}`}function Ia(n){return`Query(target=${function(e){let r=e.path.canonicalString();return e.collectionGroup!==null&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(i=>Im(i)).join(", ")}]`),Eu(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>ja(i)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>ja(i)).join(",")),`Target(${r})`}(Pi(n))}; limitType=${n.limitType})`}function Tu(n,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Xt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,t)&&function(r,i){for(const s of Nc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,t)&&function(r,i){return!(r.startAt&&!function(o,l,u){const d=yp(o,l,u);return o.inclusive?d<=0:d<0}(r.startAt,Nc(r),i)||r.endAt&&!function(o,l,u){const d=yp(o,l,u);return o.inclusive?d>=0:d>0}(r.endAt,Nc(r),i))}(n,t)}function jy(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Tm(n){return(t,e)=>{let r=!1;for(const i of Nc(n)){const s=Vy(i,t,e);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Vy(n,t,e){const r=n.field.isKeyField()?Xt.comparator(t.key,e.key):function(s,o,l){const u=o.data.field(s),d=l.data.field(s);return u!==null&&d!==null?Ma(u,d):ee(42886)}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,e]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){eo(this.inner,(e,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return lm(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=new Xe(Xt.comparator);function os(){return By}const xm=new Xe(Xt.comparator);function Ic(...n){let t=xm;for(const e of n)t=t.insert(e.key,e);return t}function Pm(n){let t=xm;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function xo(){return Cc()}function Nm(){return Cc()}function Cc(){return new Ho(n=>n.toString(),(n,t)=>n.isEqual(t))}const qy=new Xe(Xt.comparator),Uy=new An(Xt.comparator);function we(...n){let t=Uy;for(const e of n)t=t.add(e);return t}const Hy=new An(ve);function zy(){return Hy}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eu(t)?"-0":t}}function Cm(n){return{integerValue:""+n}}function Wy(n,t){return vy(t)?Cm(t):Pd(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this._=void 0}}function Gy(n,t,e){return n instanceof ou?function(i,s){const o={fields:{[dm]:{stringValue:hm},[pm]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Id(s)&&(s=Iu(s)),s&&(o.fields[fm]=s),{mapValue:o}}(e,t):n instanceof zc?Lm(n,t):n instanceof Wc?km(n,t):function(i,s){const o=Rm(i,s),l=Ap(o)+Ap(i.Ae);return Bh(o)&&Bh(i.Ae)?Cm(l):Pd(i.serializer,l)}(n,t)}function Ky(n,t,e){return n instanceof zc?Lm(n,t):n instanceof Wc?km(n,t):e}function Rm(n,t){return n instanceof au?function(r){return Bh(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class ou extends xu{}class zc extends xu{constructor(t){super(),this.elements=t}}function Lm(n,t){const e=Fm(t);for(const r of n.elements)e.some(i=>Fi(i,r))||e.push(r);return{arrayValue:{values:e}}}class Wc extends xu{constructor(t){super(),this.elements=t}}function km(n,t){let e=Fm(t);for(const r of n.elements)e=e.filter(i=>!Fi(i,r));return{arrayValue:{values:e}}}class au extends xu{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Ap(n){return nn(n.integerValue||n.doubleValue)}function Fm(n){return Sd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Yy(n,t){return n.field.isEqual(t.field)&&function(r,i){return r instanceof zc&&i instanceof zc||r instanceof Wc&&i instanceof Wc?Oa(r.elements,i.elements,Fi):r instanceof au&&i instanceof au?Fi(r.Ae,i.Ae):r instanceof ou&&i instanceof ou}(n.transform,t.transform)}class Xy{constructor(t,e){this.version=t,this.transformResults=e}}class ci{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ci}static exists(t){return new ci(void 0,t)}static updateTime(t){return new ci(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gl(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Pu{}function Dm(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Nd(n.key,ci.none()):new tl(n.key,n.data,ci.none());{const e=n.data,r=fr.empty();let i=new An(Dn.comparator);for(let s of t.fields)if(!i.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new no(n.key,r,new Sr(i.toArray()),ci.none())}}function Qy(n,t,e){n instanceof tl?function(i,s,o){const l=i.value.clone(),u=Ip(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):n instanceof no?function(i,s,o){if(!Gl(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Ip(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(Om(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,e)}function Rc(n,t,e,r){return n instanceof tl?function(s,o,l,u){if(!Gl(s.precondition,o))return l;const d=s.value.clone(),g=Sp(s.fieldTransforms,u,o);return d.setAll(g),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(n,t,e,r):n instanceof no?function(s,o,l,u){if(!Gl(s.precondition,o))return l;const d=Sp(s.fieldTransforms,u,o),g=o.data;return g.setAll(Om(s)),g.setAll(d),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(n,t,e,r):function(s,o,l){return Gl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(n,t,e)}function Jy(n,t){let e=null;for(const r of n.fieldTransforms){const i=t.data.field(r.field),s=Rm(r.transform,i||null);s!=null&&(e===null&&(e=fr.empty()),e.set(r.field,s))}return e||null}function Ep(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Oa(r,i,(s,o)=>Yy(s,o))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class tl extends Pu{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class no extends Pu{constructor(t,e,r,i,s=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Om(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function Ip(n,t,e){const r=new Map;Ne(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let i=0;i<e.length;i++){const s=n[i],o=s.transform,l=t.data.field(s.field);r.set(s.field,Ky(o,l,e[i]))}return r}function Sp(n,t,e){const r=new Map;for(const i of n){const s=i.transform,o=e.data.field(i.field);r.set(i.field,Gy(s,o,t))}return r}class Nd extends Pu{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zy extends Pu{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Qy(s,t,r[i])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=Rc(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=Rc(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=Nm();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=e.has(i.key)?null:l;const u=Dm(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),we())}isEqual(t){return this.batchId===t.batchId&&Oa(this.mutations,t.mutations,(e,r)=>Ep(e,r))&&Oa(this.baseMutations,t.baseMutations,(e,r)=>Ep(e,r))}}class Cd{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){Ne(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return qy}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Cd(t,e,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,Ee;function nv(n){switch(n){case St.OK:return ee(64938);case St.CANCELLED:case St.UNKNOWN:case St.DEADLINE_EXCEEDED:case St.RESOURCE_EXHAUSTED:case St.INTERNAL:case St.UNAVAILABLE:case St.UNAUTHENTICATED:return!1;case St.INVALID_ARGUMENT:case St.NOT_FOUND:case St.ALREADY_EXISTS:case St.PERMISSION_DENIED:case St.FAILED_PRECONDITION:case St.ABORTED:case St.OUT_OF_RANGE:case St.UNIMPLEMENTED:case St.DATA_LOSS:return!0;default:return ee(15467,{code:n})}}function Mm(n){if(n===void 0)return is("GRPC error has no .code"),St.UNKNOWN;switch(n){case un.OK:return St.OK;case un.CANCELLED:return St.CANCELLED;case un.UNKNOWN:return St.UNKNOWN;case un.DEADLINE_EXCEEDED:return St.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return St.RESOURCE_EXHAUSTED;case un.INTERNAL:return St.INTERNAL;case un.UNAVAILABLE:return St.UNAVAILABLE;case un.UNAUTHENTICATED:return St.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return St.INVALID_ARGUMENT;case un.NOT_FOUND:return St.NOT_FOUND;case un.ALREADY_EXISTS:return St.ALREADY_EXISTS;case un.PERMISSION_DENIED:return St.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return St.FAILED_PRECONDITION;case un.ABORTED:return St.ABORTED;case un.OUT_OF_RANGE:return St.OUT_OF_RANGE;case un.UNIMPLEMENTED:return St.UNIMPLEMENTED;case un.DATA_LOSS:return St.DATA_LOSS;default:return ee(39323,{code:n})}}(Ee=un||(un={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Hs([4294967295,4294967295],0);function _p(n){const t=rv().encode(n),e=new Zg;return e.update(t),new Uint8Array(e.digest())}function Tp(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Hs([e,r],0),new Hs([i,s],0)]}class Rd{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new Sc(`Invalid padding: ${e}`);if(r<0)throw new Sc(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${r}`);if(t.length===0&&e!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Hs.fromNumber(this.ge)}ye(t,e,r){let i=t.add(e.multiply(Hs.fromNumber(r)));return i.compare(iv)===1&&(i=new Hs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=_p(t),[r,i]=Tp(e);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(t,e,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new Rd(s,i,e);return r.forEach(l=>o.insert(l)),o}insert(t){if(this.ge===0)return;const e=_p(t),[r,i]=Tp(e);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(t){const e=Math.floor(t/8),r=t%8;this.bitmap[e]|=1<<r}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(t,e,r,i,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const i=new Map;return i.set(t,el.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new Nu(se.min(),i,new Xe(ve),os(),we())}}class el{constructor(t,e,r,i,s){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new el(r,e,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t,e,r,i){this.be=t,this.removedTargetIds=e,this.key=r,this.De=i}}class jm{constructor(t,e){this.targetId=t,this.Ce=e}}class Vm{constructor(t,e,r=Mn.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}}class xp{constructor(){this.ve=0,this.Fe=Pp(),this.Me=Mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=we(),e=we(),r=we();return this.Fe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:ee(38017,{changeType:s})}}),new el(this.Me,this.xe,t,e,r)}qe(){this.Oe=!1,this.Fe=Pp()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ne(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sv{constructor(t){this.Ge=t,this.ze=new Map,this.je=os(),this.Je=Ol(),this.He=Ol(),this.Ye=new Xe(ve)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const r=this.nt(e);switch(t.state){case 0:this.rt(e)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),r.Le(t.resumeToken));break;default:ee(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((r,i)=>{this.rt(i)&&e(i)})}st(t){const e=t.targetId,r=t.Ce.count,i=this.ot(e);if(i){const s=i.target;if(Uh(s))if(r===0){const o=new Xt(s.path);this.et(e,o,zn.newNoDocument(o,se.min()))}else Ne(r===1,20013,{expectedCount:r});else{const o=this._t(e);if(o!==r){const l=this.ut(t),u=l?this.ct(l,t,o):1;if(u!==0){this.it(e);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=e;let o,l;try{o=Xs(r).toUint8Array()}catch(u){if(u instanceof um)return Da("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Rd(o,i,s)}catch(u){return Da(u instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(t,e,r){return e.Ce.count===r-this.Pt(t,e.targetId)?0:2}Pt(t,e){const r=this.Ge.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.et(e,s,null),i++)}),i}Tt(t){const e=new Map;this.ze.forEach((s,o)=>{const l=this.ot(o);if(l){if(s.current&&Uh(l.target)){const u=new Xt(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,zn.newNoDocument(u,t))}s.Be&&(e.set(o,s.ke()),s.qe())}});let r=we();this.He.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(t));const i=new Nu(t,e,this.Ye,this.je,r);return this.je=os(),this.Je=Ol(),this.He=Ol(),this.Ye=new Xe(ve),i}Xe(t,e){if(!this.rt(t))return;const r=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,r),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,e)?i.Qe(e,1):i.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),r&&(this.je=this.je.insert(e,r))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new xp,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new An(ve),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new An(ve),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||Vt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new xp),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Ol(){return new Xe(Xt.comparator)}function Pp(){return new Xe(Xt.comparator)}const ov=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),av=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),cv=(()=>({and:"AND",or:"OR"}))();class lv{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function zh(n,t){return n.useProto3Json||Eu(t)?t:{value:t}}function cu(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Bm(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function uv(n,t){return cu(n,t.toTimestamp())}function Ni(n){return Ne(!!n,49232),se.fromTimestamp(function(e){const r=Ys(e);return new ze(r.seconds,r.nanos)}(n))}function Ld(n,t){return Wh(n,t).canonicalString()}function Wh(n,t){const e=function(i){return new He(["projects",i.projectId,"databases",i.database])}(n).child("documents");return t===void 0?e:e.child(t)}function qm(n){const t=He.fromString(n);return Ne(Gm(t),10190,{key:t.toString()}),t}function Gh(n,t){return Ld(n.databaseId,t.path)}function ph(n,t){const e=qm(t);if(e.get(1)!==n.databaseId.projectId)throw new Ht(St.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ht(St.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Xt(Hm(e))}function Um(n,t){return Ld(n.databaseId,t)}function hv(n){const t=qm(n);return t.length===4?He.emptyPath():Hm(t)}function Kh(n){return new He(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Hm(n){return Ne(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Np(n,t,e){return{name:Gh(n,t),fields:e.value.mapValue.fields}}function dv(n,t){let e;if("targetChange"in t){t.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ee(39313,{state:d})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(d,g){return d.useProto3Json?(Ne(g===void 0||typeof g=="string",58123),Mn.fromBase64String(g||"")):(Ne(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Mn.fromUint8Array(g||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(d){const g=d.code===void 0?St.UNKNOWN:Mm(d.code);return new Ht(g,d.message||"")}(o);e=new Vm(r,i,s,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ph(n,r.document.name),s=Ni(r.document.updateTime),o=r.document.createTime?Ni(r.document.createTime):se.min(),l=new fr({mapValue:{fields:r.document.fields}}),u=zn.newFoundDocument(i,s,o,l),d=r.targetIds||[],g=r.removedTargetIds||[];e=new Kl(d,g,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ph(n,r.document),s=r.readTime?Ni(r.readTime):se.min(),o=zn.newNoDocument(i,s),l=r.removedTargetIds||[];e=new Kl([],l,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ph(n,r.document),s=r.removedTargetIds||[];e=new Kl([],s,i,null)}else{if(!("filter"in t))return ee(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new ev(i,s),l=r.targetId;e=new jm(l,o)}}return e}function fv(n,t){let e;if(t instanceof tl)e={update:Np(n,t.key,t.value)};else if(t instanceof Nd)e={delete:Gh(n,t.key)};else if(t instanceof no)e={update:Np(n,t.key,t.data),updateMask:Ev(t.fieldMask)};else{if(!(t instanceof Zy))return ee(16599,{Vt:t.type});e={verify:Gh(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof ou)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof zc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Wc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof au)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ee(20930,{transform:o.transform})}(0,r))),t.precondition.isNone||(e.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:uv(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee(27497)}(n,t.precondition)),e}function pv(n,t){return n&&n.length>0?(Ne(t!==void 0,14353),n.map(e=>function(i,s){let o=i.updateTime?Ni(i.updateTime):Ni(s);return o.isEqual(se.min())&&(o=Ni(s)),new Xy(o,i.transformResults||[])}(e,t))):[]}function gv(n,t){return{documents:[Um(n,t.path)]}}function mv(n,t){const e={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=Um(n,i);const s=function(d){if(d.length!==0)return Wm(Di.create(d,"and"))}(t.filters);s&&(e.structuredQuery.where=s);const o=function(d){if(d.length!==0)return d.map(g=>function(b){return{field:Sa(b.field),direction:wv(b.dir)}}(g))}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const l=zh(n,t.limit);return l!==null&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ft:e,parent:i}}function yv(n){let t=hv(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let i=null;if(r>0){Ne(r===1,65062);const g=e.from[0];g.allDescendants?i=g.collectionId:t=t.child(g.collectionId)}let s=[];e.where&&(s=function(v){const b=zm(v);return b instanceof Di&&Am(b)?b.getFilters():[b]}(e.where));let o=[];e.orderBy&&(o=function(v){return v.map(b=>function(N){return new su(_a(N.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(b))}(e.orderBy));let l=null;e.limit&&(l=function(v){let b;return b=typeof v=="object"?v.value:v,Eu(b)?null:b}(e.limit));let u=null;e.startAt&&(u=function(v){const b=!!v.before,m=v.values||[];return new iu(m,b)}(e.startAt));let d=null;return e.endAt&&(d=function(v){const b=!v.before,m=v.values||[];return new iu(m,b)}(e.endAt)),Dy(t,i,o,s,l,"F",u,d)}function vv(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:i})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function zm(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=_a(e.unaryFilter.field);return vn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_a(e.unaryFilter.field);return vn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_a(e.unaryFilter.field);return vn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_a(e.unaryFilter.field);return vn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(n):n.fieldFilter!==void 0?function(e){return vn.create(_a(e.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Di.create(e.compositeFilter.filters.map(r=>zm(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(e.compositeFilter.op))}(n):ee(30097,{filter:n})}function wv(n){return ov[n]}function bv(n){return av[n]}function Av(n){return cv[n]}function Sa(n){return{fieldPath:n.canonicalString()}}function _a(n){return Dn.fromServerFormat(n.fieldPath)}function Wm(n){return n instanceof vn?function(e){if(e.op==="=="){if(mp(e.value))return{unaryFilter:{field:Sa(e.field),op:"IS_NAN"}};if(gp(e.value))return{unaryFilter:{field:Sa(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(mp(e.value))return{unaryFilter:{field:Sa(e.field),op:"IS_NOT_NAN"}};if(gp(e.value))return{unaryFilter:{field:Sa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(e.field),op:bv(e.op),value:e.value}}}(n):n instanceof Di?function(e){const r=e.getFilters().map(i=>Wm(i));return r.length===1?r[0]:{compositeFilter:{op:Av(e.op),filters:r}}}(n):ee(54877,{filter:n})}function Ev(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Gm(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t,e,r,i,s=se.min(),o=se.min(),l=Mn.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(t){this.yt=t}}function Sv(n){const t=yv({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.Cn=new Tv}addToCollectionParentIndex(t,e){return this.Cn.add(e),Et.resolve()}getCollectionParents(t,e){return Et.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return Et.resolve()}deleteFieldIndex(t,e){return Et.resolve()}deleteAllFieldIndexes(t){return Et.resolve()}createTargetIndexes(t,e){return Et.resolve()}getDocumentsMatchingTarget(t,e){return Et.resolve(null)}getIndexType(t,e){return Et.resolve(0)}getFieldIndexes(t,e){return Et.resolve([])}getNextCollectionGroupToUpdate(t){return Et.resolve(null)}getMinOffset(t,e){return Et.resolve(Ks.min())}getMinOffsetFromCollectionGroup(t,e){return Et.resolve(Ks.min())}updateCollectionGroup(t,e,r){return Et.resolve()}updateIndexEntries(t,e){return Et.resolve()}}class Tv{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new An(He.comparator),s=!i.has(r);return this.index[e]=i.add(r),s}has(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new An(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Km=41943040;class dr{static withCacheSize(t){return new dr(t,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr.DEFAULT_COLLECTION_PERCENTILE=10,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dr.DEFAULT=new dr(Km,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dr.DISABLED=new dr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Va(0)}static cr(){return new Va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="LruGarbageCollector",xv=1048576;function Lp([n,t],[e,r]){const i=ve(n,e);return i===0?ve(t,r):i}class Pv{constructor(t){this.Ir=t,this.buffer=new An(Lp),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();Lp(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Nv{constructor(t,e,r){this.garbageCollector=t,this.asyncQueue=e,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Vt(Rp,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ga(e)?Vt(Rp,"Ignoring IndexedDB error during garbage collection: ",e):await Wa(e)}await this.Vr(3e5)})}}class Cv{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(e===0)return Et.resolve(Au.ce);const r=new Pv(e);return this.mr.forEachTarget(t,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.mr.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Vt("LruGarbageCollector","Garbage collection skipped; disabled"),Et.resolve(Cp)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cp):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let r,i,s,o,l,u,d;const g=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,o=Date.now(),this.nthSequenceNumber(t,i))).next(v=>(r=v,l=Date.now(),this.removeTargets(t,r,e))).next(v=>(s=v,u=Date.now(),this.removeOrphanedDocuments(t,r))).next(v=>(d=Date.now(),Ea()<=ye.DEBUG&&Vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-g}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${v} documents in `+(d-u)+`ms
Total Duration: ${d-g}ms`),Et.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:v})))}}function Rv(n,t){return new Cv(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.changes=new Ho(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,zn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return r!==void 0?Et.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,e))).next(i=>(r!==null&&Rc(r.mutation,i,Sr.empty(),ze.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,we()).next(()=>r))}getLocalViewOfDocuments(t,e,r=we()){const i=xo();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,r).next(s=>{let o=Ic();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const r=xo();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,we()))}populateOverlays(t,e,r){const i=[];return r.forEach(s=>{e.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,l)=>{e.set(o,l)})})}computeViews(t,e,r,i){let s=os();const o=Cc(),l=function(){return Cc()}();return e.forEach((u,d)=>{const g=r.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof no)?s=s.insert(d.key,d):g!==void 0?(o.set(d.key,g.mutation.getFieldMask()),Rc(g.mutation,d,g.mutation.getFieldMask(),ze.now())):o.set(d.key,Sr.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((d,g)=>o.set(d,g)),e.forEach((d,g)=>l.set(d,new kv(g,o.get(d)??null))),l))}recalculateAndSaveOverlays(t,e){const r=Cc();let i=new Xe((o,l)=>o-l),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const l of o)l.keys().forEach(u=>{const d=e.get(u);if(d===null)return;let g=r.get(u)||Sr.empty();g=l.applyToLocalView(d,g),r.set(u,g);const v=(i.get(l.batchId)||we()).add(u);i=i.insert(l.batchId,v)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,g=u.value,v=Nm();g.forEach(b=>{if(!s.has(b)){const m=Dm(e.get(b),r.get(b));m!==null&&v.set(b,m),s=s.add(b)}}),o.push(this.documentOverlayCache.saveOverlays(t,d,v))}return Et.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,i){return function(o){return Xt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Oy(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,i):this.getDocumentsMatchingCollectionQuery(t,e,r,i)}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-s.size):Et.resolve(xo());let l=Bc,u=s;return o.next(d=>Et.forEach(d,(g,v)=>(l<v.largestBatchId&&(l=v.largestBatchId),s.get(g)?Et.resolve():this.remoteDocumentCache.getEntry(t,g).next(b=>{u=u.insert(g,b)}))).next(()=>this.populateOverlays(t,d,s)).next(()=>this.computeViews(t,u,d,we())).next(g=>({batchId:l,changes:Pm(g)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Xt(e)).next(r=>{let i=Ic();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,r,i){const s=e.collectionGroup;let o=Ic();return this.indexManager.getCollectionParents(t,s).next(l=>Et.forEach(l,u=>{const d=function(v,b){return new Su(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,d,r,i).next(g=>{g.forEach((v,b)=>{o=o.insert(v,b)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,s,i))).next(o=>{s.forEach((u,d)=>{const g=d.getKey();o.get(g)===null&&(o=o.insert(g,zn.newInvalidDocument(g)))});let l=Ic();return o.forEach((u,d)=>{const g=s.get(u);g!==void 0&&Rc(g.mutation,d,Sr.empty(),ze.now()),Tu(e,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return Et.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(i){return{id:i.id,version:i.version,createTime:Ni(i.createTime)}}(e)),Et.resolve()}getNamedQuery(t,e){return Et.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(i){return{name:i.name,query:Sv(i.bundledQuery),readTime:Ni(i.readTime)}}(e)),Et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.overlays=new Xe(Xt.comparator),this.qr=new Map}getOverlay(t,e){return Et.resolve(this.overlays.get(e))}getOverlays(t,e){const r=xo();return Et.forEach(e,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((i,s)=>{this.St(t,e,s)}),Et.resolve()}removeOverlaysForBatchId(t,e,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),Et.resolve()}getOverlaysForCollection(t,e,r){const i=xo(),s=e.length+1,o=new Xt(e.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return Et.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let s=new Xe((d,g)=>d-g);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>r){let g=s.get(d.largestBatchId);g===null&&(g=xo(),s=s.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const l=xo(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,g)=>l.set(d,g)),!(l.size()>=i)););return Et.resolve(l)}St(t,e,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tv(e,r));let s=this.qr.get(e);s===void 0&&(s=we(),this.qr.set(e,s)),this.qr.set(e,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(t){return Et.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this.Qr=new An(xn.$r),this.Ur=new An(xn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const r=new xn(t,e);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.Gr(new xn(t,e))}zr(t,e){t.forEach(r=>this.removeReference(r,e))}jr(t){const e=new Xt(new He([])),r=new xn(e,t),i=new xn(e,t+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Xt(new He([])),r=new xn(e,t),i=new xn(e,t+1);let s=we();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new xn(t,0),r=this.Qr.firstAfterOrEqual(e);return r!==null&&t.isEqual(r.key)}}class xn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Xt.comparator(t.key,e.key)||ve(t.Yr,e.Yr)}static Kr(t,e){return ve(t.Yr,e.Yr)||Xt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new An(xn.$r)}checkEmpty(t){return Et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $y(s,e,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new xn(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return Et.resolve(o)}lookupMutationBatch(t,e){return Et.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const r=e+1,i=this.ei(r),s=i<0?0:i;return Et.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Et.resolve(this.mutationQueue.length===0?Ed:this.tr-1)}getAllMutationBatches(t){return Et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new xn(e,0),i=new xn(e,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const l=this.Xr(o.Yr);s.push(l)}),Et.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new An(ve);return e.forEach(i=>{const s=new xn(i,0),o=new xn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],l=>{r=r.add(l.Yr)})}),Et.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1;let s=r;Xt.isDocumentKey(s)||(s=s.child(""));const o=new xn(new Xt(s),0);let l=new An(ve);return this.Zr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.Yr)),!0)},o),Et.resolve(this.ti(l))}ti(t){const e=[];return t.forEach(r=>{const i=this.Xr(r);i!==null&&e.push(i)}),e}removeMutationBatch(t,e){Ne(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Et.forEach(e.mutations,i=>{const s=new xn(i.key,e.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,e){const r=new xn(e,0),i=this.Zr.firstAfterOrEqual(r);return Et.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Et.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(t){this.ri=t,this.docs=function(){return new Xe(Xt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Et.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(e))}getEntries(t,e){let r=os();return e.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zn.newInvalidDocument(i))}),Et.resolve(r)}getDocumentsMatchingQuery(t,e,r,i){let s=os();const o=e.path,l=new Xt(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:g}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||py(fy(g),r)<=0||(i.has(g.key)||Tu(e,g))&&(s=s.insert(g.key,g.mutableCopy()))}return Et.resolve(s)}getAllFromCollectionGroup(t,e,r,i){ee(9500)}ii(t,e){return Et.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new Bv(this)}getSize(t){return Et.resolve(this.size)}}class Bv extends Lv{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?e.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(r)}),Et.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(t){this.persistence=t,this.si=new Ho(e=>_d(e),Td),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.oi=0,this._i=new kd,this.targetCount=0,this.ai=Va.ur()}forEachTarget(t,e){return this.si.forEach((r,i)=>e(i)),Et.resolve()}getLastRemoteSnapshotVersion(t){return Et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Et.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.oi&&(this.oi=e),Et.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Va(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,Et.resolve()}updateTargetData(t,e){return this.Pr(e),Et.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,Et.resolve()}removeTargets(t,e,r){let i=0;const s=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=e&&r.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),i++)}),Et.waitFor(s).next(()=>i)}getTargetCount(t){return Et.resolve(this.targetCount)}getTargetData(t,e){const r=this.si.get(e)||null;return Et.resolve(r)}addMatchingKeys(t,e,r){return this._i.Wr(e,r),Et.resolve()}removeMatchingKeys(t,e,r){this._i.zr(e,r);const i=this.persistence.referenceDelegate,s=[];return i&&e.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),Et.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),Et.resolve()}getMatchingKeysForTargetId(t,e){const r=this._i.Hr(e);return Et.resolve(r)}containsKey(t,e){return Et.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(t,e){this.ui={},this.overlays={},this.ci=new Au(0),this.li=!1,this.li=!0,this.hi=new Mv,this.referenceDelegate=t(this),this.Pi=new qv(this),this.indexManager=new _v,this.remoteDocumentCache=function(i){return new Vv(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Iv(e),this.Ii=new Dv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Ov,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.ui[t.toKey()];return r||(r=new jv(e,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,r){Vt("MemoryPersistence","Starting transaction:",t);const i=new Uv(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(t,e){return Et.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,e)))}}class Uv extends my{constructor(t){super(),this.currentSequenceNumber=t}}class Fd{constructor(t){this.persistence=t,this.Ri=new kd,this.Vi=null}static mi(t){return new Fd(t)}get fi(){if(this.Vi)return this.Vi;throw ee(60996)}addReference(t,e,r){return this.Ri.addReference(r,e),this.fi.delete(r.toString()),Et.resolve()}removeReference(t,e,r){return this.Ri.removeReference(r,e),this.fi.add(r.toString()),Et.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),Et.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Et.forEach(this.fi,r=>{const i=Xt.fromPath(r);return this.gi(t,i).next(s=>{s||e.removeEntry(i,se.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(r=>{r?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return Et.or([()=>Et.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class lu{constructor(t,e){this.persistence=t,this.pi=new Ho(r=>wy(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Rv(this,e)}static mi(t,e){return new lu(t,e)}Ei(){}di(t){return Et.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>e.next(i=>r+i))}wr(t){let e=0;return this.pr(t,r=>{e++}).next(()=>e)}pr(t,e){return Et.forEach(this.pi,(r,i)=>this.br(t,r,i).next(s=>s?Et.resolve():e(i)))}removeTargets(t,e,r){return this.persistence.getTargetCache().removeTargets(t,e,r)}removeOrphanedDocuments(t,e){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(t,o=>this.br(t,o,e).next(l=>{l||(r++,s.removeEntry(o,se.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),Et.resolve()}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),Et.resolve()}removeReference(t,e,r){return this.pi.set(r,t.currentSequenceNumber),Et.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),Et.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=zl(t.data.value)),e}br(t,e,r){return Et.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const i=this.pi.get(e);return Et.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.Es=r,this.ds=i}static As(t,e){let r=we(),i=we();for(const s of e.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Dd(t,e.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return D2()?8:yy(Gn())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,r,i){const s={result:null};return this.ys(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(t,e,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Hv;return this.Ss(t,e,o).next(l=>{if(s.result=l,this.Vs)return this.bs(t,e,o,l.size)})}).next(()=>s.result)}bs(t,e,r,i){return r.documentReadCount<this.fs?(Ea()<=ye.DEBUG&&Vt("QueryEngine","SDK will not create cache indexes for query:",Ia(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Et.resolve()):(Ea()<=ye.DEBUG&&Vt("QueryEngine","Query:",Ia(e),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ea()<=ye.DEBUG&&Vt("QueryEngine","The SDK decides to create cache indexes for query:",Ia(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Pi(e))):Et.resolve())}ys(t,e){if(bp(e))return Et.resolve(null);let r=Pi(e);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(e.limit!==null&&i===1&&(e=Hh(e,null,"F"),r=Pi(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=we(...s);return this.ps.getDocuments(t,o).next(l=>this.indexManager.getMinOffset(t,r).next(u=>{const d=this.Ds(e,l);return this.Cs(e,d,o,u.readTime)?this.ys(t,Hh(e,null,"F")):this.vs(t,d,e,u)}))})))}ws(t,e,r,i){return bp(e)||i.isEqual(se.min())?Et.resolve(null):this.ps.getDocuments(t,r).next(s=>{const o=this.Ds(e,s);return this.Cs(e,o,r,i)?Et.resolve(null):(Ea()<=ye.DEBUG&&Vt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ia(e)),this.vs(t,o,e,dy(i,Bc)).next(l=>l))})}Ds(t,e){let r=new An(Tm(t));return e.forEach((i,s)=>{Tu(t,s)&&(r=r.add(s))}),r}Cs(t,e,r,i){if(t.limit===null)return!1;if(r.size!==e.size)return!0;const s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(t,e,r){return Ea()<=ye.DEBUG&&Vt("QueryEngine","Using full collection scan to execute query:",Ia(e)),this.ps.getDocumentsMatchingQuery(t,e,Ks.min(),r)}vs(t,e,r,i){return this.ps.getDocumentsMatchingQuery(t,r,i).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="LocalStore",Wv=3e8;class Gv{constructor(t,e,r,i){this.persistence=t,this.Fs=e,this.serializer=i,this.Ms=new Xe(ve),this.xs=new Ho(s=>_d(s),Td),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Fv(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function Kv(n,t,e,r){return new Gv(n,t,e,r)}async function Xm(n,t){const e=ce(n);return await e.persistence.runTransaction("Handle user change","readonly",r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,e.Bs(t),e.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=we();for(const d of i){o.push(d.batchId);for(const g of d.mutations)u=u.add(g.key)}for(const d of s){l.push(d.batchId);for(const g of d.mutations)u=u.add(g.key)}return e.localDocuments.getDocuments(r,u).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:l}))})})}function Yv(n,t){const e=ce(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=e.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,d,g){const v=d.batch,b=v.keys();let m=Et.resolve();return b.forEach(N=>{m=m.next(()=>g.getEntry(u,N)).next(R=>{const F=d.docVersions.get(N);Ne(F!==null,48541),R.version.compareTo(F)<0&&(v.applyToRemoteDocument(R,d),R.isValidDocument()&&(R.setReadTime(d.commitVersion),g.addEntry(R)))})}),m.next(()=>l.mutationQueue.removeMutationBatch(u,v))}(e,r,t,s).next(()=>s.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=we();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(t))).next(()=>e.localDocuments.getDocuments(r,i))})}function Qm(n){const t=ce(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Xv(n,t){const e=ce(n),r=t.snapshotVersion;let i=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.Ns.newChangeBuffer({trackRemovals:!0});i=e.Ms;const l=[];t.targetChanges.forEach((g,v)=>{const b=i.get(v);if(!b)return;l.push(e.Pi.removeMatchingKeys(s,g.removedDocuments,v).next(()=>e.Pi.addMatchingKeys(s,g.addedDocuments,v)));let m=b.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(v)!==null?m=m.withResumeToken(Mn.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):g.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(g.resumeToken,r)),i=i.insert(v,m),function(R,F,P){return R.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=Wv?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(b,m,g)&&l.push(e.Pi.updateTargetData(s,m))});let u=os(),d=we();if(t.documentUpdates.forEach(g=>{t.resolvedLimboDocuments.has(g)&&l.push(e.persistence.referenceDelegate.updateLimboDocument(s,g))}),l.push(Qv(s,o,t.documentUpdates).next(g=>{u=g.ks,d=g.qs})),!r.isEqual(se.min())){const g=e.Pi.getLastRemoteSnapshotVersion(s).next(v=>e.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(g)}return Et.waitFor(l).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(e.Ms=i,s))}function Qv(n,t,e){let r=we(),i=we();return e.forEach(s=>r=r.add(s)),t.getEntries(n,r).next(s=>{let o=os();return e.forEach((l,u)=>{const d=s.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(se.min())?(t.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(u),o=o.insert(l,u)):Vt(Od,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{ks:o,qs:i}})}function Jv(n,t){const e=ce(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Ed),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Zv(n,t){const e=ce(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.Pi.getTargetData(r,t).next(s=>s?(i=s,Et.resolve(i)):e.Pi.allocateTargetId(r).next(o=>(i=new js(t,o,"TargetPurposeListen",r.currentSequenceNumber),e.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=e.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(r.targetId,r),e.xs.set(t,r.targetId)),r})}async function Yh(n,t,e){const r=ce(n),i=r.Ms.get(t),s=e?"readwrite":"readwrite-primary";try{e||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ga(o))throw o;Vt(Od,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function kp(n,t,e){const r=ce(n);let i=se.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,g){const v=ce(u),b=v.xs.get(g);return b!==void 0?Et.resolve(v.Ms.get(b)):v.Pi.getTargetData(d,g)}(r,o,Pi(t)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,t,e?i:se.min(),e?s:we())).next(l=>($v(r,jy(t),l),{documents:l,Qs:s})))}function $v(n,t,e){let r=n.Os.get(t)||se.min();e.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Os.set(t,r)}class Fp{constructor(){this.activeTargetIds=zy()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tw{constructor(){this.Mo=new Fp,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,r){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Fp,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="ConnectivityMonitor";class Op{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Vt(Dp,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Vt(Dp,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml=null;function Xh(){return Ml===null?Ml=function(){return 268435456+Math.round(2147483648*Math.random())}():Ml++,"0x"+Ml.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="RestConnection",nw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===nu?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(t,e,r,i,s){const o=Xh(),l=this.zo(t,e.toUriEncodedString());Vt(gh,`Sending RPC '${t}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:d}=new URL(l),g=Ua(d);return this.Jo(t,l,u,r,g).then(v=>(Vt(gh,`Received RPC '${t}' ${o}: `,v),v),v=>{throw Da(gh,`RPC '${t}' ${o} failed with error: `,v,"url: ",l,"request:",r),v})}Ho(t,e,r,i,s,o){return this.Go(t,e,r,i,s)}jo(t,e,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+za}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}zo(t,e){const r=nw[t];return`${this.Uo}/v1/${e}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="WebChannelConnection";class sw extends rw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,r,i,s){const o=Xh();return new Promise((l,u)=>{const d=new $g;d.setWithCredentials(!0),d.listenOnce(tm.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Hl.NO_ERROR:const v=d.getResponseJson();Vt(jn,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(v)),l(v);break;case Hl.TIMEOUT:Vt(jn,`RPC '${t}' ${o} timed out`),u(new Ht(St.DEADLINE_EXCEEDED,"Request time out"));break;case Hl.HTTP_ERROR:const b=d.getStatus();if(Vt(jn,`RPC '${t}' ${o} failed with status:`,b,"response text:",d.getResponseText()),b>0){let m=d.getResponseJson();Array.isArray(m)&&(m=m[0]);const N=m==null?void 0:m.error;if(N&&N.status&&N.message){const R=function(P){const L=P.toLowerCase().replace(/_/g,"-");return Object.values(St).indexOf(L)>=0?L:St.UNKNOWN}(N.status);u(new Ht(R,N.message))}else u(new Ht(St.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Ht(St.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{l_:t,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Vt(jn,`RPC '${t}' ${o} completed.`)}});const g=JSON.stringify(i);Vt(jn,`RPC '${t}' ${o} sending request:`,i),d.send(e,"POST",g,r,15)})}T_(t,e,r){const i=Xh(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=rm(),l=nm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,e,r),u.encodeInitMessageHeaders=!0;const g=s.join("");Vt(jn,`Creating RPC '${t}' stream ${i}: ${g}`,u);const v=o.createWebChannel(g,u);this.I_(v);let b=!1,m=!1;const N=new iw({Yo:F=>{m?Vt(jn,`Not sending because RPC '${t}' stream ${i} is closed:`,F):(b||(Vt(jn,`Opening RPC '${t}' stream ${i} transport.`),v.open(),b=!0),Vt(jn,`RPC '${t}' stream ${i} sending:`,F),v.send(F))},Zo:()=>v.close()}),R=(F,P,L)=>{F.listen(P,O=>{try{L(O)}catch(q){setTimeout(()=>{throw q},0)}})};return R(v,Ec.EventType.OPEN,()=>{m||(Vt(jn,`RPC '${t}' stream ${i} transport opened.`),N.o_())}),R(v,Ec.EventType.CLOSE,()=>{m||(m=!0,Vt(jn,`RPC '${t}' stream ${i} transport closed`),N.a_(),this.E_(v))}),R(v,Ec.EventType.ERROR,F=>{m||(m=!0,Da(jn,`RPC '${t}' stream ${i} transport errored. Name:`,F.name,"Message:",F.message),N.a_(new Ht(St.UNAVAILABLE,"The operation could not be completed")))}),R(v,Ec.EventType.MESSAGE,F=>{var P;if(!m){const L=F.data[0];Ne(!!L,16349);const O=L,q=(O==null?void 0:O.error)||((P=O[0])==null?void 0:P.error);if(q){Vt(jn,`RPC '${t}' stream ${i} received error:`,q);const Y=q.status;let J=function(C){const M=un[C];if(M!==void 0)return Mm(M)}(Y),_=q.message;J===void 0&&(J=St.INTERNAL,_="Unknown error status: "+Y+" with message "+q.message),m=!0,N.a_(new Ht(J,_)),v.close()}else Vt(jn,`RPC '${t}' stream ${i} received:`,L),N.u_(L)}}),R(l,em.STAT_EVENT,F=>{F.stat===Mh.PROXY?Vt(jn,`RPC '${t}' stream ${i} detected buffering proxy`):F.stat===Mh.NOPROXY&&Vt(jn,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.__()},0),N}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function mh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(n){return new lv(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t,e,r=1e3,i=1.5,s=6e4){this.Mi=t,this.timerId=e,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,e-r);i>0&&Vt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="PersistentStream";class Zm{constructor(t,e,r,i,s,o,l,u){this.Mi=t,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Jm(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===St.RESOURCE_EXHAUSTED?(is(e.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===St.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===e&&this.G_(r,i)},r=>{t(()=>{const i=new Ht(St.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,e){const r=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Vt(Mp,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(Vt(Mp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ow extends Zm{constructor(t,e,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,o),this.serializer=s}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=dv(this.serializer,t),r=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?Ni(o.readTime):se.min()}(t);return this.listener.H_(e,r)}Y_(t){const e={};e.database=Kh(this.serializer),e.addTarget=function(s,o){let l;const u=o.target;if(l=Uh(u)?{documents:gv(s,u)}:{query:mv(s,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Bm(s,o.resumeToken);const d=zh(s,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(se.min())>0){l.readTime=cu(s,o.snapshotVersion.toTimestamp());const d=zh(s,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,t);const r=vv(this.serializer,t);r&&(e.labels=r),this.q_(e)}Z_(t){const e={};e.database=Kh(this.serializer),e.removeTarget=t,this.q_(e)}}class aw extends Zm{constructor(t,e,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Ne(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ne(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ne(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=pv(t.writeResults,t.commitTime),r=Ni(t.commitTime);return this.listener.na(r,e)}ra(){const t={};t.database=Kh(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>fv(this.serializer,r))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{}class lw extends cw{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ht(St.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(t,Wh(e,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===St.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ht(St.UNKNOWN,s.toString())})}Ho(t,e,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(t,Wh(e,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===St.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ht(St.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class uw{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(e),this.aa=!1):Vt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="RemoteStore";class hw{constructor(t,e,r,i,s){this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{zo(this)&&(Vt(Bo,"Restarting streams for network reachability change."),await async function(u){const d=ce(u);d.Ea.add(4),await nl(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Ru(d)}(this))})}),this.Ra=new uw(r,i)}}async function Ru(n){if(zo(n))for(const t of n.da)await t(!0)}async function nl(n){for(const t of n.da)await t(!1)}function $m(n,t){const e=ce(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Bd(e)?Vd(e):Ka(e).O_()&&jd(e,t))}function Md(n,t){const e=ce(n),r=Ka(e);e.Ia.delete(t),r.O_()&&t1(e,t),e.Ia.size===0&&(r.O_()?r.L_():zo(e)&&e.Ra.set("Unknown"))}function jd(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(se.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ka(n).Y_(t)}function t1(n,t){n.Va.Ue(t),Ka(n).Z_(t)}function Vd(n){n.Va=new sv({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Ka(n).start(),n.Ra.ua()}function Bd(n){return zo(n)&&!Ka(n).x_()&&n.Ia.size>0}function zo(n){return ce(n).Ea.size===0}function e1(n){n.Va=void 0}async function dw(n){n.Ra.set("Online")}async function fw(n){n.Ia.forEach((t,e)=>{jd(n,t)})}async function pw(n,t){e1(n),Bd(n)?(n.Ra.ha(t),Vd(n)):n.Ra.set("Unknown")}async function gw(n,t,e){if(n.Ra.set("Online"),t instanceof Vm&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(n,t)}catch(r){Vt(Bo,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await uu(n,r)}else if(t instanceof Kl?n.Va.Ze(t):t instanceof jm?n.Va.st(t):n.Va.tt(t),!e.isEqual(se.min()))try{const r=await Qm(n.localStore);e.compareTo(r)>=0&&await function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const g=s.Ia.get(d);g&&s.Ia.set(d,g.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,d)=>{const g=s.Ia.get(u);if(!g)return;s.Ia.set(u,g.withResumeToken(Mn.EMPTY_BYTE_STRING,g.snapshotVersion)),t1(s,u);const v=new js(g.target,u,d,g.sequenceNumber);jd(s,v)}),s.remoteSyncer.applyRemoteEvent(l)}(n,e)}catch(r){Vt(Bo,"Failed to raise snapshot:",r),await uu(n,r)}}async function uu(n,t,e){if(!Ga(t))throw t;n.Ea.add(1),await nl(n),n.Ra.set("Offline"),e||(e=()=>Qm(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Vt(Bo,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Ru(n)})}function n1(n,t){return t().catch(e=>uu(n,e,t))}async function Lu(n){const t=ce(n),e=Js(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ed;for(;mw(t);)try{const i=await Jv(t.localStore,r);if(i===null){t.Ta.length===0&&e.L_();break}r=i.batchId,yw(t,i)}catch(i){await uu(t,i)}r1(t)&&i1(t)}function mw(n){return zo(n)&&n.Ta.length<10}function yw(n,t){n.Ta.push(t);const e=Js(n);e.O_()&&e.X_&&e.ea(t.mutations)}function r1(n){return zo(n)&&!Js(n).x_()&&n.Ta.length>0}function i1(n){Js(n).start()}async function vw(n){Js(n).ra()}async function ww(n){const t=Js(n);for(const e of n.Ta)t.ea(e.mutations)}async function bw(n,t,e){const r=n.Ta.shift(),i=Cd.from(r,t,e);await n1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Lu(n)}async function Aw(n,t){t&&Js(n).X_&&await async function(r,i){if(function(o){return nv(o)&&o!==St.ABORTED}(i.code)){const s=r.Ta.shift();Js(r).B_(),await n1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Lu(r)}}(n,t),r1(n)&&i1(n)}async function jp(n,t){const e=ce(n);e.asyncQueue.verifyOperationInProgress(),Vt(Bo,"RemoteStore received new credentials");const r=zo(e);e.Ea.add(3),await nl(e),r&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Ru(e)}async function Ew(n,t){const e=ce(n);t?(e.Ea.delete(2),await Ru(e)):t||(e.Ea.add(2),await nl(e),e.Ra.set("Unknown"))}function Ka(n){return n.ma||(n.ma=function(e,r,i){const s=ce(e);return s.sa(),new ow(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Xo:dw.bind(null,n),t_:fw.bind(null,n),r_:pw.bind(null,n),H_:gw.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),Bd(n)?Vd(n):n.Ra.set("Unknown")):(await n.ma.stop(),e1(n))})),n.ma}function Js(n){return n.fa||(n.fa=function(e,r,i){const s=ce(e);return s.sa(),new aw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:vw.bind(null,n),r_:Aw.bind(null,n),ta:ww.bind(null,n),na:bw.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await Lu(n)):(await n.fa.stop(),n.Ta.length>0&&(Vt(Bo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(t,e,r,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,i,s){const o=Date.now()+r,l=new qd(t,e,o,i,s);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ht(St.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ud(n,t){if(is("AsyncQueue",`${t}: ${n}`),Ga(n))return new Ht(St.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{static emptySet(t){return new Pa(t.comparator)}constructor(t){this.comparator=t?(e,r)=>t(e,r)||Xt.comparator(e.key,r.key):(e,r)=>Xt.comparator(e.key,r.key),this.keyedMap=Ic(),this.sortedSet=new Xe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Pa)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const r=new Pa;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(){this.ga=new Xe(Xt.comparator)}track(t){const e=t.doc.key,r=this.ga.get(e);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(e,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(e,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(e):t.type===1&&r.type===2?this.ga=this.ga.insert(e,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):ee(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,r)=>{t.push(r)}),t}}class Ba{constructor(t,e,r,i,s,o,l,u,d){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(t,e,r,i,s){const o=[];return e.forEach(l=>{o.push({type:0,doc:l})}),new Ba(t,e,Pa.emptySet(e),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_u(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class Sw{constructor(){this.queries=Bp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,r){const i=ce(e),s=i.queries;i.queries=Bp(),s.forEach((o,l)=>{for(const u of l.Sa)u.onError(r)})})(this,new Ht(St.ABORTED,"Firestore shutting down"))}}function Bp(){return new Ho(n=>_m(n),_u)}async function s1(n,t){const e=ce(n);let r=3;const i=t.query;let s=e.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new Iw,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await e.onListen(i,!0);break;case 1:s.wa=await e.onListen(i,!1);break;case 2:await e.onFirstRemoteStoreListen(i)}}catch(o){const l=Ud(o,`Initialization of query '${Ia(t.query)}' failed`);return void t.onError(l)}e.queries.set(i,s),s.Sa.push(t),t.va(e.onlineState),s.wa&&t.Fa(s.wa)&&Hd(e)}async function o1(n,t){const e=ce(n),r=t.query;let i=3;const s=e.queries.get(r);if(s){const o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}}function _w(n,t){const e=ce(n);let r=!1;for(const i of t){const s=i.query,o=e.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&Hd(e)}function Tw(n,t,e){const r=ce(n),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(e);r.queries.delete(t)}function Hd(n){n.Ca.forEach(t=>{t.next()})}var Qh,qp;(qp=Qh||(Qh={})).Ma="default",qp.Cache="cache";class a1{constructor(t,e,r){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Ba(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const r=e!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ba.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Qh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t){this.key=t}}class l1{constructor(t){this.key=t}}class xw{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=we(),this.mutatedKeys=we(),this.eu=Tm(t),this.tu=new Pa(this.eu)}get nu(){return this.Ya}ru(t,e){const r=e?e.iu:new Vp,i=e?e.tu:this.tu;let s=e?e.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((g,v)=>{const b=i.get(g),m=Tu(this.query,v)?v:null,N=!!b&&this.mutatedKeys.has(b.key),R=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let F=!1;b&&m?b.data.isEqual(m.data)?N!==R&&(r.track({type:3,doc:m}),F=!0):this.su(b,m)||(r.track({type:2,doc:m}),F=!0,(u&&this.eu(m,u)>0||d&&this.eu(m,d)<0)&&(l=!0)):!b&&m?(r.track({type:0,doc:m}),F=!0):b&&!m&&(r.track({type:1,doc:b}),F=!0,(u||d)&&(l=!0)),F&&(m?(o=o.add(m),s=R?s.add(g):s.delete(g)):(o=o.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const g=this.query.limitType==="F"?o.last():o.first();o=o.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{tu:o,iu:r,Cs:l,mutatedKeys:s}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,i){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort((g,v)=>function(m,N){const R=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Rt:F})}};return R(m)-R(N)}(g.type,v.type)||this.eu(g.doc,v.doc)),this.ou(r),i=i??!1;const l=e&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new Ba(this.query,t.tu,s,o,t.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Vp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=we(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const e=[];return t.forEach(r=>{this.Xa.has(r)||e.push(new l1(r))}),this.Xa.forEach(r=>{t.has(r)||e.push(new c1(r))}),e}cu(t){this.Ya=t.Qs,this.Xa=we();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ba.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zd="SyncEngine";class Pw{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class Nw{constructor(t){this.key=t,this.hu=!1}}class Cw{constructor(t,e,r,i,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ho(l=>_m(l),_u),this.Iu=new Map,this.Eu=new Set,this.du=new Xe(Xt.comparator),this.Au=new Map,this.Ru=new kd,this.Vu={},this.mu=new Map,this.fu=Va.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Rw(n,t,e=!0){const r=g1(n);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await u1(r,t,e,!0),i}async function Lw(n,t){const e=g1(n);await u1(e,t,!0,!1)}async function u1(n,t,e,r){const i=await Zv(n.localStore,Pi(t)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,e);let l;return r&&(l=await kw(n,t,s,o==="current",i.resumeToken)),n.isPrimaryClient&&e&&$m(n.remoteStore,i),l}async function kw(n,t,e,r,i){n.pu=(v,b,m)=>async function(R,F,P,L){let O=F.view.ru(P);O.Cs&&(O=await kp(R.localStore,F.query,!1).then(({documents:_})=>F.view.ru(_,O)));const q=L&&L.targetChanges.get(F.targetId),Y=L&&L.targetMismatches.get(F.targetId)!=null,J=F.view.applyChanges(O,R.isPrimaryClient,q,Y);return Hp(R,F.targetId,J.au),J.snapshot}(n,v,b,m);const s=await kp(n.localStore,t,!0),o=new xw(t,s.Qs),l=o.ru(s.documents),u=el.createSynthesizedTargetChangeForCurrentChange(e,r&&n.onlineState!=="Offline",i),d=o.applyChanges(l,n.isPrimaryClient,u);Hp(n,e,d.au);const g=new Pw(t,e,o);return n.Tu.set(t,g),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function Fw(n,t,e){const r=ce(n),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!_u(o,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),e&&Md(r.remoteStore,i.targetId),Jh(r,i.targetId)}).catch(Wa)):(Jh(r,i.targetId),await Yh(r.localStore,i.targetId,!0))}async function Dw(n,t){const e=ce(n),r=e.Tu.get(t),i=e.Iu.get(r.targetId);e.isPrimaryClient&&i.length===1&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),Md(e.remoteStore,r.targetId))}async function Ow(n,t,e){const r=Hw(n);try{const i=await function(o,l){const u=ce(o),d=ze.now(),g=l.reduce((m,N)=>m.add(N.key),we());let v,b;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let N=os(),R=we();return u.Ns.getEntries(m,g).next(F=>{N=F,N.forEach((P,L)=>{L.isValidDocument()||(R=R.add(P))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,N)).next(F=>{v=F;const P=[];for(const L of l){const O=Jy(L,v.get(L.key).overlayedDocument);O!=null&&P.push(new no(L.key,O,vm(O.value.mapValue),ci.exists(!0)))}return u.mutationQueue.addMutationBatch(m,d,P,l)}).next(F=>{b=F;const P=F.applyToLocalDocumentSet(v,R);return u.documentOverlayCache.saveOverlays(m,F.batchId,P)})}).then(()=>({batchId:b.batchId,changes:Pm(v)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new Xe(ve)),d=d.insert(l,u),o.Vu[o.currentUser.toKey()]=d}(r,i.batchId,e),await rl(r,i.changes),await Lu(r.remoteStore)}catch(i){const s=Ud(i,"Failed to persist write");e.reject(s)}}async function h1(n,t){const e=ce(n);try{const r=await Xv(e.localStore,t);t.targetChanges.forEach((i,s)=>{const o=e.Au.get(s);o&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ne(o.hu,14607):i.removedDocuments.size>0&&(Ne(o.hu,42227),o.hu=!1))}),await rl(e,r,t)}catch(r){await Wa(r)}}function Up(n,t,e){const r=ce(n);if(r.isPrimaryClient&&e===0||!r.isPrimaryClient&&e===1){const i=[];r.Tu.forEach((s,o)=>{const l=o.view.va(t);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=ce(o);u.onlineState=l;let d=!1;u.queries.forEach((g,v)=>{for(const b of v.Sa)b.va(l)&&(d=!0)}),d&&Hd(u)}(r.eventManager,t),i.length&&r.Pu.H_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Mw(n,t,e){const r=ce(n);r.sharedClientState.updateQueryState(t,"rejected",e);const i=r.Au.get(t),s=i&&i.key;if(s){let o=new Xe(Xt.comparator);o=o.insert(s,zn.newNoDocument(s,se.min()));const l=we().add(s),u=new Nu(se.min(),new Map,new Xe(ve),o,l);await h1(r,u),r.du=r.du.remove(s),r.Au.delete(t),Wd(r)}else await Yh(r.localStore,t,!1).then(()=>Jh(r,t,e)).catch(Wa)}async function jw(n,t){const e=ce(n),r=t.batch.batchId;try{const i=await Yv(e.localStore,t);f1(e,r,null),d1(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await rl(e,i)}catch(i){await Wa(i)}}async function Vw(n,t,e){const r=ce(n);try{const i=await function(o,l){const u=ce(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return u.mutationQueue.lookupMutationBatch(d,l).next(v=>(Ne(v!==null,37113),g=v.keys(),u.mutationQueue.removeMutationBatch(d,v))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,g,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>u.localDocuments.getDocuments(d,g))})}(r.localStore,t);f1(r,t,e),d1(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),await rl(r,i)}catch(i){await Wa(i)}}function d1(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function f1(n,t,e){const r=ce(n);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(e?s.reject(e):s.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function Jh(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Iu.get(t))n.Tu.delete(r),e&&n.Pu.yu(r,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(r=>{n.Ru.containsKey(r)||p1(n,r)})}function p1(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Md(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Wd(n))}function Hp(n,t,e){for(const r of e)r instanceof c1?(n.Ru.addReference(r.key,t),Bw(n,r)):r instanceof l1?(Vt(zd,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,t),n.Ru.containsKey(r.key)||p1(n,r.key)):ee(19791,{wu:r})}function Bw(n,t){const e=t.key,r=e.path.canonicalString();n.du.get(e)||n.Eu.has(r)||(Vt(zd,"New document in limbo: "+e),n.Eu.add(r),Wd(n))}function Wd(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Xt(He.fromString(t)),r=n.fu.next();n.Au.set(r,new Nw(e)),n.du=n.du.insert(e,r),$m(n.remoteStore,new js(Pi(xd(e.path)),r,"TargetPurposeLimboResolution",Au.ce))}}async function rl(n,t,e){const r=ce(n),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,u)=>{o.push(r.pu(u,t,e).then(d=>{var g;if((d||e)&&r.isPrimaryClient){const v=d?!d.fromCache:(g=e==null?void 0:e.targetChanges.get(u.targetId))==null?void 0:g.current;r.sharedClientState.updateQueryState(u.targetId,v?"current":"not-current")}if(d){i.push(d);const v=Dd.As(u.targetId,d);s.push(v)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(u,d){const g=ce(u);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>Et.forEach(d,b=>Et.forEach(b.Es,m=>g.persistence.referenceDelegate.addReference(v,b.targetId,m)).next(()=>Et.forEach(b.ds,m=>g.persistence.referenceDelegate.removeReference(v,b.targetId,m)))))}catch(v){if(!Ga(v))throw v;Vt(Od,"Failed to update sequence numbers: "+v)}for(const v of d){const b=v.targetId;if(!v.fromCache){const m=g.Ms.get(b),N=m.snapshotVersion,R=m.withLastLimboFreeSnapshotVersion(N);g.Ms=g.Ms.insert(b,R)}}}(r.localStore,s))}async function qw(n,t){const e=ce(n);if(!e.currentUser.isEqual(t)){Vt(zd,"User change. New user:",t.toKey());const r=await Xm(e.localStore,t);e.currentUser=t,function(s,o){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new Ht(St.CANCELLED,o))})}),s.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await rl(e,r.Ls)}}function Uw(n,t){const e=ce(n),r=e.Au.get(t);if(r&&r.hu)return we().add(r.key);{let i=we();const s=e.Iu.get(t);if(!s)return i;for(const o of s){const l=e.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function g1(n){const t=ce(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=h1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Mw.bind(null,t),t.Pu.H_=_w.bind(null,t.eventManager),t.Pu.yu=Tw.bind(null,t.eventManager),t}function Hw(n){const t=ce(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vw.bind(null,t),t}class hu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Cu(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return Kv(this.persistence,new zv,t.initialUser,this.serializer)}Cu(t){return new Ym(Fd.mi,this.serializer)}Du(t){return new tw}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hu.provider={build:()=>new hu};class zw extends hu{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Ne(this.persistence.referenceDelegate instanceof lu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Nv(r,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?dr.withCacheSize(this.cacheSizeBytes):dr.DEFAULT;return new Ym(r=>lu.mi(r,e),this.serializer)}}class Zh{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Up(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qw.bind(null,this.syncEngine),await Ew(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Sw}()}createDatastore(t){const e=Cu(t.databaseInfo.databaseId),r=function(s){return new sw(s)}(t.databaseInfo);return function(s,o,l,u){return new lw(s,o,l,u)}(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return function(r,i,s,o,l){return new hw(r,i,s,o,l)}(this.localStore,this.datastore,t.asyncQueue,e=>Up(this.syncEngine,e,0),function(){return Op.v()?new Op:new ew}())}createSyncEngine(t,e){return function(i,s,o,l,u,d,g){const v=new Cw(i,s,o,l,u,d);return g&&(v.gu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(i){const s=ce(i);Vt(Bo,"RemoteStore shutting down."),s.Ea.add(5),await nl(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}Zh.provider={build:()=>new Zh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):is("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="FirestoreClient";class Ww{constructor(t,e,r,i,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=Hn.UNAUTHENTICATED,this.clientId=bd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Vt(Zs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Vt(Zs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const r=Ud(e,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function yh(n,t){n.asyncQueue.verifyOperationInProgress(),Vt(Zs,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Xm(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function zp(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Gw(n);Vt(Zs,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>jp(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>jp(t.remoteStore,i)),n._onlineComponents=t}async function Gw(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Vt(Zs,"Using user provided OfflineComponentProvider");try{await yh(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(i){return i.name==="FirebaseError"?i.code===St.FAILED_PRECONDITION||i.code===St.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(e))throw e;Da("Error using user provided cache. Falling back to memory cache: "+e),await yh(n,new hu)}}else Vt(Zs,"Using default OfflineComponentProvider"),await yh(n,new zw(void 0));return n._offlineComponents}async function y1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Vt(Zs,"Using user provided OnlineComponentProvider"),await zp(n,n._uninitializedComponentsProvider._online)):(Vt(Zs,"Using default OnlineComponentProvider"),await zp(n,new Zh))),n._onlineComponents}function Kw(n){return y1(n).then(t=>t.syncEngine)}async function v1(n){const t=await y1(n),e=t.eventManager;return e.onListen=Rw.bind(null,t.syncEngine),e.onUnlisten=Fw.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Lw.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Dw.bind(null,t.syncEngine),e}function Yw(n,t,e={}){const r=new es;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,d){const g=new m1({next:b=>{g.Nu(),o.enqueueAndForget(()=>o1(s,v));const m=b.docs.has(l);!m&&b.fromCache?d.reject(new Ht(St.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&b.fromCache&&u&&u.source==="server"?d.reject(new Ht(St.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(b)},error:b=>d.reject(b)}),v=new a1(xd(l.path),g,{includeMetadataChanges:!0,qa:!0});return s1(s,v)}(await v1(n),n.asyncQueue,t,e,r)),r.promise}function Xw(n,t,e={}){const r=new es;return n.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,d){const g=new m1({next:b=>{g.Nu(),o.enqueueAndForget(()=>o1(s,v)),b.fromCache&&u.source==="server"?d.reject(new Ht(St.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(b)},error:b=>d.reject(b)}),v=new a1(l,g,{includeMetadataChanges:!0,qa:!0});return s1(s,v)}(await v1(n),n.asyncQueue,t,e,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="firestore.googleapis.com",Gp=!0;class Kp{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Ht(St.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=b1,this.ssl=Gp}else this.host=t.host,this.ssl=t.ssl??Gp;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Km;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<xv)throw new Ht(St.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w1(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ht(St.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ht(St.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ht(St.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ku{constructor(t,e,r,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ht(St.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ht(St.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kp(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ey;switch(r.type){case"firstParty":return new sy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ht(St.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=Wp.get(e);r&&(Vt("ComponentProvider","Removing Datastore"),Wp.delete(e),r.terminate())}(this),Promise.resolve()}}function Qw(n,t,e,r={}){var d;n=ss(n,ku);const i=Ua(t),s=n._getSettings(),o={...s,emulatorOptions:n._getEmulatorOptions()},l=`${t}:${e}`;i&&(zg(`https://${l}`),Wg("Firestore",!0)),s.host!==b1&&s.host!==l&&Da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:i,emulatorOptions:r};if(!Mo(u,o)&&(n._setSettings(u),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=Hn.MOCK_USER;else{g=T2(r.mockUserToken,(d=n._app)==null?void 0:d.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Ht(St.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Hn(b)}n._authCredentials=new ny(new sm(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Fu(this.firestore,t,this._query)}}class bn{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bn(this.firestore,t,this._key)}toJSON(){return{type:bn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,r){if($c(e,bn._jsonSchema))return new bn(t,r||null,new Xt(He.fromString(e.referencePath)))}}bn._jsonSchemaVersion="firestore/documentReference/1.0",bn._jsonSchema={type:hn("string",bn._jsonSchemaVersion),referencePath:hn("string")};class zs extends Fu{constructor(t,e,r){super(t,e,xd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bn(this.firestore,null,new Xt(t))}withConverter(t){return new zs(this.firestore,t,this._path)}}function qa(n,t,...e){if(n=On(n),om("collection","path",t),n instanceof ku){const r=He.fromString(t,...e);return ap(r),new zs(n,null,r)}{if(!(n instanceof bn||n instanceof zs))throw new Ht(St.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(He.fromString(t,...e));return ap(r),new zs(n.firestore,null,r)}}function Hr(n,t,...e){if(n=On(n),arguments.length===1&&(t=bd.newId()),om("doc","path",t),n instanceof ku){const r=He.fromString(t,...e);return op(r),new bn(n,null,new Xt(r))}{if(!(n instanceof bn||n instanceof zs))throw new Ht(St.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(He.fromString(t,...e));return op(r),new bn(n.firestore,n instanceof zs?n.converter:null,new Xt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="AsyncQueue";class Xp{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Jm(this,"async_queue_retry"),this._c=()=>{const r=mh();r&&Vt(Yp,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const e=mh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=mh();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new es;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ga(t))throw t;Vt(Yp,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",Qp(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=e,e}enqueueAfterDelay(t,e,r){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const i=qd.createAndSchedule(this,t,e,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&ee(47125,{Pc:Qp(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Qp(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Ya extends ku{constructor(t,e,r,i){super(t,e,r,i),this.type="firestore",this._queue=new Xp,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Xp(t),this._firestoreClient=void 0,await t}}}function Jw(n,t){const e=typeof n=="object"?n:Xg(),r=typeof n=="string"?n:t||nu,i=vd(e,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=S2("firestore");s&&Qw(i,...s)}return i}function Gd(n){if(n._terminated)throw new Ht(St.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Zw(n),n._firestoreClient}function Zw(n){var r,i,s;const t=n._freezeSettings(),e=function(l,u,d,g){return new Ey(l,u,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,w1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,t);n._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new Ww(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ur(Mn.fromBase64String(t))}catch(e){throw new Ht(St.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ur(Mn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($c(t,Ur._jsonSchema))return Ur.fromBase64String(t.bytes)}}Ur._jsonSchemaVersion="firestore/bytes/1.0",Ur._jsonSchema={type:hn("string",Ur._jsonSchemaVersion),bytes:hn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ht(St.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ht(St.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ht(St.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ve(this._lat,t._lat)||ve(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(t){if($c(t,Ci._jsonSchema))return new Ci(t.latitude,t.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:hn("string",Ci._jsonSchemaVersion),latitude:hn("number"),longitude:hn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($c(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new Ri(t.vectorValues);throw new Ht(St.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:hn("string",Ri._jsonSchemaVersion),vectorValues:hn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=/^__.*__$/;class tb{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return this.fieldMask!==null?new no(t,this.data,this.fieldMask,e,this.fieldTransforms):new tl(t,this.data,e,this.fieldTransforms)}}class A1{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new no(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function E1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ac:n})}}class Yd{constructor(t,e,r,i,s,o){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Yd({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const e=(i=this.path)==null?void 0:i.child(t),r=this.Vc({path:e,fc:!1});return r.gc(t),r}yc(t){var i;const e=(i=this.path)==null?void 0:i.child(t),r=this.Vc({path:e,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return du(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(E1(this.Ac)&&$w.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class eb{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||Cu(t)}Cc(t,e,r,i=!1){return new Yd({Ac:t,methodName:e,Dc:r,path:Dn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I1(n){const t=n._freezeSettings(),e=Cu(n._databaseId);return new eb(n._databaseId,!!t.ignoreUndefinedProperties,e)}function nb(n,t,e,r,i,s={}){const o=n.Cc(s.merge||s.mergeFields?2:0,t,e,i);Xd("Data must be an object, but it was:",o,r);const l=S1(r,o);let u,d;if(s.merge)u=new Sr(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const g=[];for(const v of s.mergeFields){const b=$h(t,v,e);if(!o.contains(b))throw new Ht(St.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);T1(g,b)||g.push(b)}u=new Sr(g),d=o.fieldTransforms.filter(v=>u.covers(v.field))}else u=null,d=o.fieldTransforms;return new tb(new fr(l),u,d)}class Ou extends Kd{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ou}}function rb(n,t,e,r){const i=n.Cc(1,t,e);Xd("Data must be an object, but it was:",i,r);const s=[],o=fr.empty();eo(r,(u,d)=>{const g=Qd(t,u,e);d=On(d);const v=i.yc(g);if(d instanceof Ou)s.push(g);else{const b=Mu(d,v);b!=null&&(s.push(g),o.set(g,b))}});const l=new Sr(s);return new A1(o,l,i.fieldTransforms)}function ib(n,t,e,r,i,s){const o=n.Cc(1,t,e),l=[$h(t,r,e)],u=[i];if(s.length%2!=0)throw new Ht(St.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)l.push($h(t,s[b])),u.push(s[b+1]);const d=[],g=fr.empty();for(let b=l.length-1;b>=0;--b)if(!T1(d,l[b])){const m=l[b];let N=u[b];N=On(N);const R=o.yc(m);if(N instanceof Ou)d.push(m);else{const F=Mu(N,R);F!=null&&(d.push(m),g.set(m,F))}}const v=new Sr(d);return new A1(g,v,o.fieldTransforms)}function Mu(n,t){if(_1(n=On(n)))return Xd("Unsupported field value:",t,n),S1(n,t);if(n instanceof Kd)return function(r,i){if(!E1(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Mu(l,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,t)}return function(r,i){if((r=On(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Wy(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ze.fromDate(r);return{timestampValue:cu(i.serializer,s)}}if(r instanceof ze){const s=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cu(i.serializer,s)}}if(r instanceof Ci)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ur)return{bytesValue:Bm(i.serializer,r._byteString)};if(r instanceof bn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ld(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ri)return function(o,l){return{mapValue:{fields:{[gm]:{stringValue:ym},[ru]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Pd(l.serializer,d)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Ad(r)}`)}(n,t)}function S1(n,t){const e={};return lm(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):eo(n,(r,i)=>{const s=Mu(i,t.mc(r));s!=null&&(e[r]=s)}),{mapValue:{fields:e}}}function _1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ze||n instanceof Ci||n instanceof Ur||n instanceof bn||n instanceof Kd||n instanceof Ri)}function Xd(n,t,e){if(!_1(e)||!am(e)){const r=Ad(e);throw r==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+r)}}function $h(n,t,e){if((t=On(t))instanceof Du)return t._internalPath;if(typeof t=="string")return Qd(n,t);throw du("Field path arguments must be of type string or ",n,!1,void 0,e)}const sb=new RegExp("[~\\*/\\[\\]]");function Qd(n,t,e){if(t.search(sb)>=0)throw du(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Du(...t.split("."))._internalPath}catch{throw du(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function du(n,t,e,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${t}() called with invalid data`;e&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Ht(St.INVALID_ARGUMENT,l+n+u)}function T1(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,e,r,i,s){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new ob(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(P1("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class ob extends x1{data(){return super.data()}}function P1(n,t){return typeof t=="string"?Qd(n,t):t instanceof Du?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ht(St.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cb{convertValue(t,e="none"){switch(Qs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw ee(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return eo(t,(i,s)=>{r[i]=this.convertValue(s,e)}),r}convertVectorValue(t){var r,i,s;const e=(s=(i=(r=t.fields)==null?void 0:r[ru].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>nn(o.doubleValue));return new Ri(e)}convertGeoPoint(t){return new Ci(nn(t.latitude),nn(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=Iu(t);return r==null?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(qc(t));default:return null}}convertTimestamp(t){const e=Ys(t);return new ze(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=He.fromString(t);Ne(Gm(r),9688,{name:t});const i=new Uc(r.get(1),r.get(3)),s=new Xt(r.popFirst(5));return i.isEqual(e)||is(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class _c{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Lo extends x1{constructor(t,e,r,i,s,o){super(t,e,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Yl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(P1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ht(St.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Lo._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Lo._jsonSchema={type:hn("string",Lo._jsonSchemaVersion),bundleSource:hn("string","DocumentSnapshot"),bundleName:hn("string"),bundle:hn("string")};class Yl extends Lo{data(t={}){return super.data(t)}}class Na{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new _c(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new Yl(this._firestore,this._userDataWriter,r.key,r,new _c(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ht(St.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new Yl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new _c(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Yl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new _c(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,g=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),g=o.indexOf(l.doc.key)),{type:ub(l.type),doc:u,oldIndex:d,newIndex:g}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ht(St.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Na._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(e.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function ub(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(n){n=ss(n,bn);const t=ss(n.firestore,Ya);return Yw(Gd(t),n._key).then(e=>hb(t,n,e))}Na._jsonSchemaVersion="firestore/querySnapshot/1.0",Na._jsonSchema={type:hn("string",Na._jsonSchemaVersion),bundleSource:hn("string","QuerySnapshot"),bundleName:hn("string"),bundle:hn("string")};class N1 extends cb{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ur(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bn(this.firestore,null,e)}}function Jd(n){n=ss(n,Fu);const t=ss(n.firestore,Ya),e=Gd(t),r=new N1(t);return ab(n._query),Xw(e,n._query).then(i=>new Na(t,r,n,i))}function Zd(n,t,e,...r){n=ss(n,bn);const i=ss(n.firestore,Ya),s=I1(i);let o;return o=typeof(t=On(t))=="string"||t instanceof Du?ib(s,"updateDoc",n._key,t,e,r):rb(s,"updateDoc",n._key,t),ef(i,[o.toMutation(n._key,ci.exists(!0))])}function $d(n){return ef(ss(n.firestore,Ya),[new Nd(n._key,ci.none())])}function tf(n,t){const e=ss(n.firestore,Ya),r=Hr(n),i=lb(n.converter,t);return ef(e,[nb(I1(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then(()=>r)}function ef(n,t){return function(r,i){const s=new es;return r.asyncQueue.enqueueAndForget(async()=>Ow(await Kw(r),i,s)),s.promise}(Gd(n),t)}function hb(n,t,e){const r=e.docs.get(t._key),i=new N1(n);return new Lo(n,i,t._key,r,new _c(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(i){za=i})(Ha),Fa(new jo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Ya(new ry(r.getProvider("auth-internal")),new oy(o,r.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ht(St.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uc(d.options.projectId,g)}(o,i),o);return s={useFetchStreams:e,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Us(np,rp,t),Us(np,rp,"esm2020")})();function C1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const db=C1,R1=new Jc("auth","Firebase",C1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new md("@firebase/auth");function fb(n,...t){fu.logLevel<=ye.WARN&&fu.warn(`Auth (${Ha}): ${n}`,...t)}function Xl(n,...t){fu.logLevel<=ye.ERROR&&fu.error(`Auth (${Ha}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(n,...t){throw rf(n,...t)}function li(n,...t){return rf(n,...t)}function nf(n,t,e){const r={...db(),[t]:e};return new Jc("auth","Firebase",r).create(t,{appName:n.name})}function ns(n){return nf(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pb(n,t,e){const r=e;if(!(t instanceof r))throw r.name!==t.constructor.name&&zr(n,"argument-error"),nf(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rf(n,...t){if(typeof n!="string"){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return R1.create(n,...t)}function te(n,t,...e){if(!n)throw rf(t,...e)}function $i(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Xl(t),new Error(t)}function as(n,t){n||$i(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function gb(){return Jp()==="http:"||Jp()==="https:"}function Jp(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gb()||L2()||"connection"in navigator)?navigator.onLine:!0}function yb(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t,e){this.shortDelay=t,this.longDelay=e,as(e>t,"Short delay should be less than long delay!"),this.isMobile=N2()||k2()}get(){return mb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(n,t){as(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bb=new il(3e4,6e4);function ro(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function io(n,t,e,r,i={}){return k1(n,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const l=Zc({key:n.config.apiKey,...o}).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:u,...s};return R2()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Ua(n.emulatorConfig.host)&&(d.credentials="include"),L1.fetch()(await F1(n,n.config.apiHost,e,l),d)})}async function k1(n,t,e){n._canInitEmulator=!1;const r={...vb,...t};try{const i=new Eb(n),s=await Promise.race([e(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw jl(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw jl(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw jl(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw jl(n,"user-disabled",o);const g=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw nf(n,g,d);zr(n,g)}}catch(i){if(i instanceof cs)throw i;zr(n,"network-request-failed",{message:String(i)})}}async function sl(n,t,e,r,i={}){const s=await io(n,t,e,r,i);return"mfaPendingCredential"in s&&zr(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function F1(n,t,e,r){const i=`${t}${e}?${r}`,s=n,o=s.config.emulator?sf(n.config,i):`${n.config.apiScheme}://${i}`;return wb.includes(e)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Ab(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Eb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),bb.get())})}}function jl(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const i=li(n,t,r);return i.customData._tokenResponse=e,i}function Zp(n){return n!==void 0&&n.enterprise!==void 0}class Ib{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return Ab(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Sb(n,t){return io(n,"GET","/v2/recaptchaConfig",ro(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(n,t){return io(n,"POST","/v1/accounts:delete",t)}async function pu(n,t){return io(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Tb(n,t=!1){const e=On(n),r=await e.getIdToken(t),i=of(r);te(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Lc(vh(i.auth_time)),issuedAtTime:Lc(vh(i.iat)),expirationTime:Lc(vh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vh(n){return Number(n)*1e3}function of(n){const[t,e,r]=n.split(".");if(t===void 0||e===void 0||r===void 0)return Xl("JWT malformed, contained fewer than 3 sections"),null;try{const i=Bg(e);return i?JSON.parse(i):(Xl("Failed to decode base64 JWT payload"),null)}catch(i){return Xl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $p(n){const t=of(n);return te(t,"internal-error"),te(typeof t.exp<"u","internal-error"),te(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(n,t,e=!1){if(e)return t;try{return await t}catch(r){throw r instanceof cs&&xb(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function xb({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(n){var v;const t=n.auth,e=await n.getIdToken(),r=await Gc(n,pu(t,{idToken:e}));te(r==null?void 0:r.users.length,t,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const s=(v=i.providerUserInfo)!=null&&v.length?D1(i.providerUserInfo):[],o=Cb(n.providerData,s),l=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ed(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function Nb(n){const t=On(n);await gu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Cb(n,t){return[...n.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function D1(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rb(n,t){const e=await k1(n,{},async()=>{const r=Zc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await F1(n,i,"/v1/token",`key=${s}`),l=await n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return n.emulatorConfig&&Ua(n.emulatorConfig.host)&&(u.credentials="include"),L1.fetch()(o,u)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function Lb(n,t){return io(n,"POST","/v2/accounts:revokeToken",ro(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){te(t.idToken,"internal-error"),te(typeof t.idToken<"u","internal-error"),te(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$p(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){te(t.length!==0,"internal-error");const e=$p(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:r,refreshToken:i,expiresIn:s}=await Rb(t,e);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,e){const{refreshToken:r,accessToken:i,expirationTime:s}=e,o=new Ca;return r&&(te(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(te(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ca,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(n,t){te(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ai{constructor({uid:t,auth:e,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Pb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ed(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await Gc(this,this.stsTokenManager.getToken(this.auth,t));return te(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return Tb(this,t)}reload(){return Nb(this)}_assign(t){this!==t&&(te(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),e&&await gu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ir(this.auth.app))return Promise.reject(ns(this.auth));const t=await this.getIdToken();return await Gc(this,_b(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const r=e.displayName??void 0,i=e.email??void 0,s=e.phoneNumber??void 0,o=e.photoURL??void 0,l=e.tenantId??void 0,u=e._redirectEventId??void 0,d=e.createdAt??void 0,g=e.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:m,providerData:N,stsTokenManager:R}=e;te(v&&R,t,"internal-error");const F=Ca.fromJSON(this.name,R);te(typeof v=="string",t,"internal-error"),Rs(r,t.name),Rs(i,t.name),te(typeof b=="boolean",t,"internal-error"),te(typeof m=="boolean",t,"internal-error"),Rs(s,t.name),Rs(o,t.name),Rs(l,t.name),Rs(u,t.name),Rs(d,t.name),Rs(g,t.name);const P=new ai({uid:v,auth:t,email:i,emailVerified:b,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:F,createdAt:d,lastLoginAt:g});return N&&Array.isArray(N)&&(P.providerData=N.map(L=>({...L}))),u&&(P._redirectEventId=u),P}static async _fromIdTokenResponse(t,e,r=!1){const i=new Ca;i.updateFromServerResponse(e);const s=new ai({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await gu(s),s}static async _fromGetAccountInfoResponse(t,e,r){const i=e.users[0];te(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?D1(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new Ca;l.updateFromIdToken(r);const u=new ai({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ed(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=new Map;function ts(n){as(n instanceof Function,"Expected a class definition");let t=tg.get(n);return t?(as(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,tg.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}O1.type="NONE";const eg=O1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(n,t,e){return`firebase:${n}:${t}:${e}`}class Ra{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ql(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ql("persistence",i.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await pu(this.auth,{idToken:t}).catch(()=>{});return e?ai._fromGetAccountInfoResponse(this.auth,e,t):null}return ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,r="authUser"){if(!e.length)return new Ra(ts(eg),t,r);const i=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||ts(eg);const o=Ql(r,t.config.apiKey,t.name);let l=null;for(const d of e)try{const g=await d._get(o);if(g){let v;if(typeof g=="string"){const b=await pu(t,{idToken:g}).catch(()=>{});if(!b)break;v=await ai._fromGetAccountInfoResponse(t,b,g)}else v=ai._fromJSON(t,g);d!==s&&(l=v),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ra(s,t,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(e.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new Ra(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(B1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(M1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(U1(t))return"Blackberry";if(H1(t))return"Webos";if(j1(t))return"Safari";if((t.includes("chrome/")||V1(t))&&!t.includes("edge/"))return"Chrome";if(q1(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(e);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function M1(n=Gn()){return/firefox\//i.test(n)}function j1(n=Gn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function V1(n=Gn()){return/crios\//i.test(n)}function B1(n=Gn()){return/iemobile/i.test(n)}function q1(n=Gn()){return/android/i.test(n)}function U1(n=Gn()){return/blackberry/i.test(n)}function H1(n=Gn()){return/webos/i.test(n)}function af(n=Gn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kb(n=Gn()){var t;return af(n)&&!!((t=window.navigator)!=null&&t.standalone)}function Fb(){return F2()&&document.documentMode===10}function z1(n=Gn()){return af(n)||q1(n)||H1(n)||U1(n)||/windows phone/i.test(n)||B1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(n,t=[]){let e;switch(n){case"Browser":e=ng(Gn());break;case"Worker":e=`${ng(Gn())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ha}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=s=>new Promise((o,l)=>{try{const u=t(s);o(u)}catch(u){l(u)}});r.onAbort=e,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const r of this.queue)await r(t),r.onAbort&&e.push(r.onAbort)}catch(r){e.reverse();for(const i of e)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(n,t={}){return io(n,"GET","/v2/passwordPolicy",ro(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=6;class jb{constructor(t){var r;const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??Mb,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t,e,r,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rg(this),this.idTokenSubscription=new rg(this),this.beforeStateQueue=new Db(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ts(e)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Ra.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await pu(this,{idToken:t}),r=await ai._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(r)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(Ir(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let r=e,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===l)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await gu(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=yb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ir(this.app))return Promise.reject(ns(this));const e=t?On(t):null;return e&&te(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&te(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ir(this.app)?Promise.reject(ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ir(this.app)?Promise.reject(ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Ob(this),e=new jb(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Jc("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lb(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,e){const r=await this.getOrInitRedirectPersistenceManager(e);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ts(t)||this._popupRedirectResolver;te(e,this,"argument-error"),this.redirectPersistenceManager=await Ra.create(this,[ts(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,r;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)==null?void 0:e._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((e=this.currentUser)==null?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,i){if(this._deleted)return()=>{};const s=typeof e=="function"?e:e.next.bind(e);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof e=="function"){const u=t.addObserver(e,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(e);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=W1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());e&&(t["X-Firebase-Client"]=e);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Ir(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:e.getToken());return t!=null&&t.error&&fb(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function so(n){return On(n)}class rg{constructor(t){this.auth=t,this.observer=null,this.addObserver=U2(e=>this.observer=e)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bb(n){ju=n}function G1(n){return ju.loadJS(n)}function qb(){return ju.recaptchaEnterpriseScript}function Ub(){return ju.gapiScript}function Hb(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class zb{constructor(){this.enterprise=new Wb}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class Wb{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const Gb="recaptcha-enterprise",K1="NO_RECAPTCHA";class Kb{constructor(t){this.type=Gb,this.auth=so(t)}async verify(t="verify",e=!1){async function r(s){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{Sb(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new Ib(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;Zp(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(d=>{o(d)}).catch(()=>{o(K1)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zb().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!e&&Zp(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=qb();u.length!==0&&(u+=l),G1(u).then(()=>{i(l,s,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function yc(n,t,e,r=!1,i=!1){const s=new Kb(n);let o;if(i)o=K1;else try{o=await s.verify(e)}catch{o=await s.verify(e,!0)}const l={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function nd(n,t,e,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=n._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await yc(n,t,e,e==="getOobCode");return r(n,l)}else return r(n,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await yc(n,t,e,e==="getOobCode");return r(n,u)}else return Promise.reject(l)});else if(i==="PHONE_PROVIDER")if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const l=await yc(n,t,e);return r(n,l).catch(async u=>{var d;if(((d=n._getRecaptchaConfig())==null?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${e} flow.`);const g=await yc(n,t,e,!1,!0);return r(n,g)}return Promise.reject(u)})}else{const l=await yc(n,t,e,!1,!0);return r(n,l)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(n,t){const e=vd(n,"auth");if(e.isInitialized()){const i=e.getImmediate(),s=e.getOptions();if(Mo(s,t??{}))return i;zr(i,"already-initialized")}return e.initialize({options:t})}function Xb(n,t){const e=(t==null?void 0:t.persistence)||[],r=(Array.isArray(e)?e:[e]).map(ts);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function Qb(n,t,e){const r=so(n);te(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(e!=null&&e.disableWarnings),s=Y1(t),{host:o,port:l}=Jb(t),u=l===null?"":`:${l}`,d={url:`${s}//${o}${u}/`},g=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),te(Mo(d,r.config.emulator)&&Mo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Ua(o)?(zg(`${s}//${o}${u}`),Wg("Auth",!0)):i||Zb()}function Y1(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function Jb(n){const t=Y1(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ig(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ig(o)}}}function ig(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function Zb(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,e){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}async function $b(n,t){return io(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(n,t){return sl(n,"POST","/v1/accounts:signInWithPassword",ro(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(n,t){return sl(n,"POST","/v1/accounts:signInWithEmailLink",ro(n,t))}async function n4(n,t){return sl(n,"POST","/v1/accounts:signInWithEmailLink",ro(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends cf{constructor(t,e,r,i=null){super("password",r),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new Kc(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new Kc(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nd(t,e,"signInWithPassword",t4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return e4(t,{email:this._email,oobCode:this._password});default:zr(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const r={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nd(t,r,"signUpPassword",$b,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return n4(t,{idToken:e,email:this._email,oobCode:this._password});default:zr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(n,t){return sl(n,"POST","/v1/accounts:signInWithIdp",ro(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="http://localhost";class qo extends cf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new qo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):zr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...s}=e;if(!r||!i)return null;const o=new qo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const e=this.buildRequest();return La(t,e)}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,La(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,La(t,e)}buildRequest(){const t={requestUri:r4,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Zc(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s4(n){const t=bc(Ac(n)).link,e=t?bc(Ac(t)).deep_link_id:null,r=bc(Ac(n)).deep_link_id;return(r?bc(Ac(r)).link:null)||r||e||t||n}class lf{constructor(t){const e=bc(Ac(t)),r=e.apiKey??null,i=e.oobCode??null,s=i4(e.mode??null);te(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=s4(t);try{return new lf(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.providerId=Xa.PROVIDER_ID}static credential(t,e){return Kc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const r=lf.parseLink(e);return te(r,"argument-error"),Kc._fromEmailAndCode(t,r.code,r.tenantId)}}Xa.PROVIDER_ID="password";Xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends uf{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends ol{constructor(){super("facebook.com")}static credential(t){return qo._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends ol{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return qo._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Zi.credentialFromTaggedObject(t)}static credentialFromError(t){return Zi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:r}=t;if(!e&&!r)return null;try{return Zi.credential(e,r)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends ol{constructor(){super("github.com")}static credential(t){return qo._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ds.credentialFromTaggedObject(t)}static credentialFromError(t){return Ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ds.credential(t.oauthAccessToken)}catch{return null}}}Ds.GITHUB_SIGN_IN_METHOD="github.com";Ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends ol{constructor(){super("twitter.com")}static credential(t,e){return qo._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Os.credentialFromTaggedObject(t)}static credentialFromError(t){return Os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:r}=t;if(!e||!r)return null;try{return Os.credential(e,r)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(n,t){return sl(n,"POST","/v1/accounts:signUp",ro(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,r,i=!1){const s=await ai._fromIdTokenResponse(t,r,i),o=sg(r);return new Uo({user:s,providerId:o,_tokenResponse:r,operationType:e})}static async _forOperation(t,e,r){await t._updateTokensIfNecessary(r,!0);const i=sg(r);return new Uo({user:t,providerId:i,_tokenResponse:r,operationType:e})}}function sg(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends cs{constructor(t,e,r,i){super(e.code,e.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mu.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,i){return new mu(t,e,r,i)}}function X1(n,t,e,r){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mu._fromErrorAndOperation(n,s,t,r):s})}async function a4(n,t,e=!1){const r=await Gc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Uo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(n,t,e=!1){const{auth:r}=n;if(Ir(r.app))return Promise.reject(ns(r));const i="reauthenticate";try{const s=await Gc(n,X1(r,i,t,n),e);te(s.idToken,r,"internal-error");const o=of(s.idToken);te(o,r,"internal-error");const{sub:l}=o;return te(n.uid===l,r,"user-mismatch"),Uo._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&zr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(n,t,e=!1){if(Ir(n.app))return Promise.reject(ns(n));const r="signIn",i=await X1(n,r,t),s=await Uo._fromIdTokenResponse(n,r,i);return e||await n._updateCurrentUser(s.user),s}async function l4(n,t){return Q1(so(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(n){const t=so(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function u4(n,t,e){if(Ir(n.app))return Promise.reject(ns(n));const r=so(n),o=await nd(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",o4,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&J1(n),u}),l=await Uo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function h4(n,t,e){return Ir(n.app)?Promise.reject(ns(n)):l4(On(n),Xa.credential(t,e)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&J1(n),r})}function d4(n,t,e,r){return On(n).onIdTokenChanged(t,e,r)}function f4(n,t,e){return On(n).beforeAuthStateChanged(t,e)}function p4(n,t,e,r){return On(n).onAuthStateChanged(t,e,r)}function g4(n){return On(n).signOut()}const yu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(yu,"1"),this.storage.removeItem(yu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=1e3,y4=10;class $1 extends Z1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const r=this.storage.getItem(e),i=this.localCache[e];r!==i&&t(e,i,r)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=t.key;e?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!e&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Fb()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,y4):i()}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:r}),!0)})},m4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}$1.type="LOCAL";const v4=$1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends Z1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}t0.type="SESSION";const e0=t0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(i=>i.isListeningto(t));if(e)return e;const r=new Vu(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:r,eventType:i,data:s}=e.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;e.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async d=>d(e.origin,s)),u=await w4(l);e.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const d=hf("",20);i.port1.start();const g=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(v){const b=v;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(b.data.response);break;default:clearTimeout(g),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function A4(n){Li().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function E4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function S4(){return n0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="firebaseLocalStorageDb",_4=1,vu="firebaseLocalStorage",i0="fbase_key";class al{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Bu(n,t){return n.transaction([vu],t?"readwrite":"readonly").objectStore(vu)}function T4(){const n=indexedDB.deleteDatabase(r0);return new al(n).toPromise()}function rd(){const n=indexedDB.open(r0,_4);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(vu,{keyPath:i0})}catch(i){e(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(vu)?t(r):(r.close(),await T4(),t(await rd()))})})}async function og(n,t,e){const r=Bu(n,!0).put({[i0]:t,value:e});return new al(r).toPromise()}async function x4(n,t){const e=Bu(n,!1).get(t),r=await new al(e).toPromise();return r===void 0?null:r.value}function ag(n,t){const e=Bu(n,!0).delete(t);return new al(e).toPromise()}const P4=800,N4=3;class s0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rd(),this.db)}async _withRetries(t){let e=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(e++>N4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vu._getInstance(S4()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await E4(),!this.activeServiceWorker)return;this.sender=new b4(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(e=t[0])!=null&&e.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||I4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rd();return await og(t,yu,"1"),await ag(t,yu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(r=>og(r,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(r=>x4(r,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>ag(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Bu(i,!1).getAll();return new al(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}s0.type="LOCAL";const C4=s0;new il(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(n,t){return t?ts(t):(te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends cf{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return La(t,this._buildIdpRequest())}_linkToIdToken(t,e){return La(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return La(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function R4(n){return Q1(n.auth,new df(n),n.bypassAuthState)}function L4(n){const{auth:t,user:e}=n;return te(e,t,"internal-error"),c4(e,new df(n),n.bypassAuthState)}async function k4(n){const{auth:t,user:e}=n;return te(e,t,"internal-error"),a4(e,new df(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(t,e,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:e,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return R4;case"linkViaPopup":case"linkViaRedirect":return k4;case"reauthViaPopup":case"reauthViaRedirect":return L4;default:zr(this.auth,"internal-error")}}resolve(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=new il(2e3,1e4);async function D4(n,t,e){if(Ir(n.app))return Promise.reject(li(n,"operation-not-supported-in-this-environment"));const r=so(n);pb(n,t,uf);const i=o0(r,e);return new Po(r,"signInViaPopup",t,i).executeNotNull()}class Po extends a0{constructor(t,e,r,i,s){super(t,e,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Po.currentPopupAction&&Po.currentPopupAction.cancel(),Po.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return te(t,this.auth,"internal-error"),t}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const t=hf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Po.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,r;if((r=(e=this.authWindow)==null?void 0:e.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,F4.get())};t()}}Po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="pendingRedirect",Jl=new Map;class M4 extends a0{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}async execute(){let t=Jl.get(this.auth._key());if(!t){try{const r=await j4(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(e){t=()=>Promise.reject(e)}Jl.set(this.auth._key(),t)}return this.bypassAuthState||Jl.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j4(n,t){const e=q4(t),r=B4(n);if(!await r._isAvailable())return!1;const i=await r._get(e)==="true";return await r._remove(e),i}function V4(n,t){Jl.set(n._key(),t)}function B4(n){return ts(n._redirectPersistence)}function q4(n){return Ql(O4,n.config.apiKey,n.name)}async function U4(n,t,e=!1){if(Ir(n.app))return Promise.reject(ns(n));const r=so(n),i=o0(r,t),o=await new M4(r,i,e).execute();return o&&!e&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=10*60*1e3;class z4{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!W4(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!c0(t)){const i=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";e.onError(li(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=H4&&this.cachedEventUids.clear(),this.cachedEventUids.has(cg(t))}saveEventToCache(t){this.cachedEventUids.add(cg(t)),this.lastProcessedEventTime=Date.now()}}function cg(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function c0({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function W4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(n,t={}){return io(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y4=/^https?/;async function X4(n){if(n.config.emulator)return;const{authorizedDomains:t}=await G4(n);for(const e of t)try{if(Q4(e))return}catch{}zr(n,"unauthorized-domain")}function Q4(n){const t=td(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===r}if(!Y4.test(e))return!1;if(K4.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new il(3e4,6e4);function lg(){const n=Li().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function Z4(n){return new Promise((t,e)=>{var i,s,o;function r(){lg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lg(),e(li(n,"network-request-failed"))},timeout:J4.get()})}if((s=(i=Li().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((o=Li().gapi)!=null&&o.load)r();else{const l=Hb("iframefcb");return Li()[l]=()=>{gapi.load?r():e(li(n,"network-request-failed"))},G1(`${Ub()}?onload=${l}`).catch(u=>e(u))}}).catch(t=>{throw Zl=null,t})}let Zl=null;function $4(n){return Zl=Zl||Z4(n),Zl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=new il(5e3,15e3),eA="__/auth/iframe",nA="emulator/auth/iframe",rA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sA(n){const t=n.config;te(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?sf(t,nA):`https://${n.config.authDomain}/${eA}`,r={apiKey:t.apiKey,appName:n.name,v:Ha},i=iA.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${e}?${Zc(r).slice(1)}`}async function oA(n){const t=await $4(n),e=Li().gapi;return te(e,n,"internal-error"),t.open({where:document.body,url:sA(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rA,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=li(n,"network-request-failed"),l=Li().setTimeout(()=>{s(o)},tA.get());function u(){Li().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cA=500,lA=600,uA="_blank",hA="http://localhost";class ug{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dA(n,t,e,r=cA,i=lA){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u={...aA,width:r.toString(),height:i.toString(),top:s,left:o},d=Gn().toLowerCase();e&&(l=V1(d)?uA:e),M1(d)&&(t=t||hA,u.scrollbars="yes");const g=Object.entries(u).reduce((b,[m,N])=>`${b}${m}=${N},`,"");if(kb(d)&&l!=="_self")return fA(t||"",l),new ug(null);const v=window.open(t||"",l,g);te(v,n,"popup-blocked");try{v.focus()}catch{}return new ug(v)}function fA(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="__/auth/handler",gA="emulator/auth/handler",mA=encodeURIComponent("fac");async function hg(n,t,e,r,i,s){te(n.config.authDomain,n,"auth-domain-config-required"),te(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Ha,eventId:i};if(t instanceof uf){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",q2(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[g,v]of Object.entries(s||{}))o[g]=v}if(t instanceof ol){const g=t.getScopes().filter(v=>v!=="");g.length>0&&(o.scopes=g.join(","))}n.tenantId&&(o.tid=n.tenantId);const l=o;for(const g of Object.keys(l))l[g]===void 0&&delete l[g];const u=await n._getAppCheckToken(),d=u?`#${mA}=${encodeURIComponent(u)}`:"";return`${yA(n)}?${Zc(l).slice(1)}${d}`}function yA({config:n}){return n.emulator?sf(n,gA):`https://${n.authDomain}/${pA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="webStorageSupport";class vA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e0,this._completeRedirectFn=U4,this._overrideRedirectResult=V4}async _openPopup(t,e,r,i){var o;as((o=this.eventManagers[t._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await hg(t,e,r,td(),i);return dA(t,s,hf())}async _openRedirect(t,e,r,i){await this._originValidation(t);const s=await hg(t,e,r,td(),i);return A4(s),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:i,promise:s}=this.eventManagers[e];return i?Promise.resolve(i):(as(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}async initAndGetManager(t){const e=await oA(t),r=new z4(t);return e.register("authEvent",i=>(te(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=e,r}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(wh,{type:wh},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[wh];s!==void 0&&e(!!s),zr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=X4(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return z1()||j1()||af()}}const wA=vA;var dg="@firebase/auth",fg="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EA(n){Fa(new jo("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W1(n)},d=new Vb(r,i,s,u);return Xb(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Fa(new jo("auth-internal",t=>{const e=so(t.getProvider("auth").getImmediate());return(r=>new bA(r))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Us(dg,fg,AA(n)),Us(dg,fg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=5*60,SA=Hg("authIdTokenMaxAge")||IA;let pg=null;const _A=n=>async t=>{const e=t&&await t.getIdTokenResult(),r=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(r&&r>SA)return;const i=e==null?void 0:e.token;pg!==i&&(pg=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function TA(n=Xg()){const t=vd(n,"auth");if(t.isInitialized())return t.getImmediate();const e=Yb(n,{popupRedirectResolver:wA,persistence:[C4,v4,e0]}),r=Hg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=_A(s.toString());f4(e,o,()=>o(e.currentUser)),d4(e,l=>o(l))}}const i=qg("auth");return i&&Qb(e,`http://${i}`),e}function xA(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}Bb({loadJS(n){return new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=i=>{const s=li("internal-error");s.customData=i,e(s)},r.type="text/javascript",r.charset="UTF-8",xA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EA("Browser");const PA={apiKey:"AIzaSyB_fmSnrQGxITVXbgwAGgNTEI3scwkRuck",authDomain:"aquabuild-pool.firebaseapp.com",projectId:"aquabuild-pool",storageBucket:"aquabuild-pool.firebasestorage.app",messagingSenderId:"915454751717",appId:"1:915454751717:web:0b986679cc027087a1750c"};let bh,wn,No,id;try{bh=Yg(PA),wn=Jw(bh),No=TA(bh),id=new Zi}catch(n){console.error("Error al inicializar Firebase:",n),wn=null,No=null,id=null}const Ws={async getAll(){try{return(await Jd(qa(wn,"clients"))).docs.map(t=>({id:t.id,...t.data()}))}catch(n){throw console.error("Error al obtener clientes:",n),new Error("No se pudieron cargar los clientes")}},async getById(n){try{const t=Hr(wn,"clients",n),e=await Tc(t);return e.exists()?{id:e.id,...e.data()}:null}catch(t){throw console.error("Error al obtener cliente:",t),new Error("No se pudo cargar el cliente")}},async create(n){try{if(!n.name)throw new Error("Nombre es requerido");return{id:(await tf(qa(wn,"clients"),{...n,createdAt:new Date().toISOString()})).id,...n}}catch(t){throw console.error("Error al crear cliente:",t),new Error("Error al crear el cliente: "+t.message)}},async update(n,t){try{if(!t.name)throw new Error("Nombre es requerido");const e=Hr(wn,"clients",n);return await Zd(e,t),{id:n,...t}}catch(e){throw console.error("Error al actualizar cliente:",e),new Error("Error al actualizar el cliente: "+e.message)}},async delete(n){try{await $d(Hr(wn,"clients",n))}catch(t){throw console.error("Error al eliminar cliente:",t),new Error("Error al eliminar el cliente: "+t.message)}}},Yc={async getAll(){try{return(await Jd(qa(wn,"quotes"))).docs.map(t=>({id:t.id,...t.data()}))}catch(n){throw console.error("Error al obtener cotizaciones:",n),new Error("No se pudieron cargar las cotizaciones")}},async create(n){try{if(!n.clientName)throw new Error("Nombre del cliente es requerido");const t=n.items.reduce((o,l)=>o+l.total,0),r=(await this.getAll()).length+1,i={clientId:n.clientId||"",clientName:n.clientName,clientPhone:n.clientPhone||"",clientAddress:n.clientAddress||"",date:n.date,items:n.items,subtotal:t,total:t,number:`COT-${r.toString().padStart(4,"0")}`,status:"Pendiente",converted:!1,createdAt:new Date().toISOString()};return{id:(await tf(qa(wn,"quotes"),i)).id,...i}}catch(t){throw console.error("Error al crear cotización:",t),new Error("Error al crear la cotización: "+t.message)}},async update(n,t){try{const e=Hr(wn,"quotes",n);return await Zd(e,t),{id:n,...t}}catch(e){throw console.error("Error al actualizar cotización:",e),new Error("Error al actualizar la cotización: "+e.message)}},async delete(n){try{await $d(Hr(wn,"quotes",n))}catch(t){throw console.error("Error al eliminar cotización:",t),new Error("Error al eliminar la cotización: "+t.message)}}},ka={async getAll(){try{return(await Jd(qa(wn,"invoices"))).docs.map(t=>({id:t.id,...t.data()}))}catch(n){throw console.error("Error al obtener facturas:",n),new Error("No se pudieron cargar las facturas")}},async create(n){try{if(!n.clientName)throw new Error("Nombre del cliente es requerido");const t=n.items.reduce((o,l)=>o+l.total,0),r=(await this.getAll()).length+1,i={clientId:n.clientId||"",clientName:n.clientName,clientPhone:n.clientPhone||"",clientAddress:n.clientAddress||"",date:n.date,items:n.items,subtotal:t,total:t,number:`FAC-${r.toString().padStart(4,"0")}`,relatedQuoteId:n.relatedQuoteId||null,createdAt:new Date().toISOString()};return{id:(await tf(qa(wn,"invoices"),i)).id,...i}}catch(t){throw console.error("Error al crear factura:",t),new Error("Error al crear la factura: "+t.message)}},async update(n,t){try{const e=Hr(wn,"invoices",n);return await Zd(e,t),{id:n,...t}}catch(e){throw console.error("Error al actualizar factura:",e),new Error("Error al actualizar la factura: "+e.message)}},async delete(n){try{await $d(Hr(wn,"invoices",n))}catch(t){throw console.error("Error al eliminar factura:",t),new Error("Error al eliminar la factura: "+t.message)}}};class gg{constructor(t){this.onNavigate=t,this.stats={clients:0,quotes:0,invoices:0}}render(){const t=document.createElement("div");return t.className="space-y-6",t.innerHTML=`
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="card bg-gradient-to-br from-blue-50 to-blue-100 border-l-4 border-blue-500 cursor-pointer hover:shadow-lg transition-shadow" id="clients-card">
          <div class="text-center py-8">
            <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"></div>
            <p class="text-gray-600">Cargando...</p>
          </div>
        </div>
        <div class="card bg-gradient-to-br from-green-50 to-green-100 border-l-4 border-green-500 cursor-pointer hover:shadow-lg transition-shadow" id="quotes-card">
          <div class="text-center py-8">
            <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto mb-4"></div>
            <p class="text-gray-600">Cargando...</p>
          </div>
        </div>
        <div class="card bg-gradient-to-br from-yellow-50 to-yellow-100 border-l-4 border-yellow-500 cursor-pointer hover:shadow-lg transition-shadow" id="invoices-card">
          <div class="text-center py-8">
            <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-600 mx-auto mb-4"></div>
            <p class="text-gray-600">Cargando...</p>
          </div>
        </div>
      </div>
      
      <div class="card">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">Bienvenido a AquaBuild</h2>
        <p class="text-gray-600 mb-4">
          Sistema de gestión para empresas de construcción y reparación de piscinas.
        </p>
      </div>
    `,this.loadStats(t),t}async loadStats(t){try{const[e,r,i]=await Promise.all([Ws.getAll(),Yc.getAll(),ka.getAll()]);this.stats={clients:e.length,quotes:r.length,invoices:i.length},this.updateStatsDisplay(t),this.addCardClickEvents(t)}catch(e){console.error("Error al cargar el dashboard:",e),this.showError(t)}}updateStatsDisplay(t){const e=`
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <!-- Tarjeta de Clientes -->
        <div class="card bg-gradient-to-br from-blue-50 to-blue-100 border-l-4 border-blue-500 cursor-pointer hover:shadow-lg transition-shadow" id="clients-card">
          <div class="text-center">
            <div class="inline-flex items-center justify-center w-12 h-12 rounded-full bg-blue-100 mb-3">
              <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
              </svg>
            </div>
            <h3 class="text-lg font-semibold text-blue-800 mb-2">Clientes</h3>
            <p class="text-3xl font-bold text-blue-600">${this.stats.clients}</p>
            <p class="text-sm text-blue-600 mt-1">Total de clientes registrados</p>
          </div>
        </div>
        
        <!-- Tarjeta de Cotizaciones -->
        <div class="card bg-gradient-to-br from-green-50 to-green-100 border-l-4 border-green-500 cursor-pointer hover:shadow-lg transition-shadow" id="quotes-card">
          <div class="text-center">
            <div class="inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-100 mb-3">
              <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
              </svg>
            </div>
            <h3 class="text-lg font-semibold text-green-800 mb-2">Cotizaciones</h3>
            <p class="text-3xl font-bold text-green-600">${this.stats.quotes}</p>
            <p class="text-sm text-green-600 mt-1">Cotizaciones generadas</p>
          </div>
        </div>
        
        <!-- Tarjeta de Facturas -->
        <div class="card bg-gradient-to-br from-yellow-50 to-yellow-100 border-l-4 border-yellow-500 cursor-pointer hover:shadow-lg transition-shadow" id="invoices-card">
          <div class="text-center">
            <div class="inline-flex items-center justify-center w-12 h-12 rounded-full bg-yellow-100 mb-3">
              <svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
              </svg>
            </div>
            <h3 class="text-lg font-semibold text-yellow-800 mb-2">Facturas</h3>
            <p class="text-3xl font-bold text-yellow-600">${this.stats.invoices}</p>
            <p class="text-sm text-yellow-600 mt-1">Facturas emitidas</p>
          </div>
        </div>
      </div>
      
      <div class="card">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">Bienvenido a AquaBuild</h2>
        <p class="text-gray-600 mb-4">
          Sistema de gestión para empresas de construcción y reparación de piscinas.
          Aquí puede gestionar sus clientes, crear cotizaciones y facturas, y llevar un control
          completo de su negocio.
        </p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">
          <div class="bg-blue-50 p-4 rounded-lg">
            <h3 class="font-semibold text-blue-800 mb-2">Características</h3>
            <ul class="text-sm text-blue-700 space-y-1">
              <li>• Gestión completa de clientes (CRUD)</li>
              <li>• Creación de cotizaciones con numeración automática</li>
              <li>• Generación de facturas con secuencia</li>
              <li>• Impresión en PDF</li>
              <li>• Almacenamiento en la nube</li>
            </ul>
          </div>
          <div class="bg-green-50 p-4 rounded-lg">
            <h3 class="font-semibold text-green-800 mb-2">Consejos de uso</h3>
            <ul class="text-sm text-green-700 space-y-1">
              <li>• Comience creando sus clientes</li>
              <li>• Use cotizaciones para presupuestos</li>
              <li>• Convierta cotizaciones en facturas</li>
              <li>• Imprima documentos para sus clientes</li>
              <li>• Revise el dashboard para estadísticas</li>
            </ul>
          </div>
        </div>
      </div>
    `,r=t.querySelector(".grid.grid-cols-1.md\\:grid-cols-3");if(r){const i=document.createElement("div");i.innerHTML=e;const s=i.querySelector(".grid.grid-cols-1.md\\:grid-cols-3");s&&r.parentNode.replaceChild(s,r)}}addCardClickEvents(t){const e=t.querySelector("#clients-card"),r=t.querySelector("#quotes-card"),i=t.querySelector("#invoices-card");e&&e.addEventListener("click",()=>{this.onNavigate("clients")}),r&&r.addEventListener("click",()=>{this.onNavigate("quotes")}),i&&i.addEventListener("click",()=>{this.onNavigate("invoices")})}showError(t){const e=`
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="card text-center py-8 col-span-full">
          <p class="text-red-500">Error al cargar las estadísticas del dashboard</p>
          <button class="btn btn-primary mt-4" id="retry-dashboard">Reintentar</button>
        </div>
      </div>
    `,r=t.querySelector(".grid.grid-cols-1.md\\:grid-cols-3");r&&(r.outerHTML=e,setTimeout(()=>{const i=document.getElementById("retry-dashboard");i&&i.addEventListener("click",()=>{this.loadStats(t)})},100))}}class NA{constructor(t,e){this.onEdit=t,this.onDelete=e}render(){const t=document.createElement("div");return t.className="card",t.innerHTML=`
      <div class="text-center py-8">
        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"></div>
        <p class="text-gray-600">Cargando clientes...</p>
      </div>
    `,this.loadClients(t),t}async loadClients(t){try{const e=await Ws.getAll();if(e.length===0){t.innerHTML=`
          <div class="text-center py-8">
            <p class="text-gray-500">No hay clientes registrados</p>
          </div>
        `;return}const i=`
        <div class="table-container">
          <table class="table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Email</th>
                <th>Teléfono</th>
                <th>Dirección</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              ${e.sort((s,o)=>s.name.localeCompare(o.name)).map(s=>`
                <tr>
                  <td class="font-mono text-xs">${s.id.substring(0,8)}</td>
                  <td class="font-medium">${this.escapeHtml(s.name)}</td>
                  <td>${s.email||"-"}</td>
                  <td>${s.phone}</td>
                  <td>${s.address||"-"}</td>
                  <td>
                    <div class="flex space-x-2">
                      <button class="btn btn-warning btn-sm edit-client" data-id="${s.id}">Editar</button>
                      <button class="btn btn-danger btn-sm delete-client" data-id="${s.id}">Eliminar</button>
                    </div>
                  </td>
                </tr>
              `).join("")}
            </tbody>
          </table>
        </div>
      `;t.innerHTML=i,t.querySelectorAll(".edit-client").forEach(s=>{s.addEventListener("click",o=>{const l=o.target.getAttribute("data-id"),u=e.find(d=>d.id===l);u&&this.onEdit(u)})}),t.querySelectorAll(".delete-client").forEach(s=>{s.addEventListener("click",o=>{const l=o.target.getAttribute("data-id");confirm("¿Está seguro de eliminar este cliente?")&&this.handleDelete(l)})})}catch(e){console.error("Error al cargar clientes:",e),t.innerHTML=`
        <div class="text-center py-8">
          <p class="text-red-500">Error al cargar los clientes</p>
          <button class="btn btn-primary mt-4 retry-button">Reintentar</button>
        </div>
      `,t.querySelector(".retry-button").addEventListener("click",()=>{this.loadClients(t)})}}async handleDelete(t){try{await Ws.delete(t),toast.success("Cliente eliminado exitosamente"),this.onDelete()}catch(e){toast.error("Error al eliminar cliente: "+e.message)}}escapeHtml(t){if(!t)return"";const e=document.createElement("div");return e.textContent=t,e.innerHTML}}class ff{constructor(){this.element=null}show(t,e,r="Confirmar",i=null){this.element=document.createElement("div"),this.element.className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",this.element.innerHTML=`
      <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-screen overflow-y-auto">
        <div class="flex justify-between items-center p-6 border-b">
          <h3 class="text-lg font-semibold text-gray-900">${t}</h3>
          <button class="close-modal text-gray-400 hover:text-gray-600">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
          </button>
        </div>
        <div class="p-6">
          ${e}
        </div>
        <div class="flex justify-end space-x-3 p-6 border-t">
          <button class="btn btn-outline cancel-modal">Cancelar</button>
          <button class="btn btn-primary confirm-modal">${r}</button>
        </div>
      </div>
    `,document.body.appendChild(this.element),this.element.querySelector(".close-modal").addEventListener("click",()=>this.close()),this.element.querySelector(".cancel-modal").addEventListener("click",()=>this.close()),this.element.querySelector("div.bg-white").addEventListener("click",s=>{s.stopPropagation()}),i&&i(this)}close(){this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.element=null)}}class CA{constructor(){this.toastContainer=null,this.init()}init(){this.toastContainer=document.createElement("div"),this.toastContainer.id="toast-container",this.toastContainer.className="fixed z-50 pointer-events-none";const t=document.createElement("style");t.textContent=`
      #toast-container {
        top: 20px;
        right: 20px;
      }
      
      @media (max-width: 768px) {
        #toast-container {
          top: auto;
          bottom: 20px;
          right: 20px;
          left: 20px;
        }
      }
      
      .toast {
        @apply pointer-events-auto flex items-center p-4 mb-3 rounded-lg shadow-lg text-white font-medium transition-all duration-300 transform;
        animation: toastSlideIn 0.3s ease-out, toastFadeIn 0.3s ease-out;
        max-width: 400px;
      }
      
      @media (max-width: 768px) {
        .toast {
          max-width: none;
          width: calc(100% - 40px);
        }
      }
      
      .toast-success { @apply bg-green-600; }
      .toast-error { @apply bg-red-600; }
      .toast-warning { @apply bg-yellow-600 text-gray-900; }
      .toast-info { @apply bg-blue-600; }
      
      .toast-icon {
        @apply mr-3 flex-shrink-0;
        width: 20px;
        height: 20px;
      }
      
      .toast-content {
        @apply flex-1 min-w-0;
      }
      
      .toast-message {
        @apply text-sm break-words;
      }
      
      .toast-close {
        @apply ml-3 flex-shrink-0 text-white hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-current rounded-full;
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      
      @keyframes toastSlideIn {
        from {
          transform: translateY(-20px) translateX(100px);
        }
        to {
          transform: translateY(0) translateX(0);
        }
      }
      
      @media (max-width: 768px) {
        @keyframes toastSlideIn {
          from {
            transform: translateY(20px) translateX(0);
          }
          to {
            transform: translateY(0) translateX(0);
          }
        }
      }
      
      @keyframes toastFadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      
      .toast-exit {
        animation: toastSlideOut 0.2s ease-in forwards, toastFadeOut 0.2s ease-in forwards;
      }
      
      @keyframes toastSlideOut {
        from {
          transform: translateY(0) translateX(0);
        }
        to {
          transform: translateY(-20px) translateX(100px);
        }
      }
      
      @media (max-width: 768px) {
        @keyframes toastSlideOut {
          from {
            transform: translateY(0) translateX(0);
          }
          to {
            transform: translateY(20px) translateX(0);
          }
        }
      }
      
      @keyframes toastFadeOut {
        from { opacity: 1; }
        to { opacity: 0; }
      }
    `,document.head.appendChild(t),document.body.appendChild(this.toastContainer)}show(t,e="info",r=5e3){const i=document.createElement("div");i.className=`toast toast-${e}`,i.setAttribute("role","alert"),i.setAttribute("aria-live","polite");const s=this.getIcon(e),o=this.createCloseButton();i.innerHTML=`
      ${s}
      <div class="toast-content">
        <div class="toast-message">${this.escapeHtml(t)}</div>
      </div>
      ${o.outerHTML}
    `,this.toastContainer.appendChild(i);const l=setTimeout(()=>{this.removeToast(i)},r),u=i.querySelector(".toast-close");return u.addEventListener("click",()=>{clearTimeout(l),this.removeToast(i)}),u.addEventListener("keydown",d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),clearTimeout(l),this.removeToast(i))}),i}success(t,e=5e3){return this.show(t,"success",e)}error(t,e=7e3){return this.show(t,"error",e)}warning(t,e=6e3){return this.show(t,"warning",e)}info(t,e=5e3){return this.show(t,"info",e)}getIcon(t){const e={success:'<svg class="toast-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>',error:'<svg class="toast-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',warning:'<svg class="toast-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>',info:'<svg class="toast-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>'};return e[t]||e.info}createCloseButton(){const t=document.createElement("button");return t.className="toast-close",t.setAttribute("aria-label","Cerrar notificación"),t.innerHTML='<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="16" height="16"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',t}removeToast(t){t.classList.add("toast-exit"),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},200)}escapeHtml(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}}const en=new CA;class RA{constructor(t){this.onSubmit=t,this.modal=new ff}show(t=null){const e=t?"Editar Cliente":"Nuevo Cliente",r=`
      <form id="client-form" class="space-y-4">
        <input type="hidden" id="client-id">
        <div>
          <label for="client-name" class="block text-sm font-medium text-gray-700 mb-1">Nombre Completo *</label>
          <input type="text" id="client-name" class="form-control" required>
        </div>
        <div>
          <label for="client-email" class="block text-sm font-medium text-gray-700 mb-1">Email (opcional)</label>
          <input type="email" id="client-email" class="form-control" placeholder="correo@ejemplo.com">
        </div>
        <div>
          <label for="client-phone" class="block text-sm font-medium text-gray-700 mb-1">Teléfono (opcional)</label>
          <input type="tel" id="client-phone" class="form-control" placeholder="(809) 123-4567">
        </div>
        <div>
          <label for="client-address" class="block text-sm font-medium text-gray-700 mb-1">Dirección (opcional)</label>
          <input type="text" id="client-address" class="form-control" placeholder="Calle Principal #123">
        </div>
        <div id="error-message" class="text-red-500 text-sm hidden"></div>
      </form>
    `;this.modal.show(e,r,"Guardar Cliente",i=>{document.getElementById("error-message"),t&&(document.getElementById("client-id").value=t.id,document.getElementById("client-name").value=t.name,document.getElementById("client-email").value=t.email||"",document.getElementById("client-phone").value=t.phone||"",document.getElementById("client-address").value=t.address||"");const s=i.element.querySelector(".confirm-modal");s&&s.addEventListener("click",async()=>{await this.handleSave(i)})})}async handleSave(t){const e=document.getElementById("error-message");e&&(e.classList.add("hidden"),e.textContent="");try{const r=document.getElementById("client-id").value,i=document.getElementById("client-name").value.trim(),s=document.getElementById("client-email").value.trim(),o=document.getElementById("client-phone").value.trim(),l=document.getElementById("client-address").value.trim();if(!i){en.error("Por favor ingrese el nombre completo");return}const u={name:i,email:s||"",phone:o||"",address:l||""};let d;r?(d=await Ws.update(r,u),en.success("Cliente actualizado exitosamente")):(d=await Ws.create(u),en.success("Cliente creado exitosamente")),this.onSubmit(),t.close()}catch(r){console.error("Error al guardar cliente:",r),en.error(r.message||"Error al guardar el cliente")}}}class LA{constructor(){this.clientForm=new RA(()=>this.refresh())}render(){const t=document.createElement("div");t.className="space-y-6";const e=document.createElement("div");e.className="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",e.innerHTML=`
  <h2 class="text-2xl font-bold text-gray-800">Gestión de Clientes</h2>
  <button id="new-client-btn" class="btn btn-primary">+ Nuevo Cliente</button>
`,t.appendChild(e);const r=new NA(i=>this.clientForm.show(i),()=>this.refresh());return t.appendChild(r.render()),t.querySelector("#new-client-btn").addEventListener("click",()=>{this.clientForm.show()}),t}refresh(){const t=this.render(),e=document.querySelector("#page-content");e&&(e.innerHTML="",e.appendChild(t))}}function ke(n){"@babel/helpers - typeof";return ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ke(n)}var Wn=Uint8Array,_r=Uint16Array,pf=Int32Array,qu=new Wn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Uu=new Wn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sd=new Wn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l0=function(n,t){for(var e=new _r(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var i=new pf(e[30]),r=1;r<30;++r)for(var s=e[r];s<e[r+1];++s)i[s]=s-e[r]<<5|r;return{b:e,r:i}},u0=l0(qu,2),h0=u0.b,od=u0.r;h0[28]=258,od[258]=28;var d0=l0(Uu,0),kA=d0.b,mg=d0.r,ad=new _r(32768);for(var We=0;We<32768;++We){var Ls=(We&43690)>>1|(We&21845)<<1;Ls=(Ls&52428)>>2|(Ls&13107)<<2,Ls=(Ls&61680)>>4|(Ls&3855)<<4,ad[We]=((Ls&65280)>>8|(Ls&255)<<8)>>1}var ki=function(n,t,e){for(var r=n.length,i=0,s=new _r(t);i<r;++i)n[i]&&++s[n[i]-1];var o=new _r(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var l;if(e){l=new _r(1<<t);var u=15-t;for(i=0;i<r;++i)if(n[i])for(var d=i<<4|n[i],g=t-n[i],v=o[n[i]-1]++<<g,b=v|(1<<g)-1;v<=b;++v)l[ad[v]>>u]=d}else for(l=new _r(r),i=0;i<r;++i)n[i]&&(l[i]=ad[o[n[i]-1]++]>>15-n[i]);return l},$s=new Wn(288);for(var We=0;We<144;++We)$s[We]=8;for(var We=144;We<256;++We)$s[We]=9;for(var We=256;We<280;++We)$s[We]=7;for(var We=280;We<288;++We)$s[We]=8;var Xc=new Wn(32);for(var We=0;We<32;++We)Xc[We]=5;var FA=ki($s,9,0),DA=ki($s,9,1),OA=ki(Xc,5,0),MA=ki(Xc,5,1),Ah=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},ii=function(n,t,e){var r=t/8|0;return(n[r]|n[r+1]<<8)>>(t&7)&e},Eh=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(t&7)},gf=function(n){return(n+7)/8|0},f0=function(n,t,e){return(t==null||t<0)&&(t=0),(e==null||e>n.length)&&(e=n.length),new Wn(n.subarray(t,e))},jA=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],oi=function(n,t,e){var r=new Error(t||jA[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,oi),!e)throw r;return r},VA=function(n,t,e,r){var i=n.length,s=r?r.length:0;if(!i||t.f&&!t.l)return e||new Wn(0);var o=!e,l=o||t.i!=2,u=t.i;o&&(e=new Wn(i*3));var d=function(_t){var Rt=e.length;if(_t>Rt){var kt=new Wn(Math.max(Rt*2,_t));kt.set(e),e=kt}},g=t.f||0,v=t.p||0,b=t.b||0,m=t.l,N=t.d,R=t.m,F=t.n,P=i*8;do{if(!m){g=ii(n,v,1);var L=ii(n,v+1,3);if(v+=3,L)if(L==1)m=DA,N=MA,R=9,F=5;else if(L==2){var J=ii(n,v,31)+257,_=ii(n,v+10,15)+4,I=J+ii(n,v+5,31)+1;v+=14;for(var C=new Wn(I),M=new Wn(19),A=0;A<_;++A)M[sd[A]]=ii(n,v+A*3,7);v+=_*3;for(var E=Ah(M),T=(1<<E)-1,W=ki(M,E,1),A=0;A<I;){var ct=W[ii(n,v,T)];v+=ct&15;var O=ct>>4;if(O<16)C[A++]=O;else{var Q=0,X=0;for(O==16?(X=3+ii(n,v,3),v+=2,Q=C[A-1]):O==17?(X=3+ii(n,v,7),v+=3):O==18&&(X=11+ii(n,v,127),v+=7);X--;)C[A++]=Q}}var et=C.subarray(0,J),$=C.subarray(J);R=Ah(et),F=Ah($),m=ki(et,R,1),N=ki($,F,1)}else oi(1);else{var O=gf(v)+4,q=n[O-4]|n[O-3]<<8,Y=O+q;if(Y>i){u&&oi(0);break}l&&d(b+q),e.set(n.subarray(O,Y),b),t.b=b+=q,t.p=v=Y*8,t.f=g;continue}if(v>P){u&&oi(0);break}}l&&d(b+131072);for(var at=(1<<R)-1,mt=(1<<F)-1,k=v;;k=v){var Q=m[Eh(n,v)&at],H=Q>>4;if(v+=Q&15,v>P){u&&oi(0);break}if(Q||oi(2),H<256)e[b++]=H;else if(H==256){k=v,m=null;break}else{var G=H-254;if(H>264){var A=H-257,Z=qu[A];G=ii(n,v,(1<<Z)-1)+h0[A],v+=Z}var nt=N[Eh(n,v)&mt],ut=nt>>4;nt||oi(3),v+=nt&15;var $=kA[ut];if(ut>3){var Z=Uu[ut];$+=Eh(n,v)&(1<<Z)-1,v+=Z}if(v>P){u&&oi(0);break}l&&d(b+131072);var ht=b+G;if(b<$){var pt=s-$,Tt=Math.min($,ht);for(pt+b<0&&oi(3);b<Tt;++b)e[b]=r[pt+b]}for(;b<ht;++b)e[b]=e[b-$]}}t.l=m,t.p=k,t.b=b,t.f=g,m&&(g=1,t.m=R,t.d=N,t.n=F)}while(!g);return b!=e.length&&o?f0(e,0,b):e.subarray(0,b)},Ji=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8},vc=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8,n[r+2]|=e>>16},Ih=function(n,t){for(var e=[],r=0;r<n.length;++r)n[r]&&e.push({s:r,f:n[r]});var i=e.length,s=e.slice();if(!i)return{t:g0,l:0};if(i==1){var o=new Wn(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(Y,J){return Y.f-J.f}),e.push({s:-1,f:25001});var l=e[0],u=e[1],d=0,g=1,v=2;for(e[0]={s:-1,f:l.f+u.f,l,r:u};g!=i-1;)l=e[e[d].f<e[v].f?d++:v++],u=e[d!=g&&e[d].f<e[v].f?d++:v++],e[g++]={s:-1,f:l.f+u.f,l,r:u};for(var b=s[0].s,r=1;r<i;++r)s[r].s>b&&(b=s[r].s);var m=new _r(b+1),N=cd(e[g-1],m,0);if(N>t){var r=0,R=0,F=N-t,P=1<<F;for(s.sort(function(J,_){return m[_.s]-m[J.s]||J.f-_.f});r<i;++r){var L=s[r].s;if(m[L]>t)R+=P-(1<<N-m[L]),m[L]=t;else break}for(R>>=F;R>0;){var O=s[r].s;m[O]<t?R-=1<<t-m[O]++-1:++r}for(;r>=0&&R;--r){var q=s[r].s;m[q]==t&&(--m[q],++R)}N=t}return{t:new Wn(m),l:N}},cd=function(n,t,e){return n.s==-1?Math.max(cd(n.l,t,e+1),cd(n.r,t,e+1)):t[n.s]=e},yg=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new _r(++t),r=0,i=n[0],s=1,o=function(u){e[r++]=u},l=1;l<=t;++l)if(n[l]==i&&l!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[l]}return{c:e.subarray(0,r),n:t}},wc=function(n,t){for(var e=0,r=0;r<t.length;++r)e+=n[r]*t[r];return e},p0=function(n,t,e){var r=e.length,i=gf(t+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=e[s];return(i+4+r)*8},vg=function(n,t,e,r,i,s,o,l,u,d,g){Ji(t,g++,e),++i[256];for(var v=Ih(i,15),b=v.t,m=v.l,N=Ih(s,15),R=N.t,F=N.l,P=yg(b),L=P.c,O=P.n,q=yg(R),Y=q.c,J=q.n,_=new _r(19),I=0;I<L.length;++I)++_[L[I]&31];for(var I=0;I<Y.length;++I)++_[Y[I]&31];for(var C=Ih(_,7),M=C.t,A=C.l,E=19;E>4&&!M[sd[E-1]];--E);var T=d+5<<3,W=wc(i,$s)+wc(s,Xc)+o,ct=wc(i,b)+wc(s,R)+o+14+3*E+wc(_,M)+2*_[16]+3*_[17]+7*_[18];if(u>=0&&T<=W&&T<=ct)return p0(t,g,n.subarray(u,u+d));var Q,X,et,$;if(Ji(t,g,1+(ct<W)),g+=2,ct<W){Q=ki(b,m,0),X=b,et=ki(R,F,0),$=R;var at=ki(M,A,0);Ji(t,g,O-257),Ji(t,g+5,J-1),Ji(t,g+10,E-4),g+=14;for(var I=0;I<E;++I)Ji(t,g+3*I,M[sd[I]]);g+=3*E;for(var mt=[L,Y],k=0;k<2;++k)for(var H=mt[k],I=0;I<H.length;++I){var G=H[I]&31;Ji(t,g,at[G]),g+=M[G],G>15&&(Ji(t,g,H[I]>>5&127),g+=H[I]>>12)}}else Q=FA,X=$s,et=OA,$=Xc;for(var I=0;I<l;++I){var Z=r[I];if(Z>255){var G=Z>>18&31;vc(t,g,Q[G+257]),g+=X[G+257],G>7&&(Ji(t,g,Z>>23&31),g+=qu[G]);var nt=Z&31;vc(t,g,et[nt]),g+=$[nt],nt>3&&(vc(t,g,Z>>5&8191),g+=Uu[nt])}else vc(t,g,Q[Z]),g+=X[Z]}return vc(t,g,Q[256]),g+X[256]},BA=new pf([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),g0=new Wn(0),qA=function(n,t,e,r,i,s){var o=s.z||n.length,l=new Wn(r+o+5*(1+Math.ceil(o/7e3))+i),u=l.subarray(r,l.length-i),d=s.l,g=(s.r||0)&7;if(t){g&&(u[0]=s.r>>3);for(var v=BA[t-1],b=v>>13,m=v&8191,N=(1<<e)-1,R=s.p||new _r(32768),F=s.h||new _r(N+1),P=Math.ceil(e/3),L=2*P,O=function(Gt){return(n[Gt]^n[Gt+1]<<P^n[Gt+2]<<L)&N},q=new pf(25e3),Y=new _r(288),J=new _r(32),_=0,I=0,C=s.i||0,M=0,A=s.w||0,E=0;C+2<o;++C){var T=O(C),W=C&32767,ct=F[T];if(R[W]=ct,F[T]=W,A<=C){var Q=o-C;if((_>7e3||M>24576)&&(Q>423||!d)){g=vg(n,u,0,q,Y,J,I,M,E,C-E,g),M=_=I=0,E=C;for(var X=0;X<286;++X)Y[X]=0;for(var X=0;X<30;++X)J[X]=0}var et=2,$=0,at=m,mt=W-ct&32767;if(Q>2&&T==O(C-mt))for(var k=Math.min(b,Q)-1,H=Math.min(32767,C),G=Math.min(258,Q);mt<=H&&--at&&W!=ct;){if(n[C+et]==n[C+et-mt]){for(var Z=0;Z<G&&n[C+Z]==n[C+Z-mt];++Z);if(Z>et){if(et=Z,$=mt,Z>k)break;for(var nt=Math.min(mt,Z-2),ut=0,X=0;X<nt;++X){var ht=C-mt+X&32767,pt=R[ht],Tt=ht-pt&32767;Tt>ut&&(ut=Tt,ct=ht)}}}W=ct,ct=R[W],mt+=W-ct&32767}if($){q[M++]=268435456|od[et]<<18|mg[$];var _t=od[et]&31,Rt=mg[$]&31;I+=qu[_t]+Uu[Rt],++Y[257+_t],++J[Rt],A=C+et,++_}else q[M++]=n[C],++Y[n[C]]}}for(C=Math.max(C,A);C<o;++C)q[M++]=n[C],++Y[n[C]];g=vg(n,u,d,q,Y,J,I,M,E,C-E,g),d||(s.r=g&7|u[g/8|0]<<3,g-=7,s.h=F,s.p=R,s.i=C,s.w=A)}else{for(var C=s.w||0;C<o+d;C+=65535){var kt=C+65535;kt>=o&&(u[g/8|0]=d,kt=o),g=p0(u,g+1,n.subarray(C,kt))}s.i=o}return f0(l,0,r+gf(g)+i)},m0=function(){var n=1,t=0;return{p:function(e){for(var r=n,i=t,s=e.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)i+=r+=e[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,t=i},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},UA=function(n,t,e,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Wn(s.length+n.length);o.set(s),o.set(n,s.length),n=o,i.w=s.length}return qA(n,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,r,i)},y0=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},HA=function(n,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var i=m0();i.p(t.dictionary),y0(n,2,i.d())}},zA=function(n,t){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&oi(6,"invalid zlib data"),(n[1]>>5&1)==+!t&&oi(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function ld(n,t){t||(t={});var e=m0();e.p(n);var r=UA(n,t,t.dictionary?6:2,4);return HA(r,t),y0(r,r.length-4,e.d()),r}function WA(n,t){return VA(n.subarray(zA(n,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var GA=typeof TextDecoder<"u"&&new TextDecoder,KA=0;try{GA.decode(g0,{stream:!0}),KA=1}catch{}var $t=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Sh(){$t.console&&typeof $t.console.log=="function"&&$t.console.log.apply($t.console,arguments)}var Me={log:Sh,warn:function(n){$t.console&&(typeof $t.console.warn=="function"?$t.console.warn.apply($t.console,arguments):Sh.call(null,arguments))},error:function(n){$t.console&&(typeof $t.console.error=="function"?$t.console.error.apply($t.console,arguments):Sh(n))}};function _h(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){To(r.response,t,e)},r.onerror=function(){Me.error("could not download file")},r.send()}function wg(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Vl(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var kc,ud,To=$t.saveAs||((typeof window>"u"?"undefined":ke(window))!=="object"||window!==$t?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var r=$t.URL||$t.webkitURL,i=document.createElement("a");t=t||n.name||"download",i.download=t,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?wg(i.href)?_h(n,t,e):Vl(i,i.target="_blank"):Vl(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Vl(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(wg(n))_h(n,t,e);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Vl(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:ke(s)!=="object"&&(Me.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(n,e),t)}:function(n,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return _h(n,t,e);var i=n.type==="application/octet-stream",s=/constructor/i.test($t.HTMLElement)||$t.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":ke(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var g=l.result;g=o?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},l.readAsDataURL(n)}else{var u=$t.URL||$t.webkitURL,d=u.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function v0(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<e.length;r++){var i=e[r].re,s=e[r].process,o=i.exec(n);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+l+u+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Th(n,t){var e=n[0],r=n[1],i=n[2],s=n[3];e=Vn(e,r,i,s,t[0],7,-680876936),s=Vn(s,e,r,i,t[1],12,-389564586),i=Vn(i,s,e,r,t[2],17,606105819),r=Vn(r,i,s,e,t[3],22,-1044525330),e=Vn(e,r,i,s,t[4],7,-176418897),s=Vn(s,e,r,i,t[5],12,1200080426),i=Vn(i,s,e,r,t[6],17,-1473231341),r=Vn(r,i,s,e,t[7],22,-45705983),e=Vn(e,r,i,s,t[8],7,1770035416),s=Vn(s,e,r,i,t[9],12,-1958414417),i=Vn(i,s,e,r,t[10],17,-42063),r=Vn(r,i,s,e,t[11],22,-1990404162),e=Vn(e,r,i,s,t[12],7,1804603682),s=Vn(s,e,r,i,t[13],12,-40341101),i=Vn(i,s,e,r,t[14],17,-1502002290),e=Bn(e,r=Vn(r,i,s,e,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Bn(s,e,r,i,t[6],9,-1069501632),i=Bn(i,s,e,r,t[11],14,643717713),r=Bn(r,i,s,e,t[0],20,-373897302),e=Bn(e,r,i,s,t[5],5,-701558691),s=Bn(s,e,r,i,t[10],9,38016083),i=Bn(i,s,e,r,t[15],14,-660478335),r=Bn(r,i,s,e,t[4],20,-405537848),e=Bn(e,r,i,s,t[9],5,568446438),s=Bn(s,e,r,i,t[14],9,-1019803690),i=Bn(i,s,e,r,t[3],14,-187363961),r=Bn(r,i,s,e,t[8],20,1163531501),e=Bn(e,r,i,s,t[13],5,-1444681467),s=Bn(s,e,r,i,t[2],9,-51403784),i=Bn(i,s,e,r,t[7],14,1735328473),e=qn(e,r=Bn(r,i,s,e,t[12],20,-1926607734),i,s,t[5],4,-378558),s=qn(s,e,r,i,t[8],11,-2022574463),i=qn(i,s,e,r,t[11],16,1839030562),r=qn(r,i,s,e,t[14],23,-35309556),e=qn(e,r,i,s,t[1],4,-1530992060),s=qn(s,e,r,i,t[4],11,1272893353),i=qn(i,s,e,r,t[7],16,-155497632),r=qn(r,i,s,e,t[10],23,-1094730640),e=qn(e,r,i,s,t[13],4,681279174),s=qn(s,e,r,i,t[0],11,-358537222),i=qn(i,s,e,r,t[3],16,-722521979),r=qn(r,i,s,e,t[6],23,76029189),e=qn(e,r,i,s,t[9],4,-640364487),s=qn(s,e,r,i,t[12],11,-421815835),i=qn(i,s,e,r,t[15],16,530742520),e=Un(e,r=qn(r,i,s,e,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Un(s,e,r,i,t[7],10,1126891415),i=Un(i,s,e,r,t[14],15,-1416354905),r=Un(r,i,s,e,t[5],21,-57434055),e=Un(e,r,i,s,t[12],6,1700485571),s=Un(s,e,r,i,t[3],10,-1894986606),i=Un(i,s,e,r,t[10],15,-1051523),r=Un(r,i,s,e,t[1],21,-2054922799),e=Un(e,r,i,s,t[8],6,1873313359),s=Un(s,e,r,i,t[15],10,-30611744),i=Un(i,s,e,r,t[6],15,-1560198380),r=Un(r,i,s,e,t[13],21,1309151649),e=Un(e,r,i,s,t[4],6,-145523070),s=Un(s,e,r,i,t[11],10,-1120210379),i=Un(i,s,e,r,t[2],15,718787259),r=Un(r,i,s,e,t[9],21,-343485551),n[0]=Vs(e,n[0]),n[1]=Vs(r,n[1]),n[2]=Vs(i,n[2]),n[3]=Vs(s,n[3])}function Hu(n,t,e,r,i,s){return t=Vs(Vs(t,n),Vs(r,s)),Vs(t<<i|t>>>32-i,e)}function Vn(n,t,e,r,i,s,o){return Hu(t&e|~t&r,n,t,i,s,o)}function Bn(n,t,e,r,i,s,o){return Hu(t&r|e&~r,n,t,i,s,o)}function qn(n,t,e,r,i,s,o){return Hu(t^e^r,n,t,i,s,o)}function Un(n,t,e,r,i,s,o){return Hu(e^(t|~r),n,t,i,s,o)}function w0(n){var t,e=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)Th(r,YA(n.substring(t-64,t)));n=n.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)i[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Th(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*e,Th(r,i),r}function YA(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}kc=$t.atob.bind($t),ud=$t.btoa.bind($t);var bg="0123456789abcdef".split("");function XA(n){for(var t="",e=0;e<4;e++)t+=bg[n>>8*e+4&15]+bg[n>>8*e&15];return t}function QA(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function hd(n){return w0(n).map(QA).join("")}var JA=function(n){for(var t=0;t<n.length;t++)n[t]=XA(n[t]);return n.join("")}(w0("hello"))!="5d41402abc4b2a76b9719d911017c592";function Vs(n,t){if(JA){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function dd(n,t){var e,r,i,s;if(n!==e){for(var o=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),l=[],u=0;u<256;u++)l[u]=u;var d=0;for(u=0;u<256;u++){var g=l[u];d=(d+g+o.charCodeAt(u))%256,l[u]=l[d],l[d]=g}e=n,r=l}else l=r;var v=t.length,b=0,m=0,N="";for(u=0;u<v;u++)m=(m+(g=l[b=(b+1)%256]))%256,l[b]=l[m],l[m]=g,o=l[(l[b]+l[m])%256],N+=String.fromCharCode(t.charCodeAt(u)^o);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ag={print:4,modify:8,copy:16,"annot-forms":32};function Ta(n,t,e,r){this.v=1,this.r=2;var i=192;n.forEach(function(l){if(Ag.perm!==void 0)throw new Error("Invalid permission: "+l);i+=Ag[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=hd(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=dd(this.encryptionKey,this.padding)}function xa(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,r=0;r<e;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=n[r]}return t}function Eg(n){if(ke(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,i){if(i=i||!1,typeof e!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[r,!!i],s},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[e]){var o=t[e][s];try{o[0].apply(n,r)}catch(l){$t.console&&Me.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Qc(n){if(!(this instanceof Qc))return new Qc(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function b0(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function Ms(n,t,e,r,i){if(!(this instanceof Ms))return new Ms(n,t,e,r,i);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,b0.call(this,r,i)}function Co(n,t,e,r,i){if(!(this instanceof Co))return new Co(n,t,e,r,i);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,b0.call(this,r,i)}function Yt(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],l=1,u=16,d="S",g=null;ke(n=n||{})==="object"&&(e=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),l=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),d=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",e=(""+(e||"P")).toLowerCase();var v=n.putOnlyUsedFonts||!1,b={},m={internal:{},__private__:{}};m.__private__.PubSub=Eg;var N="1.3",R=m.__private__.getPdfVersion=function(){return N};m.__private__.setPdfVersion=function(p){N=p};var F={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return F};var P=m.__private__.getPageFormat=function(p){return F[p]};i=i||"a4";var L={COMPAT:"compat",ADVANCED:"advanced"},O=L.COMPAT;function q(){this.saveGraphicsState(),rt(new Qt(Ot,0,0,-Ot,0,ei()*Ot).toString()+" cm"),this.setFontSize(this.getFontSize()/Ot),d="n",O=L.ADVANCED}function Y(){this.restoreGraphicsState(),d="S",O=L.COMPAT}var J=m.__private__.combineFontStyleAndFontWeight=function(p,a){if(p=="bold"&&a=="normal"||p=="bold"&&a==400||p=="normal"&&a=="italic"||p=="bold"&&a=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return a&&(p=a==400||a==="normal"?p==="italic"?"italic":"normal":a!=700&&a!=="bold"||p!=="normal"?(a==700?"bold":a)+""+p:"bold"),p};m.advancedAPI=function(p){var a=O===L.COMPAT;return a&&q.call(this),typeof p!="function"||(p(this),a&&Y.call(this)),this},m.compatAPI=function(p){var a=O===L.ADVANCED;return a&&Y.call(this),typeof p!="function"||(p(this),a&&q.call(this)),this},m.isAdvancedAPI=function(){return O===L.ADVANCED};var _,I=function(p){if(O!==L.ADVANCED)throw new Error(p+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=m.roundToPrecision=m.__private__.roundToPrecision=function(p,a){var f=t||a;if(isNaN(p)||isNaN(f))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return p.toFixed(f).replace(/0+$/,"")};_=m.hpf=m.__private__.hpf=typeof u=="number"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return C(p,u)}:u==="smart"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return C(p,p>-1&&p<1?16:5)}:function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return C(p,16)};var M=m.f2=m.__private__.f2=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f2");return C(p,2)},A=m.__private__.f3=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f3");return C(p,3)},E=m.scale=m.__private__.scale=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.scale");return O===L.COMPAT?p*Ot:O===L.ADVANCED?p:void 0},T=function(p){return O===L.COMPAT?ei()-p:O===L.ADVANCED?p:void 0},W=function(p){return E(T(p))};m.__private__.setPrecision=m.setPrecision=function(p){typeof parseInt(p,10)=="number"&&(t=parseInt(p,10))};var ct,Q="00000000000000000000000000000000",X=m.__private__.getFileId=function(){return Q},et=m.__private__.setFileId=function(p){return Q=p!==void 0&&/^[a-fA-F0-9]{32}$/.test(p)?p.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(Sn=new Ta(g.userPermissions,g.userPassword,g.ownerPassword,Q)),Q};m.setFileId=function(p){return et(p),this},m.getFileId=function(){return X()};var $=m.__private__.convertDateToPDFDate=function(p){var a=p.getTimezoneOffset(),f=a<0?"+":"-",w=Math.floor(Math.abs(a/60)),x=Math.abs(a%60),z=[f,G(w),"'",G(x),"'"].join("");return["D:",p.getFullYear(),G(p.getMonth()+1),G(p.getDate()),G(p.getHours()),G(p.getMinutes()),G(p.getSeconds()),z].join("")},at=m.__private__.convertPDFDateToDate=function(p){var a=parseInt(p.substr(2,4),10),f=parseInt(p.substr(6,2),10)-1,w=parseInt(p.substr(8,2),10),x=parseInt(p.substr(10,2),10),z=parseInt(p.substr(12,2),10),tt=parseInt(p.substr(14,2),10);return new Date(a,f,w,x,z,tt,0)},mt=m.__private__.setCreationDate=function(p){var a;if(p===void 0&&(p=new Date),p instanceof Date)a=$(p);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(p))throw new Error("Invalid argument passed to jsPDF.setCreationDate");a=p}return ct=a},k=m.__private__.getCreationDate=function(p){var a=ct;return p==="jsDate"&&(a=at(ct)),a};m.setCreationDate=function(p){return mt(p),this},m.getCreationDate=function(p){return k(p)};var H,G=m.__private__.padd2=function(p){return("0"+parseInt(p)).slice(-2)},Z=m.__private__.padd2Hex=function(p){return("00"+(p=p.toString())).substr(p.length)},nt=0,ut=[],ht=[],pt=0,Tt=[],_t=[],Rt=!1,kt=ht,Gt=function(){nt=0,pt=0,ht=[],ut=[],Tt=[],In=Ge(),rr=Ge()};m.__private__.setCustomOutputDestination=function(p){Rt=!0,kt=p};var vt=function(p){Rt||(kt=p)};m.__private__.resetCustomOutputDestination=function(){Rt=!1,kt=ht};var rt=m.__private__.out=function(p){return p=p.toString(),pt+=p.length+1,kt.push(p),kt},ne=m.__private__.write=function(p){return rt(arguments.length===1?p.toString():Array.prototype.join.call(arguments," "))},qt=m.__private__.getArrayBuffer=function(p){for(var a=p.length,f=new ArrayBuffer(a),w=new Uint8Array(f);a--;)w[a]=p.charCodeAt(a);return f},xt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return xt};var Pt=n.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(p){return Pt=O===L.ADVANCED?p/Ot:p,this};var Ct,Lt=m.__private__.getFontSize=m.getFontSize=function(){return O===L.COMPAT?Pt:Pt*Ot},zt=n.R2L||!1;m.__private__.setR2L=m.setR2L=function(p){return zt=p,this},m.__private__.getR2L=m.getR2L=function(){return zt};var re,le=m.__private__.setZoomMode=function(p){var a=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(p))Ct=p;else if(isNaN(p)){if(a.indexOf(p)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+p+'" is not recognized.');Ct=p}else Ct=parseInt(p,10)};m.__private__.getZoomMode=function(){return Ct};var oe,pe=m.__private__.setPageMode=function(p){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(p)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+p+'" is not recognized.');re=p};m.__private__.getPageMode=function(){return re};var _e=m.__private__.setLayoutMode=function(p){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(p)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+p+'" is not recognized.');oe=p};m.__private__.getLayoutMode=function(){return oe},m.__private__.setDisplayMode=m.setDisplayMode=function(p,a,f){return le(p),_e(a),pe(f),this};var Zt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(p){if(Object.keys(Zt).indexOf(p)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Zt[p]},m.__private__.getDocumentProperties=function(){return Zt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(p){for(var a in Zt)Zt.hasOwnProperty(a)&&p[a]&&(Zt[a]=p[a]);return this},m.__private__.setDocumentProperty=function(p,a){if(Object.keys(Zt).indexOf(p)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Zt[p]=a};var he,Ot,dn,be,Pn,Te={},Fe={},En=[],Ie={},Tr={},qe={},Nn={},xr=null,de=0,ie=[],ge=new Eg(m),gr=n.hotfixes||[],fn={},Pr={},Cn=[],Qt=function p(a,f,w,x,z,tt){if(!(this instanceof p))return new p(a,f,w,x,z,tt);isNaN(a)&&(a=1),isNaN(f)&&(f=0),isNaN(w)&&(w=0),isNaN(x)&&(x=1),isNaN(z)&&(z=0),isNaN(tt)&&(tt=0),this._matrix=[a,f,w,x,z,tt]};Object.defineProperty(Qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(Qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(Qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(Qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(Qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(Qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(Qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(Qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(Qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(Qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(Qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(Qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(Qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qt.prototype.join=function(p){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(_).join(p)},Qt.prototype.multiply=function(p){var a=p.sx*this.sx+p.shy*this.shx,f=p.sx*this.shy+p.shy*this.sy,w=p.shx*this.sx+p.sy*this.shx,x=p.shx*this.shy+p.sy*this.sy,z=p.tx*this.sx+p.ty*this.shx+this.tx,tt=p.tx*this.shy+p.ty*this.sy+this.ty;return new Qt(a,f,w,x,z,tt)},Qt.prototype.decompose=function(){var p=this.sx,a=this.shy,f=this.shx,w=this.sy,x=this.tx,z=this.ty,tt=Math.sqrt(p*p+a*a),gt=(p/=tt)*f+(a/=tt)*w;f-=p*gt,w-=a*gt;var Nt=Math.sqrt(f*f+w*w);return gt/=Nt,p*(w/=Nt)<a*(f/=Nt)&&(p=-p,a=-a,gt=-gt,tt=-tt),{scale:new Qt(tt,0,0,Nt,0,0),translate:new Qt(1,0,0,1,x,z),rotate:new Qt(p,a,-a,p,0,0),skew:new Qt(1,0,gt,1,0,0)}},Qt.prototype.toString=function(p){return this.join(" ")},Qt.prototype.inversed=function(){var p=this.sx,a=this.shy,f=this.shx,w=this.sy,x=this.tx,z=this.ty,tt=1/(p*w-a*f),gt=w*tt,Nt=-a*tt,Ut=-f*tt,Mt=p*tt;return new Qt(gt,Nt,Ut,Mt,-gt*x-Ut*z,-Nt*x-Mt*z)},Qt.prototype.applyToPoint=function(p){var a=p.x*this.sx+p.y*this.shx+this.tx,f=p.x*this.shy+p.y*this.sy+this.ty;return new Ui(a,f)},Qt.prototype.applyToRectangle=function(p){var a=this.applyToPoint(p),f=this.applyToPoint(new Ui(p.x+p.w,p.y+p.h));return new vr(a.x,a.y,f.x-a.x,f.y-a.y)},Qt.prototype.clone=function(){var p=this.sx,a=this.shy,f=this.shx,w=this.sy,x=this.tx,z=this.ty;return new Qt(p,a,f,w,x,z)},m.Matrix=Qt;var mr=m.matrixMult=function(p,a){return a.multiply(p)},Kn=new Qt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Kn;var Rn=function(p,a){if(!Tr[p]){var f=(a instanceof Ms?"Sh":"P")+(Object.keys(Ie).length+1).toString(10);a.id=f,Tr[p]=f,Ie[f]=a,ge.publish("addPattern",a)}};m.ShadingPattern=Ms,m.TilingPattern=Co,m.addShadingPattern=function(p,a){return I("addShadingPattern()"),Rn(p,a),this},m.beginTilingPattern=function(p){I("beginTilingPattern()"),vo(p.boundingBox[0],p.boundingBox[1],p.boundingBox[2]-p.boundingBox[0],p.boundingBox[3]-p.boundingBox[1],p.matrix)},m.endTilingPattern=function(p,a){I("endTilingPattern()"),a.stream=_t[H].join(`
`),Rn(p,a),ge.publish("endTilingPattern",a),Cn.pop().restore()};var Qe=m.__private__.newObject=function(){var p=Ge();return pn(p,!0),p},Ge=m.__private__.newObjectDeferred=function(){return nt++,ut[nt]=function(){return pt},nt},pn=function(p,a){return a=typeof a=="boolean"&&a,ut[p]=pt,a&&rt(p+" 0 obj"),p},ls=m.__private__.newAdditionalObject=function(){var p={objId:Ge(),content:""};return Tt.push(p),p},In=Ge(),rr=Ge(),ir=m.__private__.decodeColorString=function(p){var a=p.split(" ");if(a.length!==2||a[1]!=="g"&&a[1]!=="G")a.length===5&&(a[4]==="k"||a[4]==="K")&&(a=[(1-a[0])*(1-a[3]),(1-a[1])*(1-a[3]),(1-a[2])*(1-a[3]),"r"]);else{var f=parseFloat(a[0]);a=[f,f,f,"r"]}for(var w="#",x=0;x<3;x++)w+=("0"+Math.floor(255*parseFloat(a[x])).toString(16)).slice(-2);return w},Yn=m.__private__.encodeColorString=function(p){var a;typeof p=="string"&&(p={ch1:p});var f=p.ch1,w=p.ch2,x=p.ch3,z=p.ch4,tt=p.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof f=="string"&&f.charAt(0)!=="#"){var gt=new v0(f);if(gt.ok)f=gt.toHex();else if(!/^\d*\.?\d*$/.test(f))throw new Error('Invalid color "'+f+'" passed to jsPDF.encodeColorString.')}if(typeof f=="string"&&/^#[0-9A-Fa-f]{3}$/.test(f)&&(f="#"+f[1]+f[1]+f[2]+f[2]+f[3]+f[3]),typeof f=="string"&&/^#[0-9A-Fa-f]{6}$/.test(f)){var Nt=parseInt(f.substr(1),16);f=Nt>>16&255,w=Nt>>8&255,x=255&Nt}if(w===void 0||z===void 0&&f===w&&w===x)if(typeof f=="string")a=f+" "+tt[0];else switch(p.precision){case 2:a=M(f/255)+" "+tt[0];break;case 3:default:a=A(f/255)+" "+tt[0]}else if(z===void 0||ke(z)==="object"){if(z&&!isNaN(z.a)&&z.a===0)return a=["1.","1.","1.",tt[1]].join(" ");if(typeof f=="string")a=[f,w,x,tt[1]].join(" ");else switch(p.precision){case 2:a=[M(f/255),M(w/255),M(x/255),tt[1]].join(" ");break;default:case 3:a=[A(f/255),A(w/255),A(x/255),tt[1]].join(" ")}}else if(typeof f=="string")a=[f,w,x,z,tt[2]].join(" ");else switch(p.precision){case 2:a=[M(f),M(w),M(x),M(z),tt[2]].join(" ");break;case 3:default:a=[A(f),A(w),A(x),A(z),tt[2]].join(" ")}return a},sr=m.__private__.getFilters=function(){return o},Xn=m.__private__.putStream=function(p){var a=(p=p||{}).data||"",f=p.filters||sr(),w=p.alreadyAppliedFilters||[],x=p.addLength1||!1,z=a.length,tt=p.objectId,gt=function(Ue){return Ue};if(g!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(gt=Sn.encryptor(tt,0));var Nt={};f===!0&&(f=["FlateEncode"]);var Ut=p.additionalKeyValues||[],Mt=(Nt=Yt.API.processDataByFilters!==void 0?Yt.API.processDataByFilters(a,f):{data:a,reverseChain:[]}).reverseChain+(Array.isArray(w)?w.join(" "):w.toString());if(Nt.data.length!==0&&(Ut.push({key:"Length",value:Nt.data.length}),x===!0&&Ut.push({key:"Length1",value:z})),Mt.length!=0)if(Mt.split("/").length-1==1)Ut.push({key:"Filter",value:Mt});else{Ut.push({key:"Filter",value:"["+Mt+"]"});for(var Kt=0;Kt<Ut.length;Kt+=1)if(Ut[Kt].key==="DecodeParms"){for(var Ae=[],Pe=0;Pe<Nt.reverseChain.split("/").length-1;Pe+=1)Ae.push("null");Ae.push(Ut[Kt].value),Ut[Kt].value="["+Ae.join(" ")+"]"}}rt("<<");for(var Ce=0;Ce<Ut.length;Ce++)rt("/"+Ut[Ce].key+" "+Ut[Ce].value);rt(">>"),Nt.data.length!==0&&(rt("stream"),rt(gt(Nt.data)),rt("endstream"))},Nr=m.__private__.putPage=function(p){var a=p.number,f=p.data,w=p.objId,x=p.contentsObjId;pn(w,!0),rt("<</Type /Page"),rt("/Parent "+p.rootDictionaryObjId+" 0 R"),rt("/Resources "+p.resourceDictionaryObjId+" 0 R"),rt("/MediaBox ["+parseFloat(_(p.mediaBox.bottomLeftX))+" "+parseFloat(_(p.mediaBox.bottomLeftY))+" "+_(p.mediaBox.topRightX)+" "+_(p.mediaBox.topRightY)+"]"),p.cropBox!==null&&rt("/CropBox ["+_(p.cropBox.bottomLeftX)+" "+_(p.cropBox.bottomLeftY)+" "+_(p.cropBox.topRightX)+" "+_(p.cropBox.topRightY)+"]"),p.bleedBox!==null&&rt("/BleedBox ["+_(p.bleedBox.bottomLeftX)+" "+_(p.bleedBox.bottomLeftY)+" "+_(p.bleedBox.topRightX)+" "+_(p.bleedBox.topRightY)+"]"),p.trimBox!==null&&rt("/TrimBox ["+_(p.trimBox.bottomLeftX)+" "+_(p.trimBox.bottomLeftY)+" "+_(p.trimBox.topRightX)+" "+_(p.trimBox.topRightY)+"]"),p.artBox!==null&&rt("/ArtBox ["+_(p.artBox.bottomLeftX)+" "+_(p.artBox.bottomLeftY)+" "+_(p.artBox.topRightX)+" "+_(p.artBox.topRightY)+"]"),typeof p.userUnit=="number"&&p.userUnit!==1&&rt("/UserUnit "+p.userUnit),ge.publish("putPage",{objId:w,pageContext:ie[a],pageNumber:a,page:f}),rt("/Contents "+x+" 0 R"),rt(">>"),rt("endobj");var z=f.join(`
`);return O===L.ADVANCED&&(z+=`
Q`),pn(x,!0),Xn({data:z,filters:sr(),objectId:x}),rt("endobj"),w},di=m.__private__.putPages=function(){var p,a,f=[];for(p=1;p<=de;p++)ie[p].objId=Ge(),ie[p].contentsObjId=Ge();for(p=1;p<=de;p++)f.push(Nr({number:p,data:_t[p],objId:ie[p].objId,contentsObjId:ie[p].contentsObjId,mediaBox:ie[p].mediaBox,cropBox:ie[p].cropBox,bleedBox:ie[p].bleedBox,trimBox:ie[p].trimBox,artBox:ie[p].artBox,userUnit:ie[p].userUnit,rootDictionaryObjId:In,resourceDictionaryObjId:rr}));pn(In,!0),rt("<</Type /Pages");var w="/Kids [";for(a=0;a<de;a++)w+=f[a]+" 0 R ";rt(w+"]"),rt("/Count "+de),rt(">>"),rt("endobj"),ge.publish("postPutPages")},us=function(p){ge.publish("putFont",{font:p,out:rt,newObject:Qe,putStream:Xn}),p.isAlreadyPutted!==!0&&(p.objectNumber=Qe(),rt("<<"),rt("/Type /Font"),rt("/BaseFont /"+xa(p.postScriptName)),rt("/Subtype /Type1"),typeof p.encoding=="string"&&rt("/Encoding /"+p.encoding),rt("/FirstChar 32"),rt("/LastChar 255"),rt(">>"),rt("endobj"))},Wr=function(){for(var p in Te)Te.hasOwnProperty(p)&&(v===!1||v===!0&&b.hasOwnProperty(p))&&us(Te[p])},Mi=function(p){p.objectNumber=Qe();var a=[];a.push({key:"Type",value:"/XObject"}),a.push({key:"Subtype",value:"/Form"}),a.push({key:"BBox",value:"["+[_(p.x),_(p.y),_(p.x+p.width),_(p.y+p.height)].join(" ")+"]"}),a.push({key:"Matrix",value:"["+p.matrix.toString()+"]"});var f=p.pages[1].join(`
`);Xn({data:f,additionalKeyValues:a,objectId:p.objectNumber}),rt("endobj")},fi=function(){for(var p in fn)fn.hasOwnProperty(p)&&Mi(fn[p])},pi=function(p,a){var f,w=[],x=1/(a-1);for(f=0;f<1;f+=x)w.push(f);if(w.push(1),p[0].offset!=0){var z={offset:0,color:p[0].color};p.unshift(z)}if(p[p.length-1].offset!=1){var tt={offset:1,color:p[p.length-1].color};p.push(tt)}for(var gt="",Nt=0,Ut=0;Ut<w.length;Ut++){for(f=w[Ut];f>p[Nt+1].offset;)Nt++;var Mt=p[Nt].offset,Kt=(f-Mt)/(p[Nt+1].offset-Mt),Ae=p[Nt].color,Pe=p[Nt+1].color;gt+=Z(Math.round((1-Kt)*Ae[0]+Kt*Pe[0]).toString(16))+Z(Math.round((1-Kt)*Ae[1]+Kt*Pe[1]).toString(16))+Z(Math.round((1-Kt)*Ae[2]+Kt*Pe[2]).toString(16))}return gt.trim()},Gr=function(p,a){a||(a=21);var f=Qe(),w=pi(p.colors,a),x=[];x.push({key:"FunctionType",value:"0"}),x.push({key:"Domain",value:"[0.0 1.0]"}),x.push({key:"Size",value:"["+a+"]"}),x.push({key:"BitsPerSample",value:"8"}),x.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),x.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xn({data:w,additionalKeyValues:x,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:f}),rt("endobj"),p.objectNumber=Qe(),rt("<< /ShadingType "+p.type),rt("/ColorSpace /DeviceRGB");var z="/Coords ["+_(parseFloat(p.coords[0]))+" "+_(parseFloat(p.coords[1]))+" ";p.type===2?z+=_(parseFloat(p.coords[2]))+" "+_(parseFloat(p.coords[3])):z+=_(parseFloat(p.coords[2]))+" "+_(parseFloat(p.coords[3]))+" "+_(parseFloat(p.coords[4]))+" "+_(parseFloat(p.coords[5])),rt(z+="]"),p.matrix&&rt("/Matrix ["+p.matrix.toString()+"]"),rt("/Function "+f+" 0 R"),rt("/Extend [true true]"),rt(">>"),rt("endobj")},oo=function(p,a){var f=Ge(),w=Qe();a.push({resourcesOid:f,objectOid:w}),p.objectNumber=w;var x=[];x.push({key:"Type",value:"/Pattern"}),x.push({key:"PatternType",value:"1"}),x.push({key:"PaintType",value:"1"}),x.push({key:"TilingType",value:"1"}),x.push({key:"BBox",value:"["+p.boundingBox.map(_).join(" ")+"]"}),x.push({key:"XStep",value:_(p.xStep)}),x.push({key:"YStep",value:_(p.yStep)}),x.push({key:"Resources",value:f+" 0 R"}),p.matrix&&x.push({key:"Matrix",value:"["+p.matrix.toString()+"]"}),Xn({data:p.stream,additionalKeyValues:x,objectId:p.objectNumber}),rt("endobj")},hs=function(p){var a;for(a in Ie)Ie.hasOwnProperty(a)&&(Ie[a]instanceof Ms?Gr(Ie[a]):Ie[a]instanceof Co&&oo(Ie[a],p))},ao=function(p){for(var a in p.objectNumber=Qe(),rt("<<"),p)switch(a){case"opacity":rt("/ca "+M(p[a]));break;case"stroke-opacity":rt("/CA "+M(p[a]))}rt(">>"),rt("endobj")},Go=function(){var p;for(p in qe)qe.hasOwnProperty(p)&&ao(qe[p])},ds=function(){for(var p in rt("/XObject <<"),fn)fn.hasOwnProperty(p)&&fn[p].objectNumber>=0&&rt("/"+p+" "+fn[p].objectNumber+" 0 R");ge.publish("putXobjectDict"),rt(">>")},co=function(){Sn.oid=Qe(),rt("<<"),rt("/Filter /Standard"),rt("/V "+Sn.v),rt("/R "+Sn.r),rt("/U <"+Sn.toHexString(Sn.U)+">"),rt("/O <"+Sn.toHexString(Sn.O)+">"),rt("/P "+Sn.P),rt(">>"),rt("endobj")},fs=function(){for(var p in rt("/Font <<"),Te)Te.hasOwnProperty(p)&&(v===!1||v===!0&&b.hasOwnProperty(p))&&rt("/"+p+" "+Te[p].objectNumber+" 0 R");rt(">>")},Ko=function(){if(Object.keys(Ie).length>0){for(var p in rt("/Shading <<"),Ie)Ie.hasOwnProperty(p)&&Ie[p]instanceof Ms&&Ie[p].objectNumber>=0&&rt("/"+p+" "+Ie[p].objectNumber+" 0 R");ge.publish("putShadingPatternDict"),rt(">>")}},ji=function(p){if(Object.keys(Ie).length>0){for(var a in rt("/Pattern <<"),Ie)Ie.hasOwnProperty(a)&&Ie[a]instanceof m.TilingPattern&&Ie[a].objectNumber>=0&&Ie[a].objectNumber<p&&rt("/"+a+" "+Ie[a].objectNumber+" 0 R");ge.publish("putTilingPatternDict"),rt(">>")}},Yo=function(){if(Object.keys(qe).length>0){var p;for(p in rt("/ExtGState <<"),qe)qe.hasOwnProperty(p)&&qe[p].objectNumber>=0&&rt("/"+p+" "+qe[p].objectNumber+" 0 R");ge.publish("putGStateDict"),rt(">>")}},Ke=function(p){pn(p.resourcesOid,!0),rt("<<"),rt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),fs(),Ko(),ji(p.objectOid),Yo(),ds(),rt(">>"),rt("endobj")},yr=function(){var p=[];Wr(),Go(),fi(),hs(p),ge.publish("putResources"),p.forEach(Ke),Ke({resourcesOid:rr,objectOid:Number.MAX_SAFE_INTEGER}),ge.publish("postPutResources")},Qn=function(){ge.publish("putAdditionalObjects");for(var p=0;p<Tt.length;p++){var a=Tt[p];pn(a.objId,!0),rt(a.content),rt("endobj")}ge.publish("postPutAdditionalObjects")},gi=function(p){Fe[p.fontName]=Fe[p.fontName]||{},Fe[p.fontName][p.fontStyle]=p.id},Kr=function(p,a,f,w,x){var z={id:"F"+(Object.keys(Te).length+1).toString(10),postScriptName:p,fontName:a,fontStyle:f,encoding:w,isStandardFont:x||!1,metadata:{}};return ge.publish("addFont",{font:z,instance:this}),Te[z.id]=z,gi(z),z.id},lo=function(p){for(var a=0,f=xt.length;a<f;a++){var w=Kr.call(this,p[a][0],p[a][1],p[a][2],xt[a][3],!0);v===!1&&(b[w]=!0);var x=p[a][0].split("-");gi({id:w,fontName:x[0],fontStyle:x[1]||""})}ge.publish("addFonts",{fonts:Te,dictionary:Fe})},fe=function(p){return p.foo=function(){try{return p.apply(this,arguments)}catch(w){var a=w.stack||"";~a.indexOf(" at ")&&(a=a.split(" at ")[1]);var f="Error in function "+a.split(`
`)[0].split("<")[0]+": "+w.message;if(!$t.console)throw new Error(f);$t.console.error(f,w),$t.alert&&alert(f)}},p.foo.bar=p,p.foo},Yr=function(p,a){var f,w,x,z,tt,gt,Nt,Ut,Mt;if(x=(a=a||{}).sourceEncoding||"Unicode",tt=a.outputEncoding,(a.autoencode||tt)&&Te[he].metadata&&Te[he].metadata[x]&&Te[he].metadata[x].encoding&&(z=Te[he].metadata[x].encoding,!tt&&Te[he].encoding&&(tt=Te[he].encoding),!tt&&z.codePages&&(tt=z.codePages[0]),typeof tt=="string"&&(tt=z[tt]),tt)){for(Nt=!1,gt=[],f=0,w=p.length;f<w;f++)(Ut=tt[p.charCodeAt(f)])?gt.push(String.fromCharCode(Ut)):gt.push(p[f]),gt[f].charCodeAt(0)>>8&&(Nt=!0);p=gt.join("")}for(f=p.length;Nt===void 0&&f!==0;)p.charCodeAt(f-1)>>8&&(Nt=!0),f--;if(!Nt)return p;for(gt=a.noBOM?[]:[254,255],f=0,w=p.length;f<w;f++){if((Mt=(Ut=p.charCodeAt(f))>>8)>>8)throw new Error("Character at position "+f+" of string '"+p+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");gt.push(Mt),gt.push(Ut-(Mt<<8))}return String.fromCharCode.apply(void 0,gt)},an=m.__private__.pdfEscape=m.pdfEscape=function(p,a){return Yr(p,a).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xr=m.__private__.beginPage=function(p){_t[++de]=[],ie[de]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(p[0]),topRightY:Number(p[1])}},Jo(de),vt(_t[H])},Xo=function(p,a){var f,w,x;switch(e=a||e,typeof p=="string"&&(f=P(p.toLowerCase()),Array.isArray(f)&&(w=f[0],x=f[1])),Array.isArray(p)&&(w=p[0]*Ot,x=p[1]*Ot),isNaN(w)&&(w=i[0],x=i[1]),(w>14400||x>14400)&&(Me.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),w=Math.min(14400,w),x=Math.min(14400,x)),i=[w,x],e.substr(0,1)){case"l":x>w&&(i=[x,w]);break;case"p":w>x&&(i=[x,w])}Xr(i),ra(or),rt(ar),ys!==0&&rt(ys+" J"),Ei!==0&&rt(Ei+" j"),ge.publish("addPage",{pageNumber:de})},Qo=function(p){p>0&&p<=de&&(_t.splice(p,1),ie.splice(p,1),de--,H>de&&(H=de),this.setPage(H))},Jo=function(p){p>0&&p<=de&&(H=p)},Qa=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return _t.length-1},Zo=function(p,a,f){var w,x=void 0;return f=f||{},p=p!==void 0?p:Te[he].fontName,a=a!==void 0?a:Te[he].fontStyle,w=p.toLowerCase(),Fe[w]!==void 0&&Fe[w][a]!==void 0?x=Fe[w][a]:Fe[p]!==void 0&&Fe[p][a]!==void 0?x=Fe[p][a]:f.disableWarning===!1&&Me.warn("Unable to look up font label for font '"+p+"', '"+a+"'. Refer to getFontList() for available fonts."),x||f.noFallback||(x=Fe.times[a])==null&&(x=Fe.times.normal),x},Ja=m.__private__.putInfo=function(){var p=Qe(),a=function(w){return w};for(var f in g!==null&&(a=Sn.encryptor(p,0)),rt("<<"),rt("/Producer ("+an(a("jsPDF "+Yt.version))+")"),Zt)Zt.hasOwnProperty(f)&&Zt[f]&&rt("/"+f.substr(0,1).toUpperCase()+f.substr(1)+" ("+an(a(Zt[f]))+")");rt("/CreationDate ("+an(a(ct))+")"),rt(">>"),rt("endobj")},Qr=m.__private__.putCatalog=function(p){var a=(p=p||{}).rootDictionaryObjId||In;switch(Qe(),rt("<<"),rt("/Type /Catalog"),rt("/Pages "+a+" 0 R"),Ct||(Ct="fullwidth"),Ct){case"fullwidth":rt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":rt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":rt("/OpenAction [3 0 R /Fit]");break;case"original":rt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var f=""+Ct;f.substr(f.length-1)==="%"&&(Ct=parseInt(Ct)/100),typeof Ct=="number"&&rt("/OpenAction [3 0 R /XYZ null null "+M(Ct)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":rt("/PageLayout /OneColumn");break;case"single":rt("/PageLayout /SinglePage");break;case"two":case"twoleft":rt("/PageLayout /TwoColumnLeft");break;case"tworight":rt("/PageLayout /TwoColumnRight")}re&&rt("/PageMode /"+re),ge.publish("putCatalog"),rt(">>"),rt("endobj")},Jr=m.__private__.putTrailer=function(){rt("trailer"),rt("<<"),rt("/Size "+(nt+1)),rt("/Root "+nt+" 0 R"),rt("/Info "+(nt-1)+" 0 R"),g!==null&&rt("/Encrypt "+Sn.oid+" 0 R"),rt("/ID [ <"+Q+"> <"+Q+"> ]"),rt(">>")},$o=m.__private__.putHeader=function(){rt("%PDF-"+N),rt("%ºß¬à")},ta=m.__private__.putXRef=function(){var p="0000000000";rt("xref"),rt("0 "+(nt+1)),rt("0000000000 65535 f ");for(var a=1;a<=nt;a++)typeof ut[a]=="function"?rt((p+ut[a]()).slice(-10)+" 00000 n "):ut[a]!==void 0?rt((p+ut[a]).slice(-10)+" 00000 n "):rt("0000000000 00000 n ")},Cr=m.__private__.buildDocument=function(){Gt(),vt(ht),ge.publish("buildDocument"),$o(),di(),Qn(),yr(),g!==null&&co(),Ja(),Qr();var p=pt;return ta(),Jr(),rt("startxref"),rt(""+p),rt("%%EOF"),vt(_t[H]),ht.join(`
`)},Vi=m.__private__.getBlob=function(p){return new Blob([qt(p)],{type:"application/pdf"})},Bi=m.output=m.__private__.output=fe(function(p,a){switch(typeof(a=a||{})=="string"?a={filename:a}:a.filename=a.filename||"generated.pdf",p){case void 0:return Cr();case"save":m.save(a.filename);break;case"arraybuffer":return qt(Cr());case"blob":return Vi(Cr());case"bloburi":case"bloburl":if($t.URL!==void 0&&typeof $t.URL.createObjectURL=="function")return $t.URL&&$t.URL.createObjectURL(Vi(Cr()))||void 0;Me.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var f="",w=Cr();try{f=ud(w)}catch{f=ud(unescape(encodeURIComponent(w)))}return"data:application/pdf;filename="+a.filename+";base64,"+f;case"pdfobjectnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var x="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",z=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';a.pdfObjectUrl&&(x=a.pdfObjectUrl,z="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+x+'"'+z+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(a)+");<\/script></body></html>",gt=$t.open();return gt!==null&&gt.document.write(tt),gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call($t)==="[object Window]"){var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(a.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+a.filename+'" width="500px" height="400px" /></body></html>',Ut=$t.open();if(Ut!==null){Ut.document.write(Nt);var Mt=this;Ut.document.documentElement.querySelector("#pdfViewer").onload=function(){Ut.document.title=a.filename,Ut.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Mt.output("bloburl"))}}return Ut}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call($t)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",a)+'"></iframe></body></html>',Ae=$t.open();if(Ae!==null&&(Ae.document.write(Kt),Ae.document.title=a.filename),Ae||typeof safari>"u")return Ae;break;case"datauri":case"dataurl":return $t.document.location.href=this.output("datauristring",a);default:return null}}),Zr=function(p){return Array.isArray(gr)===!0&&gr.indexOf(p)>-1};switch(r){case"pt":Ot=1;break;case"mm":Ot=72/25.4;break;case"cm":Ot=72/2.54;break;case"in":Ot=72;break;case"px":Ot=Zr("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ot=12;break;case"ex":Ot=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ot=r}var Sn=null;mt(),et();var Za=function(p){return g!==null?Sn.encryptor(p,0):function(a){return a}},ea=m.__private__.getPageInfo=m.getPageInfo=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ie[p].objId,pageNumber:p,pageContext:ie[p]}},Wt=m.__private__.getPageInfoByObjId=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var a in ie)if(ie[a].objId===p)break;return ea(a)},$a=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:ie[H].objId,pageNumber:H,pageContext:ie[H]}};m.addPage=function(){return Xo.apply(this,arguments),this},m.setPage=function(){return Jo.apply(this,arguments),vt.call(this,_t[H]),this},m.insertPage=function(p){return this.addPage(),this.movePage(H,p),this},m.movePage=function(p,a){var f,w;if(p>a){f=_t[p],w=ie[p];for(var x=p;x>a;x--)_t[x]=_t[x-1],ie[x]=ie[x-1];_t[a]=f,ie[a]=w,this.setPage(a)}else if(p<a){f=_t[p],w=ie[p];for(var z=p;z<a;z++)_t[z]=_t[z+1],ie[z]=ie[z+1];_t[a]=f,ie[a]=w,this.setPage(a)}return this},m.deletePage=function(){return Qo.apply(this,arguments),this},m.__private__.text=m.text=function(p,a,f,w,x){var z,tt,gt,Nt,Ut,Mt,Kt,Ae,Pe,Ce=(w=w||{}).scope||this;if(typeof p=="number"&&typeof a=="number"&&(typeof f=="string"||Array.isArray(f))){var Ue=f;f=a,a=p,p=Ue}if(arguments[3]instanceof Qt?(I("The transform parameter of text() with a Matrix value"),Pe=x):(gt=arguments[4],Nt=arguments[5],ke(Kt=arguments[3])==="object"&&Kt!==null||(typeof gt=="string"&&(Nt=gt,gt=null),typeof Kt=="string"&&(Nt=Kt,Kt=null),typeof Kt=="number"&&(gt=Kt,Kt=null),w={flags:Kt,angle:gt,align:Nt})),isNaN(a)||isNaN(f)||p==null)throw new Error("Invalid arguments passed to jsPDF.text");if(p.length===0)return Ce;var Ye="",$n=!1,wr=typeof w.lineHeightFactor=="number"?w.lineHeightFactor:Lr,Ii=Ce.internal.scaleFactor;function cl(Ve){return Ve=Ve.split("	").join(Array(w.TabLen||9).join(" ")),an(Ve,Kt)}function ec(Ve){for(var Be,tn=Ve.concat(),mn=[],Ki=tn.length;Ki--;)typeof(Be=tn.shift())=="string"?mn.push(Be):Array.isArray(Ve)&&(Be.length===1||Be[1]===void 0&&Be[2]===void 0)?mn.push(Be[0]):mn.push([Be[0],Be[1],Be[2]]);return mn}function nc(Ve,Be){var tn;if(typeof Ve=="string")tn=Be(Ve)[0];else if(Array.isArray(Ve)){for(var mn,Ki,uc=Ve.concat(),ga=[],fl=uc.length;fl--;)typeof(mn=uc.shift())=="string"?ga.push(Be(mn)[0]):Array.isArray(mn)&&typeof mn[0]=="string"&&(Ki=Be(mn[0],mn[1],mn[2]),ga.push([Ki[0],Ki[1],Ki[2]]));tn=ga}return tn}var oa=!1,rc=!0;if(typeof p=="string")oa=!0;else if(Array.isArray(p)){var ic=p.concat();tt=[];for(var aa,Ln=ic.length;Ln--;)(typeof(aa=ic.shift())!="string"||Array.isArray(aa)&&typeof aa[0]!="string")&&(rc=!1);oa=rc}if(oa===!1)throw new Error('Type of text must be string or Array. "'+p+'" is not recognized.');typeof p=="string"&&(p=p.match(/[\r?\n]/)?p.split(/\r\n|\r|\n/g):[p]);var ca=Pt/Ce.internal.scaleFactor,la=ca*(wr-1);switch(w.baseline){case"bottom":f-=la;break;case"top":f+=ca-la;break;case"hanging":f+=ca-2*la;break;case"middle":f+=ca/2-la}if((Mt=w.maxWidth||0)>0&&(typeof p=="string"?p=Ce.splitTextToSize(p,Mt):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(Ve,Be){return Ve.concat(Ce.splitTextToSize(Be,Mt))},[]))),z={text:p,x:a,y:f,options:w,mutex:{pdfEscape:an,activeFontKey:he,fonts:Te,activeFontSize:Pt}},ge.publish("preProcessText",z),p=z.text,gt=(w=z.options).angle,!(Pe instanceof Qt)&&gt&&typeof gt=="number"){gt*=Math.PI/180,w.rotationDirection===0&&(gt=-gt),O===L.ADVANCED&&(gt=-gt);var ua=Math.cos(gt),sc=Math.sin(gt);Pe=new Qt(ua,sc,-sc,ua,0,0)}else gt&&gt instanceof Qt&&(Pe=gt);O!==L.ADVANCED||Pe||(Pe=Kn),(Ut=w.charSpace||Ai)!==void 0&&(Ye+=_(E(Ut))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ae=w.horizontalScale)!==void 0&&(Ye+=_(100*Ae)+` Tz
`),w.lang;var cr=-1,zu=w.renderingMode!==void 0?w.renderingMode:w.stroke,oc=Ce.internal.getCurrentPageInfo().pageContext;switch(zu){case 0:case!1:case"fill":cr=0;break;case 1:case!0:case"stroke":cr=1;break;case 2:case"fillThenStroke":cr=2;break;case 3:case"invisible":cr=3;break;case 4:case"fillAndAddForClipping":cr=4;break;case 5:case"strokeAndAddPathForClipping":cr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":cr=6;break;case 7:case"addToPathForClipping":cr=7}var ll=oc.usedRenderingMode!==void 0?oc.usedRenderingMode:-1;cr!==-1?Ye+=cr+` Tr
`:ll!==-1&&(Ye+=`0 Tr
`),cr!==-1&&(oc.usedRenderingMode=cr),Nt=w.align||"left";var Dr,ha=Pt*wr,ul=Ce.internal.pageSize.getWidth(),hl=Te[he];Ut=w.charSpace||Ai,Mt=w.maxWidth||0,Kt=Object.assign({autoencode:!0,noBOM:!0},w.flags);var bs=[],wo=function(Ve){return Ce.getStringUnitWidth(Ve,{font:hl,charSpace:Ut,fontSize:Pt,doKerning:!1})*Pt/Ii};if(Object.prototype.toString.call(p)==="[object Array]"){var lr;tt=ec(p),Nt!=="left"&&(Dr=tt.map(wo));var tr,As=0;if(Nt==="right"){a-=Dr[0],p=[],Ln=tt.length;for(var zi=0;zi<Ln;zi++)zi===0?(tr=Zn(a),lr=kr(f)):(tr=E(As-Dr[zi]),lr=-ha),p.push([tt[zi],tr,lr]),As=Dr[zi]}else if(Nt==="center"){a-=Dr[0]/2,p=[],Ln=tt.length;for(var Wi=0;Wi<Ln;Wi++)Wi===0?(tr=Zn(a),lr=kr(f)):(tr=E((As-Dr[Wi])/2),lr=-ha),p.push([tt[Wi],tr,lr]),As=Dr[Wi]}else if(Nt==="left"){p=[],Ln=tt.length;for(var da=0;da<Ln;da++)p.push(tt[da])}else if(Nt==="justify"&&hl.encoding==="Identity-H"){p=[],Ln=tt.length,Mt=Mt!==0?Mt:ul;for(var Gi=0,$e=0;$e<Ln;$e++)if(lr=$e===0?kr(f):-ha,tr=$e===0?Zn(a):Gi,$e<Ln-1){var ac=E((Mt-Dr[$e])/(tt[$e].split(" ").length-1)),er=tt[$e].split(" ");p.push([er[0]+" ",tr,lr]),Gi=0;for(var Or=1;Or<er.length;Or++){var fa=(wo(er[Or-1]+" "+er[Or])-wo(er[Or]))*Ii+ac;Or==er.length-1?p.push([er[Or],fa,0]):p.push([er[Or]+" ",fa,0]),Gi-=fa}}else p.push([tt[$e],tr,lr]);p.push(["",Gi,0])}else{if(Nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(p=[],Ln=tt.length,Mt=Mt!==0?Mt:ul,$e=0;$e<Ln;$e++)lr=$e===0?kr(f):-ha,tr=$e===0?Zn(a):0,$e<Ln-1?bs.push(_(E((Mt-Dr[$e])/(tt[$e].split(" ").length-1)))):bs.push(0),p.push([tt[$e],tr,lr])}}var dl=typeof w.R2L=="boolean"?w.R2L:zt;dl===!0&&(p=nc(p,function(Ve,Be,tn){return[Ve.split("").reverse().join(""),Be,tn]})),z={text:p,x:a,y:f,options:w,mutex:{pdfEscape:an,activeFontKey:he,fonts:Te,activeFontSize:Pt}},ge.publish("postProcessText",z),p=z.text,$n=z.mutex.isHex||!1;var cc=Te[he].encoding;cc!=="WinAnsiEncoding"&&cc!=="StandardEncoding"||(p=nc(p,function(Ve,Be,tn){return[cl(Ve),Be,tn]})),tt=ec(p),p=[];for(var bo,Ao,Es,Eo=0,pa=1,Io=Array.isArray(tt[0])?pa:Eo,Is="",lc=function(Ve,Be,tn){var mn="";return tn instanceof Qt?(tn=typeof w.angle=="number"?mr(tn,new Qt(1,0,0,1,Ve,Be)):mr(new Qt(1,0,0,1,Ve,Be),tn),O===L.ADVANCED&&(tn=mr(new Qt(1,0,0,-1,0,0),tn)),mn=tn.join(" ")+` Tm
`):mn=_(Ve)+" "+_(Be)+` Td
`,mn},Mr=0;Mr<tt.length;Mr++){switch(Is="",Io){case pa:Es=($n?"<":"(")+tt[Mr][0]+($n?">":")"),bo=parseFloat(tt[Mr][1]),Ao=parseFloat(tt[Mr][2]);break;case Eo:Es=($n?"<":"(")+tt[Mr]+($n?">":")"),bo=Zn(a),Ao=kr(f)}bs!==void 0&&bs[Mr]!==void 0&&(Is=bs[Mr]+` Tw
`),Mr===0?p.push(Is+lc(bo,Ao,Pe)+Es):Io===Eo?p.push(Is+Es):Io===pa&&p.push(Is+lc(bo,Ao,Pe)+Es)}p=Io===Eo?p.join(` Tj
T* `):p.join(` Tj
`),p+=` Tj
`;var jr=`BT
/`;return jr+=he+" "+Pt+` Tf
`,jr+=_(Pt*wr)+` TL
`,jr+=bi+`
`,jr+=Ye,jr+=p,rt(jr+="ET"),b[he]=!0,Ce};var uo=m.__private__.clip=m.clip=function(p){return rt(p==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return uo("evenodd")},m.__private__.discardPath=m.discardPath=function(){return rt("n"),this};var Jn=m.__private__.isValidStyle=function(p){var a=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(p)!==-1&&(a=!0),a};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(p){return Jn(p)&&(d=p),this};var ho=m.__private__.getStyle=m.getStyle=function(p){var a=d;switch(p){case"D":case"S":a="S";break;case"F":a="f";break;case"FD":case"DF":a="B";break;case"f":case"f*":case"B":case"B*":a=p}return a},mi=m.close=function(){return rt("h"),this};m.stroke=function(){return rt("S"),this},m.fill=function(p){return Rr("f",p),this},m.fillEvenOdd=function(p){return Rr("f*",p),this},m.fillStroke=function(p){return Rr("B",p),this},m.fillStrokeEvenOdd=function(p){return Rr("B*",p),this};var Rr=function(p,a){ke(a)==="object"?je(a,p):rt(p)},ps=function(p){p===null||O===L.ADVANCED&&p===void 0||(p=ho(p),rt(p))};function fo(p,a,f,w,x){var z=new Co(a||this.boundingBox,f||this.xStep,w||this.yStep,this.gState,x||this.matrix);z.stream=this.stream;var tt=p+"$$"+this.cloneIndex+++"$$";return Rn(tt,z),z}var je=function(p,a){var f=Tr[p.key],w=Ie[f];if(w instanceof Ms)rt("q"),rt(tc(a)),w.gState&&m.setGState(w.gState),rt(p.matrix.toString()+" cm"),rt("/"+f+" sh"),rt("Q");else if(w instanceof Co){var x=new Qt(1,0,0,-1,0,ei());p.matrix&&(x=x.multiply(p.matrix||Kn),f=fo.call(w,p.key,p.boundingBox,p.xStep,p.yStep,x).id),rt("q"),rt("/Pattern cs"),rt("/"+f+" scn"),w.gState&&m.setGState(w.gState),rt(a),rt("Q")}},tc=function(p){switch(p){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},po=m.moveTo=function(p,a){return rt(_(E(p))+" "+_(W(a))+" m"),this},yi=m.lineTo=function(p,a){return rt(_(E(p))+" "+_(W(a))+" l"),this},$r=m.curveTo=function(p,a,f,w,x,z){return rt([_(E(p)),_(W(a)),_(E(f)),_(W(w)),_(E(x)),_(W(z)),"c"].join(" ")),this};m.__private__.line=m.line=function(p,a,f,w,x){if(isNaN(p)||isNaN(a)||isNaN(f)||isNaN(w)||!Jn(x))throw new Error("Invalid arguments passed to jsPDF.line");return O===L.COMPAT?this.lines([[f-p,w-a]],p,a,[1,1],x||"S"):this.lines([[f-p,w-a]],p,a,[1,1]).stroke()},m.__private__.lines=m.lines=function(p,a,f,w,x,z){var tt,gt,Nt,Ut,Mt,Kt,Ae,Pe,Ce,Ue,Ye,$n;if(typeof p=="number"&&($n=f,f=a,a=p,p=$n),w=w||[1,1],z=z||!1,isNaN(a)||isNaN(f)||!Array.isArray(p)||!Array.isArray(w)||!Jn(x)||typeof z!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(po(a,f),tt=w[0],gt=w[1],Ut=p.length,Ue=a,Ye=f,Nt=0;Nt<Ut;Nt++)(Mt=p[Nt]).length===2?(Ue=Mt[0]*tt+Ue,Ye=Mt[1]*gt+Ye,yi(Ue,Ye)):(Kt=Mt[0]*tt+Ue,Ae=Mt[1]*gt+Ye,Pe=Mt[2]*tt+Ue,Ce=Mt[3]*gt+Ye,Ue=Mt[4]*tt+Ue,Ye=Mt[5]*gt+Ye,$r(Kt,Ae,Pe,Ce,Ue,Ye));return z&&mi(),ps(x),this},m.path=function(p){for(var a=0;a<p.length;a++){var f=p[a],w=f.c;switch(f.op){case"m":po(w[0],w[1]);break;case"l":yi(w[0],w[1]);break;case"c":$r.apply(this,w);break;case"h":mi()}}return this},m.__private__.rect=m.rect=function(p,a,f,w,x){if(isNaN(p)||isNaN(a)||isNaN(f)||isNaN(w)||!Jn(x))throw new Error("Invalid arguments passed to jsPDF.rect");return O===L.COMPAT&&(w=-w),rt([_(E(p)),_(W(a)),_(E(f)),_(E(w)),"re"].join(" ")),ps(x),this},m.__private__.triangle=m.triangle=function(p,a,f,w,x,z,tt){if(isNaN(p)||isNaN(a)||isNaN(f)||isNaN(w)||isNaN(x)||isNaN(z)||!Jn(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[f-p,w-a],[x-f,z-w],[p-x,a-z]],p,a,[1,1],tt,!0),this},m.__private__.roundedRect=m.roundedRect=function(p,a,f,w,x,z,tt){if(isNaN(p)||isNaN(a)||isNaN(f)||isNaN(w)||isNaN(x)||isNaN(z)||!Jn(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var gt=4/3*(Math.SQRT2-1);return x=Math.min(x,.5*f),z=Math.min(z,.5*w),this.lines([[f-2*x,0],[x*gt,0,x,z-z*gt,x,z],[0,w-2*z],[0,z*gt,-x*gt,z,-x,z],[2*x-f,0],[-x*gt,0,-x,-z*gt,-x,-z],[0,2*z-w],[0,-z*gt,x*gt,-z,x,-z]],p+x,a,[1,1],tt,!0),this},m.__private__.ellipse=m.ellipse=function(p,a,f,w,x){if(isNaN(p)||isNaN(a)||isNaN(f)||isNaN(w)||!Jn(x))throw new Error("Invalid arguments passed to jsPDF.ellipse");var z=4/3*(Math.SQRT2-1)*f,tt=4/3*(Math.SQRT2-1)*w;return po(p+f,a),$r(p+f,a-tt,p+z,a-w,p,a-w),$r(p-z,a-w,p-f,a-tt,p-f,a),$r(p-f,a+tt,p-z,a+w,p,a+w),$r(p+z,a+w,p+f,a+tt,p+f,a),ps(x),this},m.__private__.circle=m.circle=function(p,a,f,w){if(isNaN(p)||isNaN(a)||isNaN(f)||!Jn(w))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(p,a,f,f,w)},m.setFont=function(p,a,f){return f&&(a=J(a,f)),he=Zo(p,a,{disableWarning:!1}),this};var na=m.__private__.getFont=m.getFont=function(){return Te[Zo.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var p,a,f={};for(p in Fe)if(Fe.hasOwnProperty(p))for(a in f[p]=[],Fe[p])Fe[p].hasOwnProperty(a)&&f[p].push(a);return f},m.addFont=function(p,a,f,w,x){var z=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&z.indexOf(arguments[3])!==-1?x=arguments[3]:arguments[3]&&z.indexOf(arguments[3])==-1&&(f=J(f,w)),x=x||"Identity-H",Kr.call(this,p,a,f,x)};var Lr,or=n.lineWidth||.200025,qi=m.__private__.getLineWidth=m.getLineWidth=function(){return or},ra=m.__private__.setLineWidth=m.setLineWidth=function(p){return or=p,rt(_(E(p))+" w"),this};m.__private__.setLineDash=Yt.API.setLineDash=Yt.API.setLineDashPattern=function(p,a){if(p=p||[],a=a||0,isNaN(a)||!Array.isArray(p))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return p=p.map(function(f){return _(E(f))}).join(" "),a=_(E(a)),rt("["+p+"] "+a+" d"),this};var vi=m.__private__.getLineHeight=m.getLineHeight=function(){return Pt*Lr};m.__private__.getLineHeight=m.getLineHeight=function(){return Pt*Lr};var go=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(p){return typeof(p=p||1.15)=="number"&&(Lr=p),this},gs=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Lr};go(n.lineHeight);var Zn=m.__private__.getHorizontalCoordinate=function(p){return E(p)},kr=m.__private__.getVerticalCoordinate=function(p){return O===L.ADVANCED?p:ie[H].mediaBox.topRightY-ie[H].mediaBox.bottomLeftY-E(p)},ms=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(p){return _(Zn(p))},wi=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(p){return _(kr(p))},ar=n.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return ir(ar)},m.__private__.setStrokeColor=m.setDrawColor=function(p,a,f,w){return ar=Yn({ch1:p,ch2:a,ch3:f,ch4:w,pdfColorType:"draw",precision:2}),rt(ar),this};var ti=n.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return ir(ti)},m.__private__.setFillColor=m.setFillColor=function(p,a,f,w){return ti=Yn({ch1:p,ch2:a,ch3:f,ch4:w,pdfColorType:"fill",precision:2}),rt(ti),this};var bi=n.textColor||"0 g",ia=m.__private__.getTextColor=m.getTextColor=function(){return ir(bi)};m.__private__.setTextColor=m.setTextColor=function(p,a,f,w){return bi=Yn({ch1:p,ch2:a,ch3:f,ch4:w,pdfColorType:"text",precision:3}),this};var Ai=n.charSpace,mo=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Ai||0)};m.__private__.setCharSpace=m.setCharSpace=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ai=p,this};var ys=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(p){var a=m.CapJoinStyles[p];if(a===void 0)throw new Error("Line cap style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ys=a,rt(a+" J"),this};var Ei=0;m.__private__.setLineJoin=m.setLineJoin=function(p){var a=m.CapJoinStyles[p];if(a===void 0)throw new Error("Line join style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ei=a,rt(a+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(p){if(p=p||0,isNaN(p))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return rt(_(E(p))+" M"),this},m.GState=Qc,m.setGState=function(p){(p=typeof p=="string"?qe[Nn[p]]:yo(null,p)).equals(xr)||(rt("/"+p.id+" gs"),xr=p)};var yo=function(p,a){if(!p||!Nn[p]){var f=!1;for(var w in qe)if(qe.hasOwnProperty(w)&&qe[w].equals(a)){f=!0;break}if(f)a=qe[w];else{var x="GS"+(Object.keys(qe).length+1).toString(10);qe[x]=a,a.id=x}return p&&(Nn[p]=a.id),ge.publish("addGState",a),a}};m.addGState=function(p,a){return yo(p,a),this},m.saveGraphicsState=function(){return rt("q"),En.push({key:he,size:Pt,color:bi}),this},m.restoreGraphicsState=function(){rt("Q");var p=En.pop();return he=p.key,Pt=p.size,bi=p.color,xr=null,this},m.setCurrentTransformationMatrix=function(p){return rt(p.toString()+" cm"),this},m.comment=function(p){return rt("#"+p),this};var Ui=function(p,a){var f=p||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(z){isNaN(z)||(f=parseFloat(z))}});var w=a||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return w},set:function(z){isNaN(z)||(w=parseFloat(z))}});var x="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return x},set:function(z){x=z.toString()}}),this},vr=function(p,a,f,w){Ui.call(this,p,a),this.type="rect";var x=f||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return x},set:function(tt){isNaN(tt)||(x=parseFloat(tt))}});var z=w||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return z},set:function(tt){isNaN(tt)||(z=parseFloat(tt))}}),this},vs=function(){this.page=de,this.currentPage=H,this.pages=_t.slice(0),this.pagesContext=ie.slice(0),this.x=dn,this.y=be,this.matrix=Pn,this.width=Fr(H),this.height=ei(H),this.outputDestination=kt,this.id="",this.objectNumber=-1};vs.prototype.restore=function(){de=this.page,H=this.currentPage,ie=this.pagesContext,_t=this.pages,dn=this.x,be=this.y,Pn=this.matrix,gn(H,this.width),ws(H,this.height),kt=this.outputDestination};var vo=function(p,a,f,w,x){Cn.push(new vs),de=H=0,_t=[],dn=p,be=a,Pn=x,Xr([f,w])},sa=function(p){if(Pr[p])Cn.pop().restore();else{var a=new vs,f="Xo"+(Object.keys(fn).length+1).toString(10);a.id=f,Pr[p]=f,fn[f]=a,ge.publish("addFormObject",a),Cn.pop().restore()}};for(var Hi in m.beginFormObject=function(p,a,f,w,x){return vo(p,a,f,w,x),this},m.endFormObject=function(p){return sa(p),this},m.doFormObject=function(p,a){var f=fn[Pr[p]];return rt("q"),rt(a.toString()+" cm"),rt("/"+f.id+" Do"),rt("Q"),this},m.getFormObject=function(p){var a=fn[Pr[p]];return{x:a.x,y:a.y,width:a.width,height:a.height,matrix:a.matrix}},m.save=function(p,a){return p=p||"generated.pdf",(a=a||{}).returnPromise=a.returnPromise||!1,a.returnPromise===!1?(To(Vi(Cr()),p),typeof To.unload=="function"&&$t.setTimeout&&setTimeout(To.unload,911),this):new Promise(function(f,w){try{var x=To(Vi(Cr()),p);typeof To.unload=="function"&&$t.setTimeout&&setTimeout(To.unload,911),f(x)}catch(z){w(z.message)}})},Yt.API)Yt.API.hasOwnProperty(Hi)&&(Hi==="events"&&Yt.API.events.length?function(p,a){var f,w,x;for(x=a.length-1;x!==-1;x--)f=a[x][0],w=a[x][1],p.subscribe.apply(p,[f].concat(typeof w=="function"?[w]:w))}(ge,Yt.API.events):m[Hi]=Yt.API[Hi]);var Fr=m.getPageWidth=function(p){return(ie[p=p||H].mediaBox.topRightX-ie[p].mediaBox.bottomLeftX)/Ot},gn=m.setPageWidth=function(p,a){ie[p].mediaBox.topRightX=a*Ot+ie[p].mediaBox.bottomLeftX},ei=m.getPageHeight=function(p){return(ie[p=p||H].mediaBox.topRightY-ie[p].mediaBox.bottomLeftY)/Ot},ws=m.setPageHeight=function(p,a){ie[p].mediaBox.topRightY=a*Ot+ie[p].mediaBox.bottomLeftY};return m.internal={pdfEscape:an,getStyle:ho,getFont:na,getFontSize:Lt,getCharSpace:mo,getTextColor:ia,getLineHeight:vi,getLineHeightFactor:gs,getLineWidth:qi,write:ne,getHorizontalCoordinate:Zn,getVerticalCoordinate:kr,getCoordinateString:ms,getVerticalCoordinateString:wi,collections:{},newObject:Qe,newAdditionalObject:ls,newObjectDeferred:Ge,newObjectDeferredBegin:pn,getFilters:sr,putStream:Xn,events:ge,scaleFactor:Ot,pageSize:{getWidth:function(){return Fr(H)},setWidth:function(p){gn(H,p)},getHeight:function(){return ei(H)},setHeight:function(p){ws(H,p)}},encryptionOptions:g,encryption:Sn,getEncryptor:Za,output:Bi,getNumberOfPages:Qa,pages:_t,out:rt,f2:M,f3:A,getPageInfo:ea,getPageInfoByObjId:Wt,getCurrentPageInfo:$a,getPDFVersion:R,Point:Ui,Rectangle:vr,Matrix:Qt,hasHotfix:Zr},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Fr(H)},set:function(p){gn(H,p)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return ei(H)},set:function(p){ws(H,p)},enumerable:!0,configurable:!0}),lo.call(m,xt),he="F1",Xo(i,e),ge.publish("initialized"),m}Ta.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Ta.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ta.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},Ta.prototype.processOwnerPassword=function(n,t){return dd(hd(t).substr(0,5),n)},Ta.prototype.encryptor=function(n,t){var e=hd(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return dd(e,r)}},Qc.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||ke(n)!==ke(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},Yt.API={events:[]},Yt.version="2.5.2";var Ze=Yt.API,mf=1,Wo=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ba=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ae=function(n){return n.toFixed(2)},ks=function(n){return n.toFixed(5)};Ze.__acroform__={};var pr=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},Ig=function(n){return n*mf},_i=function(n){var t=new E0,e=Bt.internal.getHeight(n)||0,r=Bt.internal.getWidth(n)||0;return t.BBox=[0,0,Number(ae(r)),Number(ae(e))],t},ZA=Ze.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<t},$A=Ze.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<t)},tE=Ze.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},rn=Ze.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return tE(n,t-1)},sn=Ze.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ZA(n,t-1)},on=Ze.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $A(n,t-1)},eE=Ze.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],l=n[3],u={};return u.lowerLeft_X=e(i)||0,u.lowerLeft_Y=r(s+l)||0,u.upperRight_X=e(i+o)||0,u.upperRight_Y=r(s)||0,[Number(ae(u.lowerLeft_X)),Number(ae(u.lowerLeft_Y)),Number(ae(u.upperRight_X)),Number(ae(u.upperRight_Y))]},nE=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,r=fd(n,e),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+i+" "+ae(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=_i(n);return s.scope=n.scope,s.stream=t.join(`
`),s}},fd=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=n.multiline?i.map(function(A){return A.split(`
`)}):i.map(function(A){return[A]});var s=e,o=Bt.internal.getHeight(n)||0;o=o<0?-o:o;var l=Bt.internal.getWidth(n)||0;l=l<0?-l:l;var u=function(A,E,T){if(A+1<i.length){var W=E+" "+i[A+1][0];return Bl(W,n,T).width<=l-4}return!1};s++;t:for(;s>0;){t="",s--;var d,g,v=Bl("3",n,s).height,b=n.multiline?o-s:(o-v)/2,m=b+=2,N=0,R=0,F=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Bl(t,n,s=12).width+", FieldWidth:"+l+`
`;break}for(var P="",L=0,O=0;O<i.length;O++)if(i.hasOwnProperty(O)){var q=!1;if(i[O].length!==1&&F!==i[O].length-1){if((v+2)*(L+2)+2>o)continue t;P+=i[O][F],q=!0,R=O,O--}else{P=(P+=i[O][F]+" ").substr(P.length-1)==" "?P.substr(0,P.length-1):P;var Y=parseInt(O),J=u(Y,P,s),_=O>=i.length-1;if(J&&!_){P+=" ",F=0;continue}if(J||_){if(_)R=Y;else if(n.multiline&&(v+2)*(L+2)+2>o)continue t}else{if(!n.multiline||(v+2)*(L+2)+2>o)continue t;R=Y}}for(var I="",C=N;C<=R;C++){var M=i[C];if(n.multiline){if(C===R){I+=M[F]+" ",F=(F+1)%M.length;continue}if(C===N){I+=M[M.length-1]+" ";continue}}I+=M[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,g=Bl(I,n,s).width,n.textAlign){case"right":d=l-g-2;break;case"center":d=(l-g)/2;break;case"left":default:d=2}t+=ae(d)+" "+ae(m)+` Td
`,t+="("+Wo(I)+`) Tj
`,t+=-ae(d)+` 0 Td
`,m=-(s+2),g=0,N=q?R:R+1,L++,P=""}break}return r.text=t,r.fontSize=s,r},Bl=function(n,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:i}},rE={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},iE=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},sE=function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var r=e,i=n[e];t.internal.newObjectDeferredBegin(i.objId,!0),ke(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},oE=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ui.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(rE)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");mf=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new I0,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&iE(s,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],u=[],d=l.Rect;if(l.Rect&&(l.Rect=eE(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Bt.createDefaultAppearanceStream(l),ke(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var g=nE(l);u.push({key:"AP",value:"<</N "+g+">>"}),i.internal.acroformPlugin.xForms.push(g)}if(l.appearanceStreamContent){var v="";for(var b in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(b)){var m=l.appearanceStreamContent[b];if(v+="/"+b+" ",v+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var N=m[o];typeof N=="function"&&(N=N.call(i,l)),v+="/"+o+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=m)=="function"&&(N=N.call(i,l)),v+="/"+o+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);v+=">>"}u.push({key:"AP",value:`<<
`+v+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:l.objId}),i.internal.out("endobj")}s&&sE(i.internal.acroformPlugin.xForms,i)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},A0=Ze.__acroform__.arrayToPdfArray=function(n,t,e){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),ke(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),i+="("+Wo(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},xh=function(n,t,e){var r=function(i){return i};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(n=n||"").toString(),n="("+Wo(r(n))+")"},xi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xi.prototype.toString=function(){return this.objId+" 0 R"},xi.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},xi.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:A0(i,this.objId,this.scope)}):i instanceof xi?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var E0=function(){xi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};pr(E0,xi);var I0=function(){xi.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Wo(e(n))+")"}},set:function(e){n=e}})};pr(I0,xi);var ui=function n(){xi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute F supplied.');t=P}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!rn(t,3)},set:function(P){P?this.F=sn(t,3):this.F=on(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(P){if(isNaN(P))throw new Error('Invalid value "'+P+'" for attribute Ff supplied.');e=P}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(P){r=P!==void 0?P:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(P){r[0]=P}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(P){r[1]=P}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(P){r[2]=P}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(P){r[3]=P}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(P){switch(P){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=P;break;default:throw new Error('Invalid value "'+P+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof wu)return;s="FieldObject"+n.FieldNum++}var P=function(L){return L};return this.scope&&(P=this.scope.internal.getEncryptor(this.objId)),"("+Wo(P(s))+")"},set:function(P){s=P.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(P){s=P}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(P){o=P}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(P){l=P}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(P){u=P}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/mf:d},set:function(P){d=P}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(P){g=P}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof wu||this instanceof Gs))return xh(v,this.objId,this.scope)},set:function(P){P=P.toString(),v=P}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof yn?b:xh(b,this.objId,this.scope)},set:function(P){P=P.toString(),b=this instanceof yn?P:P.substr(0,1)==="("?ba(P.substr(1,P.length-2)):ba(P)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof yn?ba(b.substr(1,b.length-1)):b},set:function(P){P=P.toString(),b=this instanceof yn?"/"+P:P}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(P){this.V=P}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof yn?m:xh(m,this.objId,this.scope)},set:function(P){P=P.toString(),m=this instanceof yn?P:P.substr(0,1)==="("?ba(P.substr(1,P.length-2)):ba(P)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof yn?ba(m.substr(1,m.length-1)):m},set:function(P){P=P.toString(),m=this instanceof yn?"/"+P:P}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,R=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return R},set:function(P){P=!!P,R=P}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(P){N=P}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,1)},set:function(P){P?this.Ff=sn(this.Ff,1):this.Ff=on(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,2)},set:function(P){P?this.Ff=sn(this.Ff,2):this.Ff=on(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,3)},set:function(P){P?this.Ff=sn(this.Ff,3):this.Ff=on(this.Ff,3)}});var F=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(F!==null)return F},set:function(P){if([0,1,2].indexOf(P)===-1)throw new Error('Invalid value "'+P+'" for attribute Q supplied.');F=P}}),Object.defineProperty(this,"textAlign",{get:function(){var P;switch(F){case 0:default:P="left";break;case 1:P="center";break;case 2:P="right"}return P},configurable:!0,enumerable:!0,set:function(P){switch(P){case"right":case 2:F=2;break;case"center":case 1:F=1;break;case"left":case 0:default:F=0}}})};pr(ui,xi);var ko=function(){ui.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return A0(t,this.objId,this.scope)},set:function(e){var r,i;i=[],typeof(r=e)=="string"&&(i=function(s,o,l){l||(l=1);for(var u,d=[];u=o.exec(s);)d.push(u[l]);return d}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,18)},set:function(e){e?this.Ff=sn(this.Ff,18):this.Ff=on(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=sn(this.Ff,19):this.Ff=on(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,20)},set:function(e){e?(this.Ff=sn(this.Ff,20),t.sort()):this.Ff=on(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,22)},set:function(e){e?this.Ff=sn(this.Ff,22):this.Ff=on(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,23)},set:function(e){e?this.Ff=sn(this.Ff,23):this.Ff=on(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,27)},set:function(e){e?this.Ff=sn(this.Ff,27):this.Ff=on(this.Ff,27)}}),this.hasAppearanceStream=!1};pr(ko,ui);var Fo=function(){ko.call(this),this.fontName="helvetica",this.combo=!1};pr(Fo,ko);var Do=function(){Fo.call(this),this.combo=!0};pr(Do,Fo);var Fc=function(){Do.call(this),this.edit=!0};pr(Fc,Do);var yn=function(){ui.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,15)},set:function(e){e?this.Ff=sn(this.Ff,15):this.Ff=on(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,16)},set:function(e){e?this.Ff=sn(this.Ff,16):this.Ff=on(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,17)},set:function(e){e?this.Ff=sn(this.Ff,17):this.Ff=on(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,26)},set:function(e){e?this.Ff=sn(this.Ff,26):this.Ff=on(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Wo(e(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(e){ke(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};pr(yn,ui);var Dc=function(){yn.call(this),this.pushButton=!0};pr(Dc,yn);var Oo=function(){yn.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};pr(Oo,yn);var wu=function(){var n,t;ui.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Wo(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){ke(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(i){e="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Bt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};pr(wu,ui),Oo.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},Oo.prototype.createOption=function(n){var t=new wu;return t.Parent=this,t.optionName=n,this.Kids.push(t),aE.call(this.scope,t),t};var Oc=function(){yn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Bt.CheckBox.createAppearanceStream()};pr(Oc,yn);var Gs=function(){ui.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,13)},set:function(t){t?this.Ff=sn(this.Ff,13):this.Ff=on(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,21)},set:function(t){t?this.Ff=sn(this.Ff,21):this.Ff=on(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,23)},set:function(t){t?this.Ff=sn(this.Ff,23):this.Ff=on(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,24)},set:function(t){t?this.Ff=sn(this.Ff,24):this.Ff=on(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,25)},set:function(t){t?this.Ff=sn(this.Ff,25):this.Ff=on(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,26)},set:function(t){t?this.Ff=sn(this.Ff,26):this.Ff=on(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};pr(Gs,ui);var Mc=function(){Gs.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!rn(this.Ff,14)},set:function(n){n?this.Ff=sn(this.Ff,14):this.Ff=on(this.Ff,14)}}),this.password=!0};pr(Mc,Gs);var Bt={CheckBox:{createAppearanceStream:function(){return{N:{On:Bt.CheckBox.YesNormal},D:{On:Bt.CheckBox.YesPushDown,Off:Bt.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=_i(n);t.scope=n.scope;var e=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=fd(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+ae(Bt.internal.getWidth(n))+" "+ae(Bt.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+ae(s.fontSize)+" Tf "+i),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=_i(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=Bt.internal.getHeight(n),o=Bt.internal.getWidth(n),l=fd(n,n.caption);return i.push("1 g"),i.push("0 0 "+ae(o)+" "+ae(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ae(o-1)+" "+ae(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+e+" "+ae(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(n){var t=_i(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ae(Bt.internal.getWidth(n))+" "+ae(Bt.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:Bt.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=Bt.RadioButton.Circle.YesNormal,t.D[n]=Bt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=_i(n);t.scope=n.scope;var e=[],r=Bt.internal.getWidth(n)<=Bt.internal.getHeight(n)?Bt.internal.getWidth(n)/4:Bt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Bt.internal.Bezier_C,s=Number((r*i).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+ks(Bt.internal.getWidth(n)/2)+" "+ks(Bt.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=_i(n);t.scope=n.scope;var e=[],r=Bt.internal.getWidth(n)<=Bt.internal.getHeight(n)?Bt.internal.getWidth(n)/4:Bt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Bt.internal.Bezier_C).toFixed(5)),o=Number((r*Bt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+ks(Bt.internal.getWidth(n)/2)+" "+ks(Bt.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+ks(Bt.internal.getWidth(n)/2)+" "+ks(Bt.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=_i(n);t.scope=n.scope;var e=[],r=Bt.internal.getWidth(n)<=Bt.internal.getHeight(n)?Bt.internal.getWidth(n)/4:Bt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Bt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+ks(Bt.internal.getWidth(n)/2)+" "+ks(Bt.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:Bt.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=Bt.RadioButton.Cross.YesNormal,t.D[n]=Bt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=_i(n);t.scope=n.scope;var e=[],r=Bt.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+ae(Bt.internal.getWidth(n)-2)+" "+ae(Bt.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(ae(r.x1.x)+" "+ae(r.x1.y)+" m"),e.push(ae(r.x2.x)+" "+ae(r.x2.y)+" l"),e.push(ae(r.x4.x)+" "+ae(r.x4.y)+" m"),e.push(ae(r.x3.x)+" "+ae(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=_i(n);t.scope=n.scope;var e=Bt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+ae(Bt.internal.getWidth(n))+" "+ae(Bt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ae(Bt.internal.getWidth(n)-2)+" "+ae(Bt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(ae(e.x1.x)+" "+ae(e.x1.y)+" m"),r.push(ae(e.x2.x)+" "+ae(e.x2.y)+" l"),r.push(ae(e.x4.x)+" "+ae(e.x4.y)+" m"),r.push(ae(e.x3.x)+" "+ae(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=_i(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ae(Bt.internal.getWidth(n))+" "+ae(Bt.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};Bt.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=Bt.internal.getWidth(n),e=Bt.internal.getHeight(n),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},Bt.internal.getWidth=function(n){var t=0;return ke(n)==="object"&&(t=Ig(n.Rect[2])),t},Bt.internal.getHeight=function(n){var t=0;return ke(n)==="object"&&(t=Ig(n.Rect[3])),t};var aE=Ze.addField=function(n){if(oE(this,n),!(n instanceof ui))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Ze.AcroFormChoiceField=ko,Ze.AcroFormListBox=Fo,Ze.AcroFormComboBox=Do,Ze.AcroFormEditBox=Fc,Ze.AcroFormButton=yn,Ze.AcroFormPushButton=Dc,Ze.AcroFormRadioButton=Oo,Ze.AcroFormCheckBox=Oc,Ze.AcroFormTextField=Gs,Ze.AcroFormPasswordField=Mc,Ze.AcroFormAppearance=Bt,Ze.AcroForm={ChoiceField:ko,ListBox:Fo,ComboBox:Do,EditBox:Fc,Button:yn,PushButton:Dc,RadioButton:Oo,CheckBox:Oc,TextField:Gs,PasswordField:Mc,Appearance:Bt},Yt.AcroForm={ChoiceField:ko,ListBox:Fo,ComboBox:Do,EditBox:Fc,Button:yn,PushButton:Dc,RadioButton:Oo,CheckBox:Oc,TextField:Gs,PasswordField:Mc,Appearance:Bt};var cE=Yt.AcroForm;function S0(n){return n.reduce(function(t,e,r){return t[e]=r,t},{})}(function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(A,E){var T,W,ct,Q,X,et=t;if((E=E||t)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(J(A))for(X in e)for(ct=e[X],T=0;T<ct.length;T+=1){for(Q=!0,W=0;W<ct[T].length;W+=1)if(ct[T][W]!==void 0&&ct[T][W]!==A[W]){Q=!1;break}if(Q===!0){et=X;break}}else for(X in e)for(ct=e[X],T=0;T<ct.length;T+=1){for(Q=!0,W=0;W<ct[T].length;W+=1)if(ct[T][W]!==void 0&&ct[T][W]!==A.charCodeAt(W)){Q=!1;break}if(Q===!0){et=X;break}}return et===t&&E!==t&&(et=E),et},i=function A(E){for(var T=this.internal.write,W=this.internal.putStream,ct=(0,this.internal.getFilters)();ct.indexOf("FlateEncode")!==-1;)ct.splice(ct.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:E.width}),Q.push({key:"Height",value:E.height}),E.colorSpace===F.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===F.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)){for(var X="",et=0,$=E.transparency.length;et<$;et++)X+=E.transparency[et]+" "+E.transparency[et]+" ";Q.push({key:"Mask",value:"["+X+"]"})}E.sMask!==void 0&&Q.push({key:"SMask",value:E.objectId+1+" 0 R"});var at=E.filter!==void 0?["/"+E.filter]:void 0;if(W({data:E.data,additionalKeyValues:Q,alreadyAppliedFilters:at,objectId:E.objectId}),T("endobj"),"sMask"in E&&E.sMask!==void 0){var mt="/Predictor "+E.predictor+" /Colors 1 /BitsPerComponent "+E.bitsPerComponent+" /Columns "+E.width,k={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:E.bitsPerComponent,decodeParameters:mt,data:E.sMask};"filter"in E&&(k.filter=E.filter),A.call(this,k)}if(E.colorSpace===F.INDEXED){var H=this.internal.newObject();W({data:I(new Uint8Array(E.palette)),objectId:H}),T("endobj")}},s=function(){var A=this.internal.collections.addImage_images;for(var E in A)i.call(this,A[E])},o=function(){var A,E=this.internal.collections.addImage_images,T=this.internal.write;for(var W in E)T("/I"+(A=E[W]).index,A.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var A=this.internal.collections.addImage_images;return l.call(this),A},d=function(){return Object.keys(this.internal.collections.addImage_images).length},g=function(A){return typeof n["process"+A.toUpperCase()]=="function"},v=function(A){return ke(A)==="object"&&A.nodeType===1},b=function(A,E){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var T=""+A.getAttribute("src");if(T.indexOf("data:image/")===0)return kc(unescape(T).split("base64,").pop());var W=n.loadFile(T,!0);if(W!==void 0)return W}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var ct;switch(E){case"PNG":ct="image/png";break;case"WEBP":ct="image/webp";break;case"JPEG":case"JPG":default:ct="image/jpeg"}return kc(A.toDataURL(ct,1).split("base64,").pop())}},m=function(A){var E=this.internal.collections.addImage_images;if(E){for(var T in E)if(A===E[T].alias)return E[T]}},N=function(A,E,T){return A||E||(A=-96,E=-96),A<0&&(A=-1*T.width*72/A/this.internal.scaleFactor),E<0&&(E=-1*T.height*72/E/this.internal.scaleFactor),A===0&&(A=E*T.width/T.height),E===0&&(E=A*T.height/T.width),[A,E]},R=function(A,E,T,W,ct,Q){var X=N.call(this,T,W,ct),et=this.internal.getCoordinateString,$=this.internal.getVerticalCoordinateString,at=u.call(this);if(T=X[0],W=X[1],at[ct.index]=ct,Q){Q*=Math.PI/180;var mt=Math.cos(Q),k=Math.sin(Q),H=function(Z){return Z.toFixed(4)},G=[H(mt),H(k),H(-1*k),H(mt),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,et(A),$(E+W),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([et(T),"0","0",et(W),"0","0","cm"].join(" "))):this.internal.write([et(T),"0","0",et(W),et(A),$(E+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ct.index+" Do"),this.internal.write("Q")},F=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var P=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},L=n.__addimage__.sHashCode=function(A){var E,T,W=0;if(typeof A=="string")for(T=A.length,E=0;E<T;E++)W=(W<<5)-W+A.charCodeAt(E),W|=0;else if(J(A))for(T=A.byteLength/2,E=0;E<T;E++)W=(W<<5)-W+A[E],W|=0;return W},O=n.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var E=!0;return A.length===0&&(E=!1),A.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(E=!1),E},q=n.__addimage__.extractImageFromDataUrl=function(A){var E=(A=A||"").split("base64,"),T=null;if(E.length===2){var W=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(E[0]);Array.isArray(W)&&(T={mimeType:W[1],charset:W[2],data:E[1]})}return T},Y=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(A){return Y()&&A instanceof ArrayBuffer};var J=n.__addimage__.isArrayBufferView=function(A){return Y()&&typeof Uint32Array<"u"&&(A instanceof Int8Array||A instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array)},_=n.__addimage__.binaryStringToUint8Array=function(A){for(var E=A.length,T=new Uint8Array(E),W=0;W<E;W++)T[W]=A.charCodeAt(W);return T},I=n.__addimage__.arrayBufferToBinaryString=function(A){for(var E="",T=J(A)?A:new Uint8Array(A),W=0;W<T.length;W+=8192)E+=String.fromCharCode.apply(null,T.subarray(W,W+8192));return E};n.addImage=function(){var A,E,T,W,ct,Q,X,et,$;if(typeof arguments[1]=="number"?(E=t,T=arguments[1],W=arguments[2],ct=arguments[3],Q=arguments[4],X=arguments[5],et=arguments[6],$=arguments[7]):(E=arguments[1],T=arguments[2],W=arguments[3],ct=arguments[4],Q=arguments[5],X=arguments[6],et=arguments[7],$=arguments[8]),ke(A=arguments[0])==="object"&&!v(A)&&"imageData"in A){var at=A;A=at.imageData,E=at.format||E||t,T=at.x||T||0,W=at.y||W||0,ct=at.w||at.width||ct,Q=at.h||at.height||Q,X=at.alias||X,et=at.compression||et,$=at.rotation||at.angle||$}var mt=this.internal.getFilters();if(et===void 0&&mt.indexOf("FlateEncode")!==-1&&(et="SLOW"),isNaN(T)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var k=C.call(this,A,E,X,et);return R.call(this,T,W,ct,Q,k,$),this};var C=function(A,E,T,W){var ct,Q,X;if(typeof A=="string"&&r(A)===t){A=unescape(A);var et=M(A,!1);(et!==""||(et=n.loadFile(A,!0))!==void 0)&&(A=et)}if(v(A)&&(A=b(A,E)),E=r(A,E),!g(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((X=T)==null||X.length===0)&&(T=function($){return typeof $=="string"||J($)?L($):J($.data)?L($.data):null}(A)),(ct=m.call(this,T))||(Y()&&(A instanceof Uint8Array||E==="RGBA"||(Q=A,A=_(A))),ct=this["process"+E.toUpperCase()](A,d.call(this),T,function($){return $&&typeof $=="string"&&($=$.toUpperCase()),$ in n.image_compression?$:P.NONE}(W),Q)),!ct)throw new Error("An unknown error occurred whilst processing the image.");return ct},M=n.__addimage__.convertBase64ToBinaryString=function(A,E){var T;E=typeof E!="boolean"||E;var W,ct="";if(typeof A=="string"){W=(T=q(A))!==null?T.data:A;try{ct=kc(W)}catch(Q){if(E)throw O(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ct};n.getImageProperties=function(A){var E,T,W="";if(v(A)&&(A=b(A)),typeof A=="string"&&r(A)===t&&((W=M(A,!1))===""&&(W=n.loadFile(A)||""),A=W),T=r(A),!g(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(!Y()||A instanceof Uint8Array||(A=_(A)),!(E=this["process"+T.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=T,E}})(Yt.API),function(n){var t=function(e){if(e!==void 0&&e!="")return!0};Yt.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var r,i,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(e.objId),d=e.pageContext.annotations,g=!1,v=0;v<d.length&&!g;v++)switch((r=d[v]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var b=0;b<d.length;b++){r=d[b];var m=this.internal.pdfEscape,N=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var R=this.internal.newAdditionalObject(),F=this.internal.newAdditionalObject(),P=this.internal.getEncryptor(R.objId),L=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+m(P(r.contents))+")",s+=" /Popup "+F.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+m(P(L))+") >>",R.content=s;var O=R.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+O,r.open&&(s+=" /Open true"),s+=" >>",F.content=s,this.internal.write(R.objId,"0 R",F.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var q=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(N(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+q+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var Y=this.annotations._nameMap[r.options.name];r.options.pageNumber=Y.page,r.options.top=Y.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var J=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+J+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},n.link=function(e,r,i,s,o){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(e),y:d(r),w:u(e+i),h:d(r+s)},options:o,type:"link"})},n.textWithLink=function(e,r,i,s){var o,l,u=this.getTextWidth(e),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var g=this.splitTextToSize(e,l).length;o=Math.ceil(d*g)}else l=u,o=d;return this.text(e,r,i,s),i+=.2*d,s.align==="center"&&(r-=u/2),s.align==="right"&&(r-=u),this.link(r,i-d,l,o,s),u},n.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}}(Yt.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(R){return t[R.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(R){return typeof R=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(R)},l=n.__arabicParser__.isArabicEndLetter=function(R){return o(R)&&s(R)&&t[R.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(R){return o(R)&&i.indexOf(R.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(R){return o(R)&&s(R)&&t[R.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(R){return o(R)&&s(R)&&t[R.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(R){return o(R)&&s(R)&&t[R.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(R){return o(R)&&s(R)&&t[R.charCodeAt(0)].length==4},v=n.__arabicParser__.resolveLigatures=function(R){var F=0,P=e,L="",O=0;for(F=0;F<R.length;F+=1)P[R.charCodeAt(F)]!==void 0?(O++,typeof(P=P[R.charCodeAt(F)])=="number"&&(L+=String.fromCharCode(P),P=e,O=0),F===R.length-1&&(P=e,L+=R.charAt(F-(O-1)),F-=O-1,O=0)):(P=e,L+=R.charAt(F-O),F-=O,O=0);return L};n.__arabicParser__.isArabicDiacritic=function(R){return R!==void 0&&r[R.charCodeAt(0)]!==void 0};var b=n.__arabicParser__.getCorrectForm=function(R,F,P){return o(R)?s(R)===!1?-1:!d(R)||!o(F)&&!o(P)||!o(P)&&l(F)||l(R)&&!o(F)||l(R)&&u(F)||l(R)&&l(F)?0:g(R)&&o(F)&&!l(F)&&o(P)&&d(P)?3:l(R)||!o(P)?1:2:-1},m=function(R){var F=0,P=0,L=0,O="",q="",Y="",J=(R=R||"").split("\\s+"),_=[];for(F=0;F<J.length;F+=1){for(_.push(""),P=0;P<J[F].length;P+=1)O=J[F][P],q=J[F][P-1],Y=J[F][P+1],o(O)?(L=b(O,q,Y),_[F]+=L!==-1?String.fromCharCode(t[O.charCodeAt(0)][L]):O):_[F]+=O;_[F]=v(_[F])}return _.join(" ")},N=n.__arabicParser__.processArabic=n.processArabic=function(){var R,F=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,P=[];if(Array.isArray(F)){var L=0;for(P=[],L=0;L<F.length;L+=1)Array.isArray(F[L])?P.push([m(F[L][0]),F[L][1],F[L][2]]):P.push([m(F[L])]);R=P}else R=m(F);return typeof arguments[0]=="string"?R:(arguments[0].text=R,arguments[0])};n.events.push(["preProcessText",N])}(Yt.API),Yt.API.autoPrint=function(n){var t;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(l){e=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var i;if((e=e||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Yt.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(R){u=R}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(R){d=R}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(R){g=R}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(R){v=R}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(R){b=R}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(R){m=R}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(R){N=R}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,d){r.call(this);var g=(d=d||{}).fontSize||this.getFontSize(),v=d.font||this.getFont(),b=d.scaleFactor||this.internal.scaleFactor,m=0,N=0,R=0,F=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var P=d.maxWidth;P>0?typeof u=="string"?u=this.splitTextToSize(u,P):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(O,q){return O.concat(F.splitTextToSize(q,P))},[])):u=Array.isArray(u)?u:[u];for(var L=0;L<u.length;L++)m<(R=this.getStringUnitWidth(u[L],{font:v})*g)&&(m=R);return m!==0&&(N=u.length),{w:m/=b,h:Math.max((N*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/b,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,v=this.internal.__cell__.margins||t,b=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=v.top,m&&b&&(this.printHeaderRow(u.lineNumber,!0),u.y+=b[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,e===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-g,u.y+g,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+g,{align:"center",baseline:"top",maxWidth:u.width-g-g}):this.text(u.text,u.x+g,u.y+g,{align:"left",baseline:"top",maxWidth:u.width-g-g})),this.internal.__cell__.lastCell=u,this};n.table=function(u,d,g,v,b){if(r.call(this),!g)throw new Error("No data for PDF table.");var m,N,R,F,P=[],L=[],O=[],q={},Y={},J=[],_=[],I=(b=b||{}).autoSize||!1,C=b.printHeaders!==!1,M=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,A=b.margins||Object.assign({width:this.getPageWidth()},t),E=typeof b.padding=="number"?b.padding:3,T=b.headerBackgroundColor||"#c8c8c8",W=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=T,this.internal.__cell__.headerTextColor=W,this.setFontSize(M),v==null)L=P=Object.keys(g[0]),O=P.map(function(){return"left"});else if(Array.isArray(v)&&ke(v[0])==="object")for(P=v.map(function(at){return at.name}),L=v.map(function(at){return at.prompt||at.name||""}),O=v.map(function(at){return at.align||"left"}),m=0;m<v.length;m+=1)Y[v[m].name]=v[m].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(L=P=v,O=P.map(function(){return"left"}));if(I||Array.isArray(v)&&typeof v[0]=="string")for(m=0;m<P.length;m+=1){for(q[F=P[m]]=g.map(function(at){return at[F]}),this.setFont(void 0,"bold"),J.push(this.getTextDimensions(L[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=q[F],this.setFont(void 0,"normal"),R=0;R<N.length;R+=1)J.push(this.getTextDimensions(N[R],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Y[F]=Math.max.apply(null,J)+E+E,J=[]}if(C){var ct={};for(m=0;m<P.length;m+=1)ct[P[m]]={},ct[P[m]].text=L[m],ct[P[m]].align=O[m];var Q=l.call(this,ct,Y);_=P.map(function(at){return new s(u,d,Y[at],Q,ct[at].text,void 0,ct[at].align)}),this.setTableHeaderRow(_),this.printHeaderRow(1,!1)}var X=v.reduce(function(at,mt){return at[mt.name]=mt.align,at},{});for(m=0;m<g.length;m+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:m,data:g[m]},this);var et=l.call(this,g[m],Y);for(R=0;R<P.length;R+=1){var $=g[m][P[R]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:m,col:R,data:$},this),o.call(this,new s(u,d,Y[P[R]],et,$,m+2,X[P[R]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var l=function(u,d){var g=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(u).map(function(m){var N=u[m];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[m]-g-g)},this).map(function(m){return this.getLineHeightFactor()*m.length*v/b+g+g},this).reduce(function(m,N){return Math.max(m,N)},0)};n.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){g=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(g.y=this.internal.__cell__.margins.top||0,b.push(g)),g.lineNumber=u;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,g),this.setTextColor(N)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),e=!1}}(Yt.API);var _0={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},T0=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],pd=S0(T0),x0=[100,200,300,400,500,600,700,800,900],lE=S0(x0);function gd(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=function(s){return _0[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(s){return typeof pd[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:t,style:e,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:t,style:[i,e,r].join(" ")}}}function Sg(n,t,e,r){var i;for(i=e;i>=0&&i<t.length;i+=r)if(n[t[i]])return n[t[i]];for(i=e;i>=0&&i<t.length;i-=r)if(n[t[i]])return n[t[i]]}var uE={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},_g={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Tg(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function hE(n,t,e){for(var r=(e=e||{}).defaultFontFamily||"times",i=Object.assign({},uE,e.genericFontFamilies||{}),s=null,o=null,l=0;l<t.length;++l)if(i[(s=gd(t[l])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+Tg(s)+"' and default family '"+r+"'.");if(o=function(u,d){if(d[u])return d[u];var g=pd[u],v=g<=pd.normal?-1:1,b=Sg(d,T0,g,v);if(!b)throw new Error("Could not find a matching font-stretch value for "+u);return b}(s.stretch,o),o=function(u,d){if(d[u])return d[u];for(var g=_0[u],v=0;v<g.length;++v)if(d[g[v]])return d[g[v]];throw new Error("Could not find a matching font-style for "+u)}(s.style,o),!(o=function(u,d){if(d[u])return d[u];if(u===400&&d[500])return d[500];if(u===500&&d[400])return d[400];var g=lE[u],v=Sg(d,x0,g,u<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+u);return v}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Tg(s)+"'.");return o}function xg(n){return n.trimLeft()}function dE(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function fE(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var ql,Pg,Ng,Ph=["times"];(function(n){var t,e,r,i,s,o,l,u,d,g=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new u,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new o,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new o,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new v(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,d=new g}]);var v=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=k;Object.defineProperty(this,"pdf",{get:function(){return H}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(vt){G=!!vt}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(vt){Z=!!vt}});var nt=0;Object.defineProperty(this,"posX",{get:function(){return nt},set:function(vt){isNaN(vt)||(nt=vt)}});var ut=0;Object.defineProperty(this,"posY",{get:function(){return ut},set:function(vt){isNaN(vt)||(ut=vt)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(vt){var rt;typeof vt=="number"?rt=[vt,vt,vt,vt]:((rt=new Array(4))[0]=vt[0],rt[1]=vt.length>=2?vt[1]:rt[0],rt[2]=vt.length>=3?vt[2]:rt[0],rt[3]=vt.length>=4?vt[3]:rt[1]),d.margin=rt}});var ht=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ht},set:function(vt){ht=vt}});var pt=0;Object.defineProperty(this,"lastBreak",{get:function(){return pt},set:function(vt){pt=vt}});var Tt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Tt},set:function(vt){Tt=vt}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(vt){vt instanceof g&&(d=vt)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(vt){d.path=vt}});var _t=[];Object.defineProperty(this,"ctxStack",{get:function(){return _t},set:function(vt){_t=vt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(vt){var rt;rt=b(vt),this.ctx.fillStyle=rt.style,this.ctx.isFillTransparent=rt.a===0,this.ctx.fillOpacity=rt.a,this.pdf.setFillColor(rt.r,rt.g,rt.b,{a:rt.a}),this.pdf.setTextColor(rt.r,rt.g,rt.b,{a:rt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(vt){var rt=b(vt);this.ctx.strokeStyle=rt.style,this.ctx.isStrokeTransparent=rt.a===0,this.ctx.strokeOpacity=rt.a,rt.a===0?this.pdf.setDrawColor(255,255,255):(rt.a,this.pdf.setDrawColor(rt.r,rt.g,rt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(vt){["butt","round","square"].indexOf(vt)!==-1&&(this.ctx.lineCap=vt,this.pdf.setLineCap(vt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(vt){isNaN(vt)||(this.ctx.lineWidth=vt,this.pdf.setLineWidth(vt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(vt){["bevel","round","miter"].indexOf(vt)!==-1&&(this.ctx.lineJoin=vt,this.pdf.setLineJoin(vt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(vt){isNaN(vt)||(this.ctx.miterLimit=vt,this.pdf.setMiterLimit(vt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(vt){this.ctx.textBaseline=vt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(vt){["right","end","center","left","start"].indexOf(vt)!==-1&&(this.ctx.textAlign=vt)}});var Rt=null;function kt(vt,rt){if(Rt===null){var ne=function(qt){var xt=[];return Object.keys(qt).forEach(function(Pt){qt[Pt].forEach(function(Ct){var Lt=null;switch(Ct){case"bold":Lt={family:Pt,weight:"bold"};break;case"italic":Lt={family:Pt,style:"italic"};break;case"bolditalic":Lt={family:Pt,weight:"bold",style:"italic"};break;case"":case"normal":Lt={family:Pt}}Lt!==null&&(Lt.ref={name:Pt,style:Ct},xt.push(Lt))})}),xt}(vt.getFontList());Rt=function(qt){for(var xt={},Pt=0;Pt<qt.length;++Pt){var Ct=gd(qt[Pt]),Lt=Ct.family,zt=Ct.stretch,re=Ct.style,le=Ct.weight;xt[Lt]=xt[Lt]||{},xt[Lt][zt]=xt[Lt][zt]||{},xt[Lt][zt][re]=xt[Lt][zt][re]||{},xt[Lt][zt][re][le]=Ct}return xt}(ne.concat(rt))}return Rt}var Gt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Gt},set:function(vt){Rt=null,Gt=vt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(vt){var rt;if(this.ctx.font=vt,(rt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(vt))!==null){var ne=rt[1],qt=(rt[2],rt[3]),xt=rt[4],Pt=(rt[5],rt[6]),Ct=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xt)[2];xt=Math.floor(Ct==="px"?parseFloat(xt)*this.pdf.internal.scaleFactor:Ct==="em"?parseFloat(xt)*this.pdf.getFontSize():parseFloat(xt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xt);var Lt=function(Zt){var he,Ot,dn=[],be=Zt.trim();if(be==="")return Ph;if(be in _g)return[_g[be]];for(;be!=="";){switch(Ot=null,he=(be=xg(be)).charAt(0)){case'"':case"'":Ot=dE(be.substring(1),he);break;default:Ot=fE(be)}if(Ot===null||(dn.push(Ot[0]),(be=xg(Ot[1]))!==""&&be.charAt(0)!==","))return Ph;be=be.replace(/^,/,"")}return dn}(Pt);if(this.fontFaces){var zt=hE(kt(this.pdf,this.fontFaces),Lt.map(function(Zt){return{family:Zt,stretch:"normal",weight:qt,style:ne}}));this.pdf.setFont(zt.ref.name,zt.ref.style)}else{var re="";(qt==="bold"||parseInt(qt,10)>=700||ne==="bold")&&(re="bold"),ne==="italic"&&(re+="italic"),re.length===0&&(re="normal");for(var le="",oe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pe=0;pe<Lt.length;pe++){if(this.pdf.internal.getFont(Lt[pe],re,{noFallback:!0,disableWarning:!0})!==void 0){le=Lt[pe];break}if(re==="bolditalic"&&this.pdf.internal.getFont(Lt[pe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)le=Lt[pe],re="bold";else if(this.pdf.internal.getFont(Lt[pe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){le=Lt[pe],re="normal";break}}if(le===""){for(var _e=0;_e<Lt.length;_e++)if(oe[Lt[_e]]){le=oe[Lt[_e]];break}}le=le===""?"Times":le,this.pdf.setFont(le,re)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(vt){this.ctx.globalCompositeOperation=vt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(vt){this.ctx.globalAlpha=vt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(vt){this.ctx.lineDashOffset=vt,mt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(vt){this.ctx.lineDash=vt,mt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(vt){this.ctx.ignoreClearRect=!!vt}})};v.prototype.setLineDash=function(k){this.lineDash=k},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){q.call(this,"fill",!1)},v.prototype.stroke=function(){q.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(k,H){if(isNaN(k)||isNaN(H))throw Me.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(k,H));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(k,H)},v.prototype.closePath=function(){var k=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&ke(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){k=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(k.x,k.y)},v.prototype.lineTo=function(k,H){if(isNaN(k)||isNaN(H))throw Me.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(k,H));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),q.call(this,null,!0)},v.prototype.quadraticCurveTo=function(k,H,G,Z){if(isNaN(G)||isNaN(Z)||isNaN(k)||isNaN(H))throw Me.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var nt=this.ctx.transform.applyToPoint(new o(G,Z)),ut=this.ctx.transform.applyToPoint(new o(k,H));this.path.push({type:"qct",x1:ut.x,y1:ut.y,x:nt.x,y:nt.y}),this.ctx.lastPoint=new o(nt.x,nt.y)},v.prototype.bezierCurveTo=function(k,H,G,Z,nt,ut){if(isNaN(nt)||isNaN(ut)||isNaN(k)||isNaN(H)||isNaN(G)||isNaN(Z))throw Me.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ht=this.ctx.transform.applyToPoint(new o(nt,ut)),pt=this.ctx.transform.applyToPoint(new o(k,H)),Tt=this.ctx.transform.applyToPoint(new o(G,Z));this.path.push({type:"bct",x1:pt.x,y1:pt.y,x2:Tt.x,y2:Tt.y,x:ht.x,y:ht.y}),this.ctx.lastPoint=new o(ht.x,ht.y)},v.prototype.arc=function(k,H,G,Z,nt,ut){if(isNaN(k)||isNaN(H)||isNaN(G)||isNaN(Z)||isNaN(nt))throw Me.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ut=!!ut,!this.ctx.transform.isIdentity){var ht=this.ctx.transform.applyToPoint(new o(k,H));k=ht.x,H=ht.y;var pt=this.ctx.transform.applyToPoint(new o(0,G)),Tt=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(pt.x-Tt.x,2)+Math.pow(pt.y-Tt.y,2))}Math.abs(nt-Z)>=2*Math.PI&&(Z=0,nt=2*Math.PI),this.path.push({type:"arc",x:k,y:H,radius:G,startAngle:Z,endAngle:nt,counterclockwise:ut})},v.prototype.arcTo=function(k,H,G,Z,nt){throw new Error("arcTo not implemented.")},v.prototype.rect=function(k,H,G,Z){if(isNaN(k)||isNaN(H)||isNaN(G)||isNaN(Z))throw Me.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,H),this.lineTo(k+G,H),this.lineTo(k+G,H+Z),this.lineTo(k,H+Z),this.lineTo(k,H),this.lineTo(k+G,H),this.lineTo(k,H)},v.prototype.fillRect=function(k,H,G,Z){if(isNaN(k)||isNaN(H)||isNaN(G)||isNaN(Z))throw Me.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var nt={};this.lineCap!=="butt"&&(nt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(nt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,H,G,Z),this.fill(),nt.hasOwnProperty("lineCap")&&(this.lineCap=nt.lineCap),nt.hasOwnProperty("lineJoin")&&(this.lineJoin=nt.lineJoin)}},v.prototype.strokeRect=function(k,H,G,Z){if(isNaN(k)||isNaN(H)||isNaN(G)||isNaN(Z))throw Me.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(k,H,G,Z),this.stroke())},v.prototype.clearRect=function(k,H,G,Z){if(isNaN(k)||isNaN(H)||isNaN(G)||isNaN(Z))throw Me.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,H,G,Z))},v.prototype.save=function(k){k=typeof k!="boolean"||k;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},v.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(H),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(k){var H,G,Z,nt;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))H=0,G=0,Z=0,nt=0;else{var ut=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(ut!==null)H=parseInt(ut[1]),G=parseInt(ut[2]),Z=parseInt(ut[3]),nt=1;else if((ut=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)H=parseInt(ut[1]),G=parseInt(ut[2]),Z=parseInt(ut[3]),nt=parseFloat(ut[4]);else{if(nt=1,typeof k=="string"&&k.charAt(0)!=="#"){var ht=new v0(k);k=ht.ok?ht.toHex():"#000000"}k.length===4?(H=k.substring(1,2),H+=H,G=k.substring(2,3),G+=G,Z=k.substring(3,4),Z+=Z):(H=k.substring(1,3),G=k.substring(3,5),Z=k.substring(5,7)),H=parseInt(H,16),G=parseInt(G,16),Z=parseInt(Z,16)}}return{r:H,g:G,b:Z,a:nt,style:k}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(k,H,G,Z){if(isNaN(H)||isNaN(G)||typeof k!="string")throw Me.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!m.call(this)){var nt=et(this.ctx.transform.rotation),ut=this.ctx.transform.scaleX;E.call(this,{text:k,x:H,y:G,scale:ut,angle:nt,align:this.textAlign,maxWidth:Z})}},v.prototype.strokeText=function(k,H,G,Z){if(isNaN(H)||isNaN(G)||typeof k!="string")throw Me.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){Z=isNaN(Z)?void 0:Z;var nt=et(this.ctx.transform.rotation),ut=this.ctx.transform.scaleX;E.call(this,{text:k,x:H,y:G,scale:ut,renderingMode:"stroke",angle:nt,align:this.textAlign,maxWidth:Z})}},v.prototype.measureText=function(k){if(typeof k!="string")throw Me.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,G=this.pdf.internal.scaleFactor,Z=H.internal.getFontSize(),nt=H.getStringUnitWidth(k)*Z/H.internal.scaleFactor,ut=function(ht){var pt=(ht=ht||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pt}}),this};return new ut({width:nt*=Math.round(96*G/72*1e4)/1e4})},v.prototype.scale=function(k,H){if(isNaN(k)||isNaN(H))throw Me.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new u(k,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},v.prototype.rotate=function(k){if(isNaN(k))throw Me.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new u(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},v.prototype.translate=function(k,H){if(isNaN(k)||isNaN(H))throw Me.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new u(1,0,0,1,k,H);this.ctx.transform=this.ctx.transform.multiply(G)},v.prototype.transform=function(k,H,G,Z,nt,ut){if(isNaN(k)||isNaN(H)||isNaN(G)||isNaN(Z)||isNaN(nt)||isNaN(ut))throw Me.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ht=new u(k,H,G,Z,nt,ut);this.ctx.transform=this.ctx.transform.multiply(ht)},v.prototype.setTransform=function(k,H,G,Z,nt,ut){k=isNaN(k)?1:k,H=isNaN(H)?0:H,G=isNaN(G)?0:G,Z=isNaN(Z)?1:Z,nt=isNaN(nt)?0:nt,ut=isNaN(ut)?0:ut,this.ctx.transform=new u(k,H,G,Z,nt,ut)};var R=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(k,H,G,Z,nt,ut,ht,pt,Tt){var _t=this.pdf.getImageProperties(k),Rt=1,kt=1,Gt=1,vt=1;Z!==void 0&&pt!==void 0&&(Gt=pt/Z,vt=Tt/nt,Rt=_t.width/Z*pt/Z,kt=_t.height/nt*Tt/nt),ut===void 0&&(ut=H,ht=G,H=0,G=0),Z!==void 0&&pt===void 0&&(pt=Z,Tt=nt),Z===void 0&&pt===void 0&&(pt=_t.width,Tt=_t.height);for(var rt,ne=this.ctx.transform.decompose(),qt=et(ne.rotate.shx),xt=new u,Pt=(xt=(xt=(xt=xt.multiply(ne.translate)).multiply(ne.skew)).multiply(ne.scale)).applyToRectangle(new l(ut-H*Gt,ht-G*vt,Z*Rt,nt*kt)),Ct=F.call(this,Pt),Lt=[],zt=0;zt<Ct.length;zt+=1)Lt.indexOf(Ct[zt])===-1&&Lt.push(Ct[zt]);if(O(Lt),this.autoPaging)for(var re=Lt[0],le=Lt[Lt.length-1],oe=re;oe<le+1;oe++){this.pdf.setPage(oe);var pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_e=oe===1?this.posY+this.margin[0]:this.margin[0],Zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],he=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ot=oe===1?0:Zt+(oe-2)*he;if(this.ctx.clip_path.length!==0){var dn=this.path;rt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(rt,this.posX+this.margin[3],-Ot+_e+this.ctx.prevPageLastElemOffset),Y.call(this,"fill",!0),this.path=dn}var be=JSON.parse(JSON.stringify(Pt));be=L([be],this.posX+this.margin[3],-Ot+_e+this.ctx.prevPageLastElemOffset)[0];var Pn=(oe>re||oe<le)&&R.call(this);Pn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pe,he,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",be.x,be.y,be.w,be.h,null,null,qt),Pn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",Pt.x,Pt.y,Pt.w,Pt.h,null,null,qt)};var F=function(k,H,G){var Z=[];H=H||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var nt=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":Z.push(Math.floor((k.y+nt)/G)+1);break;case"arc":Z.push(Math.floor((k.y+nt-k.radius)/G)+1),Z.push(Math.floor((k.y+nt+k.radius)/G)+1);break;case"qct":var ut=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);Z.push(Math.floor((ut.y+nt)/G)+1),Z.push(Math.floor((ut.y+ut.h+nt)/G)+1);break;case"bct":var ht=at(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);Z.push(Math.floor((ht.y+nt)/G)+1),Z.push(Math.floor((ht.y+ht.h+nt)/G)+1);break;case"rect":Z.push(Math.floor((k.y+nt)/G)+1),Z.push(Math.floor((k.y+k.h+nt)/G)+1)}for(var pt=0;pt<Z.length;pt+=1)for(;this.pdf.internal.getNumberOfPages()<Z[pt];)P.call(this);return Z},P=function(){var k=this.fillStyle,H=this.strokeStyle,G=this.font,Z=this.lineCap,nt=this.lineWidth,ut=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=H,this.font=G,this.lineCap=Z,this.lineWidth=nt,this.lineJoin=ut},L=function(k,H,G){for(var Z=0;Z<k.length;Z++)switch(k[Z].type){case"bct":k[Z].x2+=H,k[Z].y2+=G;case"qct":k[Z].x1+=H,k[Z].y1+=G;case"mt":case"lt":case"arc":default:k[Z].x+=H,k[Z].y+=G}return k},O=function(k){return k.sort(function(H,G){return H-G})},q=function(k,H){for(var G,Z,nt=this.fillStyle,ut=this.strokeStyle,ht=this.lineCap,pt=this.lineWidth,Tt=Math.abs(pt*this.ctx.transform.scaleX),_t=this.lineJoin,Rt=JSON.parse(JSON.stringify(this.path)),kt=JSON.parse(JSON.stringify(this.path)),Gt=[],vt=0;vt<kt.length;vt++)if(kt[vt].x!==void 0)for(var rt=F.call(this,kt[vt]),ne=0;ne<rt.length;ne+=1)Gt.indexOf(rt[ne])===-1&&Gt.push(rt[ne]);for(var qt=0;qt<Gt.length;qt++)for(;this.pdf.internal.getNumberOfPages()<Gt[qt];)P.call(this);if(O(Gt),this.autoPaging)for(var xt=Gt[0],Pt=Gt[Gt.length-1],Ct=xt;Ct<Pt+1;Ct++){this.pdf.setPage(Ct),this.fillStyle=nt,this.strokeStyle=ut,this.lineCap=ht,this.lineWidth=Tt,this.lineJoin=_t;var Lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],zt=Ct===1?this.posY+this.margin[0]:this.margin[0],re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],oe=Ct===1?0:re+(Ct-2)*le;if(this.ctx.clip_path.length!==0){var pe=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(G,this.posX+this.margin[3],-oe+zt+this.ctx.prevPageLastElemOffset),Y.call(this,k,!0),this.path=pe}if(Z=JSON.parse(JSON.stringify(Rt)),this.path=L(Z,this.posX+this.margin[3],-oe+zt+this.ctx.prevPageLastElemOffset),H===!1||Ct===0){var _e=(Ct>xt||Ct<Pt)&&R.call(this);_e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Lt,le,null).clip().discardPath()),Y.call(this,k,H),_e&&this.pdf.restoreGraphicsState()}this.lineWidth=pt}else this.lineWidth=Tt,Y.call(this,k,H),this.lineWidth=pt;this.path=Rt},Y=function(k,H){if((k!=="stroke"||H||!N.call(this))&&(k==="stroke"||H||!m.call(this))){for(var G,Z,nt=[],ut=this.path,ht=0;ht<ut.length;ht++){var pt=ut[ht];switch(pt.type){case"begin":nt.push({begin:!0});break;case"close":nt.push({close:!0});break;case"mt":nt.push({start:pt,deltas:[],abs:[]});break;case"lt":var Tt=nt.length;if(ut[ht-1]&&!isNaN(ut[ht-1].x)&&(G=[pt.x-ut[ht-1].x,pt.y-ut[ht-1].y],Tt>0)){for(;Tt>=0;Tt--)if(nt[Tt-1].close!==!0&&nt[Tt-1].begin!==!0){nt[Tt-1].deltas.push(G),nt[Tt-1].abs.push(pt);break}}break;case"bct":G=[pt.x1-ut[ht-1].x,pt.y1-ut[ht-1].y,pt.x2-ut[ht-1].x,pt.y2-ut[ht-1].y,pt.x-ut[ht-1].x,pt.y-ut[ht-1].y],nt[nt.length-1].deltas.push(G);break;case"qct":var _t=ut[ht-1].x+2/3*(pt.x1-ut[ht-1].x),Rt=ut[ht-1].y+2/3*(pt.y1-ut[ht-1].y),kt=pt.x+2/3*(pt.x1-pt.x),Gt=pt.y+2/3*(pt.y1-pt.y),vt=pt.x,rt=pt.y;G=[_t-ut[ht-1].x,Rt-ut[ht-1].y,kt-ut[ht-1].x,Gt-ut[ht-1].y,vt-ut[ht-1].x,rt-ut[ht-1].y],nt[nt.length-1].deltas.push(G);break;case"arc":nt.push({deltas:[],abs:[],arc:!0}),Array.isArray(nt[nt.length-1].abs)&&nt[nt.length-1].abs.push(pt)}}Z=H?null:k==="stroke"?"stroke":"fill";for(var ne=!1,qt=0;qt<nt.length;qt++)if(nt[qt].arc)for(var xt=nt[qt].abs,Pt=0;Pt<xt.length;Pt++){var Ct=xt[Pt];Ct.type==="arc"?I.call(this,Ct.x,Ct.y,Ct.radius,Ct.startAngle,Ct.endAngle,Ct.counterclockwise,void 0,H,!ne):T.call(this,Ct.x,Ct.y),ne=!0}else if(nt[qt].close===!0)this.pdf.internal.out("h"),ne=!1;else if(nt[qt].begin!==!0){var Lt=nt[qt].start.x,zt=nt[qt].start.y;W.call(this,nt[qt].deltas,Lt,zt),ne=!0}Z&&C.call(this,Z),H&&M.call(this)}},J=function(k){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-G;case"top":return k+H-G;case"hanging":return k+H-2*G;case"middle":return k+H/2-G;case"ideographic":return k;case"alphabetic":default:return k}},_=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(H,G){this.colorStops.push([H,G])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(k,H,G,Z,nt,ut,ht,pt,Tt){for(var _t=Q.call(this,G,Z,nt,ut),Rt=0;Rt<_t.length;Rt++){var kt=_t[Rt];Rt===0&&(Tt?A.call(this,kt.x1+k,kt.y1+H):T.call(this,kt.x1+k,kt.y1+H)),ct.call(this,k,H,kt.x2,kt.y2,kt.x3,kt.y3,kt.x4,kt.y4)}pt?M.call(this):C.call(this,ht)},C=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(k,H){this.pdf.internal.out(e(k)+" "+r(H)+" m")},E=function(k){var H;switch(k.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var G=this.pdf.getTextDimensions(k.text),Z=J.call(this,k.y),nt=_.call(this,Z)-G.h,ut=this.ctx.transform.applyToPoint(new o(k.x,Z)),ht=this.ctx.transform.decompose(),pt=new u;pt=(pt=(pt=pt.multiply(ht.translate)).multiply(ht.skew)).multiply(ht.scale);for(var Tt,_t,Rt,kt=this.ctx.transform.applyToRectangle(new l(k.x,Z,G.w,G.h)),Gt=pt.applyToRectangle(new l(k.x,nt,G.w,G.h)),vt=F.call(this,Gt),rt=[],ne=0;ne<vt.length;ne+=1)rt.indexOf(vt[ne])===-1&&rt.push(vt[ne]);if(O(rt),this.autoPaging)for(var qt=rt[0],xt=rt[rt.length-1],Pt=qt;Pt<xt+1;Pt++){this.pdf.setPage(Pt);var Ct=Pt===1?this.posY+this.margin[0]:this.margin[0],Lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[2],re=zt-this.margin[0],le=this.pdf.internal.pageSize.width-this.margin[1],oe=le-this.margin[3],pe=Pt===1?0:Lt+(Pt-2)*re;if(this.ctx.clip_path.length!==0){var _e=this.path;Tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Tt,this.posX+this.margin[3],-1*pe+Ct),Y.call(this,"fill",!0),this.path=_e}var Zt=L([JSON.parse(JSON.stringify(Gt))],this.posX+this.margin[3],-pe+Ct+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(_t=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_t*k.scale),Rt=this.lineWidth,this.lineWidth=Rt*k.scale);var he=this.autoPaging!=="text";if(he||Zt.y+Zt.h<=zt){if(he||Zt.y>=Ct&&Zt.x<=le){var Ot=he?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||le-Zt.x)[0],dn=L([JSON.parse(JSON.stringify(kt))],this.posX+this.margin[3],-pe+Ct+this.ctx.prevPageLastElemOffset)[0],be=he&&(Pt>qt||Pt<xt)&&R.call(this);be&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],oe,re,null).clip().discardPath()),this.pdf.text(Ot,dn.x,dn.y,{angle:k.angle,align:H,renderingMode:k.renderingMode}),be&&this.pdf.restoreGraphicsState()}}else Zt.y<zt&&(this.ctx.prevPageLastElemOffset+=zt-Zt.y);k.scale>=.01&&(this.pdf.setFontSize(_t),this.lineWidth=Rt)}else k.scale>=.01&&(_t=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_t*k.scale),Rt=this.lineWidth,this.lineWidth=Rt*k.scale),this.pdf.text(k.text,ut.x+this.posX,ut.y+this.posY,{angle:k.angle,align:H,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(_t),this.lineWidth=Rt)},T=function(k,H,G,Z){G=G||0,Z=Z||0,this.pdf.internal.out(e(k+G)+" "+r(H+Z)+" l")},W=function(k,H,G){return this.pdf.lines(k,H,G,null,null)},ct=function(k,H,G,Z,nt,ut,ht,pt){this.pdf.internal.out([t(i(G+k)),t(s(Z+H)),t(i(nt+k)),t(s(ut+H)),t(i(ht+k)),t(s(pt+H)),"c"].join(" "))},Q=function(k,H,G,Z){for(var nt=2*Math.PI,ut=Math.PI/2;H>G;)H-=nt;var ht=Math.abs(G-H);ht<nt&&Z&&(ht=nt-ht);for(var pt=[],Tt=Z?-1:1,_t=H;ht>1e-5;){var Rt=_t+Tt*Math.min(ht,ut);pt.push(X.call(this,k,_t,Rt)),ht-=Math.abs(Rt-_t),_t=Rt}return pt},X=function(k,H,G){var Z=(G-H)/2,nt=k*Math.cos(Z),ut=k*Math.sin(Z),ht=nt,pt=-ut,Tt=ht*ht+pt*pt,_t=Tt+ht*nt+pt*ut,Rt=4/3*(Math.sqrt(2*Tt*_t)-_t)/(ht*ut-pt*nt),kt=ht-Rt*pt,Gt=pt+Rt*ht,vt=kt,rt=-Gt,ne=Z+H,qt=Math.cos(ne),xt=Math.sin(ne);return{x1:k*Math.cos(H),y1:k*Math.sin(H),x2:kt*qt-Gt*xt,y2:kt*xt+Gt*qt,x3:vt*qt-rt*xt,y3:vt*xt+rt*qt,x4:k*Math.cos(G),y4:k*Math.sin(G)}},et=function(k){return 180*k/Math.PI},$=function(k,H,G,Z,nt,ut){var ht=k+.5*(G-k),pt=H+.5*(Z-H),Tt=nt+.5*(G-nt),_t=ut+.5*(Z-ut),Rt=Math.min(k,nt,ht,Tt),kt=Math.max(k,nt,ht,Tt),Gt=Math.min(H,ut,pt,_t),vt=Math.max(H,ut,pt,_t);return new l(Rt,Gt,kt-Rt,vt-Gt)},at=function(k,H,G,Z,nt,ut,ht,pt){var Tt,_t,Rt,kt,Gt,vt,rt,ne,qt,xt,Pt,Ct,Lt,zt,re=G-k,le=Z-H,oe=nt-G,pe=ut-Z,_e=ht-nt,Zt=pt-ut;for(_t=0;_t<41;_t++)qt=(rt=(Rt=k+(Tt=_t/40)*re)+Tt*((Gt=G+Tt*oe)-Rt))+Tt*(Gt+Tt*(nt+Tt*_e-Gt)-rt),xt=(ne=(kt=H+Tt*le)+Tt*((vt=Z+Tt*pe)-kt))+Tt*(vt+Tt*(ut+Tt*Zt-vt)-ne),_t==0?(Pt=qt,Ct=xt,Lt=qt,zt=xt):(Pt=Math.min(Pt,qt),Ct=Math.min(Ct,xt),Lt=Math.max(Lt,qt),zt=Math.max(zt,xt));return new l(Math.round(Pt),Math.round(Ct),Math.round(Lt-Pt),Math.round(zt-Ct))},mt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,H,G=(k=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:H}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(Yt.API),function(n){var t=function(s){var o,l,u,d,g,v,b,m,N,R;for(l=[],u=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(g=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(v=(g=((g=((g=((g=(g-(R=g%85))/85)-(N=g%85))/85)-(m=g%85))/85)-(b=g%85))/85)%85,l.push(v+33,b+33,m+33,N+33,R+33)):l.push(122);return function(F,P){for(var L=P;L>0;L--)F.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},e=function(s){var o,l,u,d,g,v=String,b="length",m=255,N="charCodeAt",R="slice",F="replace";for(s[R](-2),s=s[R](0,-2)[F](/\s/g,"")[F]("z","!!!!!"),u=[],d=0,g=(s+=o="uuuuu"[R](s[b]%5||5))[b];g>d;d+=5)l=52200625*(s[N](d)-33)+614125*(s[N](d+1)-33)+7225*(s[N](d+2)-33)+85*(s[N](d+3)-33)+(s[N](d+4)-33),u.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(P,L){for(var O=L;O>0;O--)P.pop()}(u,o[b]),v.fromCharCode.apply(v,u)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},i=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return s=(o=ld(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};n.processDataByFilters=function(s,o){var l=0,u=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=e(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(g){return("0"+g.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Yt.API),function(n){n.loadFile=function(t,e,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(u,d,g){var v=new XMLHttpRequest,b=0,m=function(N){var R=N.length,F=[],P=String.fromCharCode;for(b=0;b<R;b+=1)F.push(P(255&N.charCodeAt(b)));return F.join("")};if(v.open("GET",u,!d),v.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(v.onload=function(){v.status===200?g(m(this.responseText)):g(void 0)}),v.send(null),d&&v.status===200)return m(v.responseText)}(i,s,o)}catch{}return l}(t,e,r)},n.loadImageFile=n.loadFile}(Yt.API),function(n){function t(){return($t.html2canvas?Promise.resolve($t.html2canvas):Rh(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return($t.DOMPurify?Promise.resolve($t.DOMPurify):Rh(()=>import("./purify.es-2de9db7f.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=ke(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},s=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return d=(d=d.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function u(d,g){for(var v=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),b=d.firstChild;b;b=b.nextSibling)g!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||v.appendChild(u(b,g));return d.nodeType===1&&(d.nodeName==="CANVAS"?(v.width=d.width,v.height=d.height,v.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(v.value=d.value),v.addEventListener("load",function(){v.scrollTop=d.scrollTop,v.scrollLeft=d.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var b=0;b<d.length;++b){var m=d[b],N=m.src.find(function(R){return R.format==="truetype"});N&&u.addFont(N.url,m.ref.name,m.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,u.context2d.save(!0),l(this.prop.container,v)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||Yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,u,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,u,d){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(d,g){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(v){return u.updateProgress(null,d),v}).then(d,g).then(function(v){return u.updateProgress(1),v})})},s.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),g=u.call(d,o,l);return s.convert(g,this.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Yt.getPageSize=function(o,l,u){if(ke(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var g,v=(""+u).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+l}var m,N=0,R=0;if(b.hasOwnProperty(v))N=b[v][1]/g,R=b[v][0]/g;else try{N=u[1],R=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",R>N&&(m=R,R=N,N=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",N>R&&(m=R,R=N,N=m)}return{width:R,height:N,unit:l,k:g,orientation:o}},n.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(gd):null;var u=new s(l);return l.worker?u:u.from(o).doCallback()}}(Yt.API),Yt.API.addJS=function(n){return Ng=n,this.internal.events.subscribe("postPutResources",function(){ql=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ql+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Pg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ng+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ql!==void 0&&Pg!==void 0&&this.internal.out("/Names <</JavaScript "+ql+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],l=r.exec(o);if(l!=null){var u=l[1];e.internal.newObjectDeferredBegin(u,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,g=[];for(s=0;s<d;s++){var v=e.internal.newObject();g.push(v);var b=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var m=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<g.length;s++)e.internal.write("(page_"+(s+1)+")"+g[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+m+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var u=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Yt.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,r,i,s,o,l){var u,d=this.decode.DCT_DECODE,g=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(u=function(v){for(var b,m=256*v.charCodeAt(4)+v.charCodeAt(5),N=v.length,R={width:0,height:0,numcomponents:1},F=4;F<N;F+=2){if(F+=m,t.indexOf(v.charCodeAt(F+1))!==-1){b=256*v.charCodeAt(F+5)+v.charCodeAt(F+6),R={width:256*v.charCodeAt(F+7)+v.charCodeAt(F+8),height:b,numcomponents:v.charCodeAt(F+9)};break}m=256*v.charCodeAt(F+2)+v.charCodeAt(F+3)}return R}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}g={data:e,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:d,index:r,alias:i}}return g}}(Yt.API);var Aa,Ul,Cg,Rg,Lg,pE=function(){var n,t,e;function r(s){var o,l,u,d,g,v,b,m,N,R,F,P,L,O;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(o=this.readUInt32(),N=(function(){var q,Y;for(Y=[],q=0;q<4;++q)Y.push(String.fromCharCode(this.data[this.pos++]));return Y}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},g=this.readUInt16(),d=this.readUInt16()||100,v.delay=1e3*g/d,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,o-=4),s=(v!=null?v.data:void 0)||this.imgData,P=0;0<=o?P<o:P>o;0<=o?++P:--P)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((R=u-this.transparency.indexed.length)>0)for(L=0;0<=R?L<R:L>R;0<=R?++L:--L)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":b=(F=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,F.slice(0,b)),this.text[m]=String.fromCharCode.apply(String,F.slice(b+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(O=this.colorType)===4||O===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,l;for(l=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),u=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function g(v,b,m,N){var R,F,P,L,O,q,Y,J,_,I,C,M,A,E,T,W,ct,Q,X,et,$,at=Math.ceil((d.width-v)/m),mt=Math.ceil((d.height-b)/N),k=d.width==at&&d.height==mt;for(E=o*at,M=k?l:new Uint8Array(E*mt),q=s.length,A=0,F=0;A<mt&&u<q;){switch(s[u++]){case 0:for(L=ct=0;ct<E;L=ct+=1)M[F++]=s[u++];break;case 1:for(L=Q=0;Q<E;L=Q+=1)R=s[u++],O=L<o?0:M[F-o],M[F++]=(R+O)%256;break;case 2:for(L=X=0;X<E;L=X+=1)R=s[u++],P=(L-L%o)/o,T=A&&M[(A-1)*E+P*o+L%o],M[F++]=(T+R)%256;break;case 3:for(L=et=0;et<E;L=et+=1)R=s[u++],P=(L-L%o)/o,O=L<o?0:M[F-o],T=A&&M[(A-1)*E+P*o+L%o],M[F++]=(R+Math.floor((O+T)/2))%256;break;case 4:for(L=$=0;$<E;L=$+=1)R=s[u++],P=(L-L%o)/o,O=L<o?0:M[F-o],A===0?T=W=0:(T=M[(A-1)*E+P*o+L%o],W=P&&M[(A-1)*E+(P-1)*o+L%o]),Y=O+T-W,J=Math.abs(Y-O),I=Math.abs(Y-T),C=Math.abs(Y-W),_=J<=I&&J<=C?O:I<=C?T:W,M[F++]=(R+_)%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!k){var H=((b+A*N)*d.width+v)*o,G=A*E;for(L=0;L<at;L+=1){for(var Z=0;Z<o;Z+=1)l[H++]=M[G++];H+=(m-1)*o}}A++}}return s=WA(s),d.interlaceMethod==1?(g(0,0,8,8),g(4,0,8,8),g(0,4,4,8),g(2,0,4,4),g(0,2,2,4),g(1,0,2,2),g(0,1,1,2)):g(0,0,1,1),l},r.prototype.decodePalette=function(){var s,o,l,u,d,g,v,b,m;for(l=this.palette,g=this.transparency.indexed||[],d=new Uint8Array((g.length||0)+l.length),u=0,s=0,o=v=0,b=l.length;v<b;o=v+=3)d[u++]=l[o],d[u++]=l[o+1],d[u++]=l[o+2],d[u++]=(m=g[s++])!=null?m:255;return d},r.prototype.copyToImageData=function(s,o){var l,u,d,g,v,b,m,N,R,F,P;if(u=this.colors,R=null,l=this.hasAlphaChannel,this.palette.length&&(R=(P=this._decodedPalette)!=null?P:this._decodedPalette=this.decodePalette(),u=4,l=!0),N=(d=s.data||s).length,v=R||o,g=b=0,u===1)for(;g<N;)m=R?4*o[g/4]:b,F=v[m++],d[g++]=F,d[g++]=F,d[g++]=F,d[g++]=l?v[m++]:255,b=m;else for(;g<N;)m=R?4*o[g/4]:b,d[g++]=v[m++],d[g++]=v[m++],d[g++]=v[m++],d[g++]=l?v[m++]:255,b=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call($t)==="[object Window]"){try{t=$t.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(i()===!0)return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,l,u,d,g,v,b,m;if(this.animation){for(m=[],l=g=0,v=(b=this.animation.frames).length;g<v;l=++g)o=b[l],u=s.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,d),o.imageData=u,m.push(o.image=n(u));return m}},r.prototype.renderFrame=function(s,o){var l,u,d;return l=(u=this.animation.frames)[o],d=u[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(s){var o,l,u,d,g,v,b=this;return l=0,v=this.animation,d=v.numFrames,u=v.frames,g=v.numPlays,(o=function(){var m,N;if(m=l++%d,N=u[m],b.renderFrame(s,m),d>1&&l/d<g)return b.animation._timeout=setTimeout(o,N.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function gE(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,i=n[t++],s=i>>7,o=1<<(7&i)+1;n[t++],n[t++];var l=null,u=null;s&&(l=t,u=o,t+=3*o);var d=!0,g=[],v=0,b=null,m=0,N=null;for(this.width=e,this.height=r;d&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,N=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((A=n[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var R=n[t++];v=n[t++]|n[t++]<<8,b=n[t++],!(1&R)&&(b=null),m=R>>2&7,t++;break;case 254:for(;;){if(!((A=n[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var F=n[t++]|n[t++]<<8,P=n[t++]|n[t++]<<8,L=n[t++]|n[t++]<<8,O=n[t++]|n[t++]<<8,q=n[t++],Y=q>>6&1,J=1<<(7&q)+1,_=l,I=u,C=!1;q>>7&&(C=!0,_=t,I=J,t+=3*J);var M=t;for(t++;;){var A;if(!((A=n[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}g.push({x:F,y:P,width:L,height:O,has_local_palette:C,palette_offset:_,palette_size:I,data_offset:M,data_length:t-M,transparent_index:b,interlaced:!!Y,delay:v,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return N},this.frameInfo=function(E){if(E<0||E>=g.length)throw new Error("Frame index out of range.");return g[E]},this.decodeAndBlitFrameBGRA=function(E,T){var W=this.frameInfo(E),ct=W.width*W.height,Q=new Uint8Array(ct);kg(n,W.data_offset,Q,ct);var X=W.palette_offset,et=W.transparent_index;et===null&&(et=256);var $=W.width,at=e-$,mt=$,k=4*(W.y*e+W.x),H=4*((W.y+W.height)*e+W.x),G=k,Z=4*at;W.interlaced===!0&&(Z+=4*e*7);for(var nt=8,ut=0,ht=Q.length;ut<ht;++ut){var pt=Q[ut];if(mt===0&&(mt=$,(G+=Z)>=H&&(Z=4*at+4*e*(nt-1),G=k+($+at)*(nt<<1),nt>>=1)),pt===et)G+=4;else{var Tt=n[X+3*pt],_t=n[X+3*pt+1],Rt=n[X+3*pt+2];T[G++]=Rt,T[G++]=_t,T[G++]=Tt,T[G++]=255}--mt}},this.decodeAndBlitFrameRGBA=function(E,T){var W=this.frameInfo(E),ct=W.width*W.height,Q=new Uint8Array(ct);kg(n,W.data_offset,Q,ct);var X=W.palette_offset,et=W.transparent_index;et===null&&(et=256);var $=W.width,at=e-$,mt=$,k=4*(W.y*e+W.x),H=4*((W.y+W.height)*e+W.x),G=k,Z=4*at;W.interlaced===!0&&(Z+=4*e*7);for(var nt=8,ut=0,ht=Q.length;ut<ht;++ut){var pt=Q[ut];if(mt===0&&(mt=$,(G+=Z)>=H&&(Z=4*at+4*e*(nt-1),G=k+($+at)*(nt<<1),nt>>=1)),pt===et)G+=4;else{var Tt=n[X+3*pt],_t=n[X+3*pt+1],Rt=n[X+3*pt+2];T[G++]=Tt,T[G++]=_t,T[G++]=Rt,T[G++]=255}--mt}}}function kg(n,t,e,r){for(var i=n[t++],s=1<<i,o=s+1,l=o+1,u=i+1,d=(1<<u)-1,g=0,v=0,b=0,m=n[t++],N=new Int32Array(4096),R=null;;){for(;g<16&&m!==0;)v|=n[t++]<<g,g+=8,m===1?m=n[t++]:--m;if(g<u)break;var F=v&d;if(v>>=u,g-=u,F!==s){if(F===o)break;for(var P=F<l?F:R,L=0,O=P;O>s;)O=N[O]>>8,++L;var q=O;if(b+L+(P!==F?1:0)>r)return void Me.log("Warning, gif stream longer than expected.");e[b++]=q;var Y=b+=L;for(P!==F&&(e[b++]=q),O=P;L--;)O=N[O],e[--Y]=255&O,O>>=8;R!==null&&l<4096&&(N[l++]=R<<8|q,l>=d+1&&u<12&&(++u,d=d<<1|1)),R=F}else l=o+1,d=(1<<(u=i+1))-1,R=null}return b!==r&&Me.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Nh(n){var t,e,r,i,s,o=Math.floor,l=new Array(64),u=new Array(64),d=new Array(64),g=new Array(64),v=new Array(65535),b=new Array(65535),m=new Array(64),N=new Array(64),R=[],F=0,P=7,L=new Array(64),O=new Array(64),q=new Array(64),Y=new Array(256),J=new Array(2048),_=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ct=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(k,H){for(var G=0,Z=0,nt=new Array,ut=1;ut<=16;ut++){for(var ht=1;ht<=k[ut];ht++)nt[H[Z]]=[],nt[H[Z]][0]=G,nt[H[Z]][1]=ut,Z++,G++;G*=2}return nt}function X(k){for(var H=k[0],G=k[1]-1;G>=0;)H&1<<G&&(F|=1<<P),G--,--P<0&&(F==255?(et(255),et(0)):et(F),P=7,F=0)}function et(k){R.push(k)}function $(k){et(k>>8&255),et(255&k)}function at(k,H,G,Z,nt){for(var ut,ht=nt[0],pt=nt[240],Tt=function(xt,Pt){var Ct,Lt,zt,re,le,oe,pe,_e,Zt,he,Ot=0;for(Zt=0;Zt<8;++Zt){Ct=xt[Ot],Lt=xt[Ot+1],zt=xt[Ot+2],re=xt[Ot+3],le=xt[Ot+4],oe=xt[Ot+5],pe=xt[Ot+6];var dn=Ct+(_e=xt[Ot+7]),be=Ct-_e,Pn=Lt+pe,Te=Lt-pe,Fe=zt+oe,En=zt-oe,Ie=re+le,Tr=re-le,qe=dn+Ie,Nn=dn-Ie,xr=Pn+Fe,de=Pn-Fe;xt[Ot]=qe+xr,xt[Ot+4]=qe-xr;var ie=.707106781*(de+Nn);xt[Ot+2]=Nn+ie,xt[Ot+6]=Nn-ie;var ge=.382683433*((qe=Tr+En)-(de=Te+be)),gr=.5411961*qe+ge,fn=1.306562965*de+ge,Pr=.707106781*(xr=En+Te),Cn=be+Pr,Qt=be-Pr;xt[Ot+5]=Qt+gr,xt[Ot+3]=Qt-gr,xt[Ot+1]=Cn+fn,xt[Ot+7]=Cn-fn,Ot+=8}for(Ot=0,Zt=0;Zt<8;++Zt){Ct=xt[Ot],Lt=xt[Ot+8],zt=xt[Ot+16],re=xt[Ot+24],le=xt[Ot+32],oe=xt[Ot+40],pe=xt[Ot+48];var mr=Ct+(_e=xt[Ot+56]),Kn=Ct-_e,Rn=Lt+pe,Qe=Lt-pe,Ge=zt+oe,pn=zt-oe,ls=re+le,In=re-le,rr=mr+ls,ir=mr-ls,Yn=Rn+Ge,sr=Rn-Ge;xt[Ot]=rr+Yn,xt[Ot+32]=rr-Yn;var Xn=.707106781*(sr+ir);xt[Ot+16]=ir+Xn,xt[Ot+48]=ir-Xn;var Nr=.382683433*((rr=In+pn)-(sr=Qe+Kn)),di=.5411961*rr+Nr,us=1.306562965*sr+Nr,Wr=.707106781*(Yn=pn+Qe),Mi=Kn+Wr,fi=Kn-Wr;xt[Ot+40]=fi+di,xt[Ot+24]=fi-di,xt[Ot+8]=Mi+us,xt[Ot+56]=Mi-us,Ot++}for(Zt=0;Zt<64;++Zt)he=xt[Zt]*Pt[Zt],m[Zt]=he>0?he+.5|0:he-.5|0;return m}(k,H),_t=0;_t<64;++_t)N[_[_t]]=Tt[_t];var Rt=N[0]-G;G=N[0],Rt==0?X(Z[0]):(X(Z[b[ut=32767+Rt]]),X(v[ut]));for(var kt=63;kt>0&&N[kt]==0;)kt--;if(kt==0)return X(ht),G;for(var Gt,vt=1;vt<=kt;){for(var rt=vt;N[vt]==0&&vt<=kt;)++vt;var ne=vt-rt;if(ne>=16){Gt=ne>>4;for(var qt=1;qt<=Gt;++qt)X(pt);ne&=15}ut=32767+N[vt],X(nt[(ne<<4)+b[ut]]),X(v[ut]),vt++}return kt!=63&&X(ht),G}function mt(k){k=Math.min(Math.max(k,1),100),s!=k&&(function(H){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var nt=o((G[Z]*H+50)/100);nt=Math.min(Math.max(nt,1),255),l[_[Z]]=nt}for(var ut=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ht=0;ht<64;ht++){var pt=o((ut[ht]*H+50)/100);pt=Math.min(Math.max(pt,1),255),u[_[ht]]=pt}for(var Tt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_t=0,Rt=0;Rt<8;Rt++)for(var kt=0;kt<8;kt++)d[_t]=1/(l[_[_t]]*Tt[Rt]*Tt[kt]*8),g[_t]=1/(u[_[_t]]*Tt[Rt]*Tt[kt]*8),_t++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),s=k)}this.encode=function(k,H){H&&mt(H),R=new Array,F=0,P=7,$(65496),$(65504),$(16),et(74),et(70),et(73),et(70),et(0),et(1),et(1),et(0),$(1),$(1),et(0),et(0),function(){$(65499),$(132),et(0);for(var Lt=0;Lt<64;Lt++)et(l[Lt]);et(1);for(var zt=0;zt<64;zt++)et(u[zt])}(),function(Lt,zt){$(65472),$(17),et(8),$(zt),$(Lt),et(3),et(1),et(17),et(0),et(2),et(17),et(1),et(3),et(17),et(1)}(k.width,k.height),function(){$(65476),$(418),et(0);for(var Lt=0;Lt<16;Lt++)et(I[Lt+1]);for(var zt=0;zt<=11;zt++)et(C[zt]);et(16);for(var re=0;re<16;re++)et(M[re+1]);for(var le=0;le<=161;le++)et(A[le]);et(1);for(var oe=0;oe<16;oe++)et(E[oe+1]);for(var pe=0;pe<=11;pe++)et(T[pe]);et(17);for(var _e=0;_e<16;_e++)et(W[_e+1]);for(var Zt=0;Zt<=161;Zt++)et(ct[Zt])}(),$(65498),$(12),et(3),et(1),et(0),et(2),et(17),et(3),et(17),et(0),et(63),et(0);var G=0,Z=0,nt=0;F=0,P=7,this.encode.displayName="_encode_";for(var ut,ht,pt,Tt,_t,Rt,kt,Gt,vt,rt=k.data,ne=k.width,qt=k.height,xt=4*ne,Pt=0;Pt<qt;){for(ut=0;ut<xt;){for(_t=xt*Pt+ut,kt=-1,Gt=0,vt=0;vt<64;vt++)Rt=_t+(Gt=vt>>3)*xt+(kt=4*(7&vt)),Pt+Gt>=qt&&(Rt-=xt*(Pt+1+Gt-qt)),ut+kt>=xt&&(Rt-=ut+kt-xt+4),ht=rt[Rt++],pt=rt[Rt++],Tt=rt[Rt++],L[vt]=(J[ht]+J[pt+256>>0]+J[Tt+512>>0]>>16)-128,O[vt]=(J[ht+768>>0]+J[pt+1024>>0]+J[Tt+1280>>0]>>16)-128,q[vt]=(J[ht+1280>>0]+J[pt+1536>>0]+J[Tt+1792>>0]>>16)-128;G=at(L,d,G,t,r),Z=at(O,g,Z,e,i),nt=at(q,g,nt,e,i),ut+=32}Pt+=8}if(P>=0){var Ct=[];Ct[1]=P+1,Ct[0]=(1<<P+1)-1,X(Ct)}return $(65497),new Uint8Array(R)},n=n||50,function(){for(var k=String.fromCharCode,H=0;H<256;H++)Y[H]=k(H)}(),t=Q(I,C),e=Q(E,T),r=Q(M,A),i=Q(W,ct),function(){for(var k=1,H=2,G=1;G<=15;G++){for(var Z=k;Z<H;Z++)b[32767+Z]=G,v[32767+Z]=[],v[32767+Z][1]=G,v[32767+Z][0]=Z;for(var nt=-(H-1);nt<=-k;nt++)b[32767+nt]=G,v[32767+nt]=[],v[32767+nt][1]=G,v[32767+nt][0]=H-1+nt;k<<=1,H<<=1}}(),function(){for(var k=0;k<256;k++)J[k]=19595*k,J[k+256>>0]=38470*k,J[k+512>>0]=7471*k+32768,J[k+768>>0]=-11059*k,J[k+1024>>0]=-21709*k,J[k+1280>>0]=32768*k+8421375,J[k+1536>>0]=-27439*k,J[k+1792>>0]=-5329*k}(),mt(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function si(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Fg(n){function t(I){if(!I)throw Error("assert :P")}function e(I,C,M){for(var A=0;4>A;A++)if(I[C+A]!=M.charCodeAt(A))return!0;return!1}function r(I,C,M,A,E){for(var T=0;T<E;T++)I[C+T]=M[A+T]}function i(I,C,M,A){for(var E=0;E<A;E++)I[C+E]=M}function s(I){return new Int32Array(I)}function o(I,C){for(var M=[],A=0;A<I;A++)M.push(new C);return M}function l(I,C){var M=[];return function A(E,T,W){for(var ct=W[T],Q=0;Q<ct&&(E.push(W.length>T+1?[]:new C),!(W.length<T+1));Q++)A(E[Q],T+1,W)}(M,0,I),M}var u=function(){var I=this;function C(c,h){for(var y=1<<h-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function M(c,h,y,S,D){t(!(S%y));do c[h+(S-=y)]=D;while(0<S)}function A(c,h,y,S,D){if(t(2328>=D),512>=D)var j=s(512);else if((j=s(D))==null)return 0;return function(V,B,U,K,it,dt){var ft,lt,At=B,yt=1<<U,st=s(16),ot=s(16);for(t(it!=0),t(K!=null),t(V!=null),t(0<U),lt=0;lt<it;++lt){if(15<K[lt])return 0;++st[K[lt]]}if(st[0]==it)return 0;for(ot[1]=0,ft=1;15>ft;++ft){if(st[ft]>1<<ft)return 0;ot[ft+1]=ot[ft]+st[ft]}for(lt=0;lt<it;++lt)ft=K[lt],0<K[lt]&&(dt[ot[ft]++]=lt);if(ot[15]==1)return(K=new E).g=0,K.value=dt[0],M(V,At,1,yt,K),yt;var wt,It=-1,bt=yt-1,jt=0,Ft=1,Jt=1,Dt=1<<U;for(lt=0,ft=1,it=2;ft<=U;++ft,it<<=1){if(Ft+=Jt<<=1,0>(Jt-=st[ft]))return 0;for(;0<st[ft];--st[ft])(K=new E).g=ft,K.value=dt[lt++],M(V,At+jt,it,Dt,K),jt=C(jt,ft)}for(ft=U+1,it=2;15>=ft;++ft,it<<=1){if(Ft+=Jt<<=1,0>(Jt-=st[ft]))return 0;for(;0<st[ft];--st[ft]){if(K=new E,(jt&bt)!=It){for(At+=Dt,wt=1<<(It=ft)-U;15>It&&!(0>=(wt-=st[It]));)++It,wt<<=1;yt+=Dt=1<<(wt=It-U),V[B+(It=jt&bt)].g=wt+U,V[B+It].value=At-B-It}K.g=ft-U,K.value=dt[lt++],M(V,At+(jt>>U),it,Dt,K),jt=C(jt,ft)}}return Ft!=2*ot[15]-1?0:yt}(c,h,y,S,D,j)}function E(){this.value=this.g=0}function T(){this.value=this.g=0}function W(){this.G=o(5,E),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ln,T)}function ct(c,h,y,S){t(c!=null),t(h!=null),t(2147483648>S),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=h,c.pa=y,c.Jd=h,c.Yc=y+S,c.Zc=4<=S?y+S-4+1:y,ut(c)}function Q(c,h){for(var y=0;0<h--;)y|=pt(c,128)<<h;return y}function X(c,h){var y=Q(c,h);return ht(c)?-y:y}function et(c,h,y,S){var D,j=0;for(t(c!=null),t(h!=null),t(4294967288>S),c.Sb=S,c.Ra=0,c.u=0,c.h=0,4<S&&(S=4),D=0;D<S;++D)j+=h[y+D]<<8*D;c.Ra=j,c.bb=S,c.oa=h,c.pa=y}function $(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<ua-8>>>0,++c.bb,c.u-=8;G(c)&&(c.h=1,c.u=0)}function at(c,h){if(t(0<=h),!c.h&&h<=la){var y=H(c)&ca[h];return c.u+=h,$(c),y}return c.h=1,c.u=0}function mt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(c){return c.Ra>>>(c.u&ua-1)>>>0}function G(c){return t(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>ua}function Z(c,h){c.u=h,c.h=G(c)}function nt(c){c.u>=sc&&(t(c.u>=sc),$(c))}function ut(c){t(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(t(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function ht(c){return Q(c,1)}function pt(c,h){var y=c.Ca;0>c.b&&ut(c);var S=c.b,D=y*h>>>8,j=(c.I>>>S>D)+0;for(j?(y-=D,c.I-=D+1<<S>>>0):y=D+1,S=y,D=0;256<=S;)D+=8,S>>=8;return S=7^D+cr[S],c.b-=S,c.Ca=(y<<S)-1,j}function Tt(c,h,y){c[h+0]=y>>24&255,c[h+1]=y>>16&255,c[h+2]=y>>8&255,c[h+3]=y>>0&255}function _t(c,h){return c[h+0]<<0|c[h+1]<<8}function Rt(c,h){return _t(c,h)|c[h+2]<<16}function kt(c,h){return _t(c,h)|_t(c,h+2)<<16}function Gt(c,h){var y=1<<h;return t(c!=null),t(0<h),c.X=s(y),c.X==null?0:(c.Mb=32-h,c.Xa=h,1)}function vt(c,h){t(c!=null),t(h!=null),t(c.Xa==h.Xa),r(h.X,0,c.X,0,1<<h.Xa)}function rt(){this.X=[],this.Xa=this.Mb=0}function ne(c,h,y,S){t(y!=null),t(S!=null);var D=y[0],j=S[0];return D==0&&(D=(c*j+h/2)/h),j==0&&(j=(h*D+c/2)/c),0>=D||0>=j?0:(y[0]=D,S[0]=j,1)}function qt(c,h){return c+(1<<h)-1>>>h}function xt(c,h){return((4278255360&c)+(4278255360&h)>>>0&4278255360)+((16711935&c)+(16711935&h)>>>0&16711935)>>>0}function Pt(c,h){I[h]=function(y,S,D,j,V,B,U){var K;for(K=0;K<V;++K){var it=I[c](B[U+K-1],D,j+K);B[U+K]=xt(y[S+K],it)}}}function Ct(){this.ud=this.hd=this.jd=0}function Lt(c,h){return((4278124286&(c^h))>>>1)+(c&h)>>>0}function zt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function re(c,h){return zt(c+(c-h+.5>>1))}function le(c,h,y){return Math.abs(h-y)-Math.abs(c-y)}function oe(c,h,y,S,D,j,V){for(S=j[V-1],y=0;y<D;++y)j[V+y]=S=xt(c[h+y],S)}function pe(c,h,y,S,D){var j;for(j=0;j<y;++j){var V=c[h+j],B=V>>8&255,U=16711935&(U=(U=16711935&V)+((B<<16)+B));S[D+j]=(4278255360&V)+U>>>0}}function _e(c,h){h.jd=c>>0&255,h.hd=c>>8&255,h.ud=c>>16&255}function Zt(c,h,y,S,D,j){var V;for(V=0;V<S;++V){var B=h[y+V],U=B>>>8,K=B,it=255&(it=(it=B>>>16)+((c.jd<<24>>24)*(U<<24>>24)>>>5));K=255&(K=(K=K+((c.hd<<24>>24)*(U<<24>>24)>>>5))+((c.ud<<24>>24)*(it<<24>>24)>>>5)),D[j+V]=(4278255360&B)+(it<<16)+K}}function he(c,h,y,S,D){I[h]=function(j,V,B,U,K,it,dt,ft,lt){for(U=dt;U<ft;++U)for(dt=0;dt<lt;++dt)K[it++]=D(B[S(j[V++])])},I[c]=function(j,V,B,U,K,it,dt){var ft=8>>j.b,lt=j.Ea,At=j.K[0],yt=j.w;if(8>ft)for(j=(1<<j.b)-1,yt=(1<<ft)-1;V<B;++V){var st,ot=0;for(st=0;st<lt;++st)st&j||(ot=S(U[K++])),it[dt++]=D(At[ot&yt]),ot>>=ft}else I["VP8LMapColor"+y](U,K,At,yt,it,dt,V,B,lt)}}function Ot(c,h,y,S,D){for(y=h+y;h<y;){var j=c[h++];S[D++]=j>>16&255,S[D++]=j>>8&255,S[D++]=j>>0&255}}function dn(c,h,y,S,D){for(y=h+y;h<y;){var j=c[h++];S[D++]=j>>16&255,S[D++]=j>>8&255,S[D++]=j>>0&255,S[D++]=j>>24&255}}function be(c,h,y,S,D){for(y=h+y;h<y;){var j=(V=c[h++])>>16&240|V>>12&15,V=V>>0&240|V>>28&15;S[D++]=j,S[D++]=V}}function Pn(c,h,y,S,D){for(y=h+y;h<y;){var j=(V=c[h++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;S[D++]=j,S[D++]=V}}function Te(c,h,y,S,D){for(y=h+y;h<y;){var j=c[h++];S[D++]=j>>0&255,S[D++]=j>>8&255,S[D++]=j>>16&255}}function Fe(c,h,y,S,D,j){if(j==0)for(y=h+y;h<y;)Tt(S,((j=c[h++])[0]>>24|j[1]>>8&65280|j[2]<<8&16711680|j[3]<<24)>>>0),D+=32;else r(S,D,c,h,y)}function En(c,h){I[h][0]=I[c+"0"],I[h][1]=I[c+"1"],I[h][2]=I[c+"2"],I[h][3]=I[c+"3"],I[h][4]=I[c+"4"],I[h][5]=I[c+"5"],I[h][6]=I[c+"6"],I[h][7]=I[c+"7"],I[h][8]=I[c+"8"],I[h][9]=I[c+"9"],I[h][10]=I[c+"10"],I[h][11]=I[c+"11"],I[h][12]=I[c+"12"],I[h][13]=I[c+"13"],I[h][14]=I[c+"0"],I[h][15]=I[c+"0"]}function Ie(c){return c==Ku||c==Yu||c==wl||c==Xu}function Tr(){this.eb=[],this.size=this.A=this.fb=0}function qe(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Nn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Tr,this.f.kb=new qe,this.sd=null}function xr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function de(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ie(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function ge(c,h){var y=c.T,S=h.ba.f.RGBA,D=S.eb,j=S.fb+c.ka*S.A,V=Br[h.ba.S],B=c.y,U=c.O,K=c.f,it=c.N,dt=c.ea,ft=c.W,lt=h.cc,At=h.dc,yt=h.Mc,st=h.Nc,ot=c.ka,wt=c.ka+c.T,It=c.U,bt=It+1>>1;for(ot==0?V(B,U,null,null,K,it,dt,ft,K,it,dt,ft,D,j,null,null,It):(V(h.ec,h.fc,B,U,lt,At,yt,st,K,it,dt,ft,D,j-S.A,D,j,It),++y);ot+2<wt;ot+=2)lt=K,At=it,yt=dt,st=ft,it+=c.Rc,ft+=c.Rc,j+=2*S.A,V(B,(U+=2*c.fa)-c.fa,B,U,lt,At,yt,st,K,it,dt,ft,D,j-S.A,D,j,It);return U+=c.fa,c.j+wt<c.o?(r(h.ec,h.fc,B,U,It),r(h.cc,h.dc,K,it,bt),r(h.Mc,h.Nc,dt,ft,bt),y--):1&wt||V(B,U,null,null,K,it,dt,ft,K,it,dt,ft,D,j+S.A,null,null,It),y}function gr(c,h,y){var S=c.F,D=[c.J];if(S!=null){var j=c.U,V=h.ba.S,B=V==vl||V==wl;h=h.ba.f.RGBA;var U=[0],K=c.ka;U[0]=c.T,c.Kb&&(K==0?--U[0]:(--K,D[0]-=c.width),c.j+c.ka+c.T==c.o&&(U[0]=c.o-c.j-K));var it=h.eb;K=h.fb+K*h.A,c=Be(S,D[0],c.width,j,U,it,K+(B?0:3),h.A),t(y==U),c&&Ie(V)&&jr(it,K,B,j,U,h.A)}return 0}function fn(c){var h=c.ma,y=h.ba.S,S=11>y,D=y==ml||y==yl||y==vl||y==Gu||y==12||Ie(y);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!rc(h.Oa,c,D?11:12))return 0;if(D&&Ie(y)&&tt(),c.da)alert("todo:use_scaling");else{if(S){if(h.Ib=ie,c.Kb){if(y=c.U+1>>1,h.memory=s(c.U+2*y),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+c.U,h.Mc=h.cc,h.Nc=h.dc+y,h.Ib=ge,tt()}}else alert("todo:EmitYUV");D&&(h.Jb=gr,S&&x())}if(S&&!xf){for(c=0;256>c;++c)Q0[c]=89858*(c-128)+Al>>bl,$0[c]=-22014*(c-128)+Al,Z0[c]=-45773*(c-128),J0[c]=113618*(c-128)+Al>>bl;for(c=dc;c<Zu;++c)h=76283*(c-16)+Al>>bl,t2[c-dc]=wr(h,255),e2[c-dc]=wr(h+8>>4,15);xf=1}return 1}function Pr(c){var h=c.ma,y=c.U,S=c.T;return t(!(1&c.ka)),0>=y||0>=S?0:(y=h.Ib(c,h),h.Jb!=null&&h.Jb(c,h,y),h.Dc+=y,1)}function Cn(c){c.ma.memory=null}function Qt(c,h,y,S){return at(c,8)!=47?0:(h[0]=at(c,14)+1,y[0]=at(c,14)+1,S[0]=at(c,1),at(c,3)!=0?0:!c.h)}function mr(c,h){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+at(h,y)+1}function Kn(c,h){return 120<h?h-120:1<=(y=((y=O0[h-1])>>4)*c+(8-(15&y)))?y:1;var y}function Rn(c,h,y){var S=H(y),D=c[h+=255&S].g-8;return 0<D&&(Z(y,y.u+8),S=H(y),h+=c[h].value,h+=S&(1<<D)-1),Z(y,y.u+c[h].g),c[h].value}function Qe(c,h,y){return y.g+=c.g,y.value+=c.value<<h>>>0,t(8>=y.g),c.g}function Ge(c,h,y){var S=c.xc;return t((h=S==0?0:c.vc[c.md*(y>>S)+(h>>S)])<c.Wb),c.Ya[h]}function pn(c,h,y,S){var D=c.ab,j=c.c*h,V=c.C;h=V+h;var B=y,U=S;for(S=c.Ta,y=c.Ua;0<D--;){var K=c.gc[D],it=V,dt=h,ft=B,lt=U,At=(U=S,B=y,K.Ea);switch(t(it<dt),t(dt<=K.nc),K.hc){case 2:ll(ft,lt,(dt-it)*At,U,B);break;case 0:var yt=it,st=dt,ot=U,wt=B,It=(Dt=K).Ea;yt==0&&(zu(ft,lt,null,null,1,ot,wt),oe(ft,lt+1,0,0,It-1,ot,wt+1),lt+=It,wt+=It,++yt);for(var bt=1<<Dt.b,jt=bt-1,Ft=qt(It,Dt.b),Jt=Dt.K,Dt=Dt.w+(yt>>Dt.b)*Ft;yt<st;){var xe=Jt,Re=Dt,Se=1;for(oc(ft,lt,ot,wt-It,1,ot,wt);Se<It;){var me=(Se&~jt)+bt;me>It&&(me=It),(0,bs[xe[Re++]>>8&15])(ft,lt+ +Se,ot,wt+Se-It,me-Se,ot,wt+Se),Se=me}lt+=It,wt+=It,++yt&jt||(Dt+=Ft)}dt!=K.nc&&r(U,B-At,U,B+(dt-it-1)*At,At);break;case 1:for(At=ft,st=lt,It=(ft=K.Ea)-(wt=ft&~(ot=(lt=1<<K.b)-1)),yt=qt(ft,K.b),bt=K.K,K=K.w+(it>>K.b)*yt;it<dt;){for(jt=bt,Ft=K,Jt=new Ct,Dt=st+wt,xe=st+ft;st<Dt;)_e(jt[Ft++],Jt),wo(Jt,At,st,lt,U,B),st+=lt,B+=lt;st<xe&&(_e(jt[Ft++],Jt),wo(Jt,At,st,It,U,B),st+=It,B+=It),++it&ot||(K+=yt)}break;case 3:if(ft==U&&lt==B&&0<K.b){for(st=U,ft=At=B+(dt-it)*At-(wt=(dt-it)*qt(K.Ea,K.b)),lt=U,ot=B,yt=[],wt=(It=wt)-1;0<=wt;--wt)yt[wt]=lt[ot+wt];for(wt=It-1;0<=wt;--wt)st[ft+wt]=yt[wt];Dr(K,it,dt,U,At,U,B)}else Dr(K,it,dt,ft,lt,U,B)}B=S,U=y}U!=y&&r(S,y,B,U,j)}function ls(c,h){var y=c.V,S=c.Ba+c.c*c.C,D=h-c.C;if(t(h<=c.l.o),t(16>=D),0<D){var j=c.l,V=c.Ta,B=c.Ua,U=j.width;if(pn(c,D,y,S),D=B=[B],t((y=c.C)<(S=h)),t(j.v<j.va),S>j.o&&(S=j.o),y<j.j){var K=j.j-y;y=j.j,D[0]+=K*U}if(y>=S?y=0:(D[0]+=4*j.v,j.ka=y-j.j,j.U=j.va-j.v,j.T=S-y,y=1),y){if(B=B[0],11>(y=c.ca).S){var it=y.f.RGBA,dt=(S=y.S,D=j.U,j=j.T,K=it.eb,it.A),ft=j;for(it=it.fb+c.Ma*it.A;0<ft--;){var lt=V,At=B,yt=D,st=K,ot=it;switch(S){case gl:lr(lt,At,yt,st,ot);break;case ml:tr(lt,At,yt,st,ot);break;case Ku:tr(lt,At,yt,st,ot),jr(st,ot,0,yt,1,0);break;case yf:Wi(lt,At,yt,st,ot);break;case yl:Fe(lt,At,yt,st,ot,1);break;case Yu:Fe(lt,At,yt,st,ot,1),jr(st,ot,0,yt,1,0);break;case vl:Fe(lt,At,yt,st,ot,0);break;case wl:Fe(lt,At,yt,st,ot,0),jr(st,ot,1,yt,1,0);break;case Gu:As(lt,At,yt,st,ot);break;case Xu:As(lt,At,yt,st,ot),Ve(st,ot,yt,1,0);break;case vf:zi(lt,At,yt,st,ot);break;default:t(0)}B+=U,it+=dt}c.Ma+=j}else alert("todo:EmitRescaledRowsYUVA");t(c.Ma<=y.height)}}c.C=h,t(c.C<=c.i)}function In(c){var h;if(0<c.ua)return 0;for(h=0;h<c.Wb;++h){var y=c.Ya[h].G,S=c.Ya[h].H;if(0<y[1][S[1]+0].g||0<y[2][S[2]+0].g||0<y[3][S[3]+0].g)return 0}return 1}function rr(c,h,y,S,D,j){if(c.Z!=0){var V=c.qd,B=c.rd;for(t(_s[c.Z]!=null);h<y;++h)_s[c.Z](V,B,S,D,S,D,j),V=S,B=D,D+=j;c.qd=V,c.rd=B}}function ir(c,h){var y=c.l.ma,S=y.Z==0||y.Z==1?c.l.j:c.C;if(S=c.C<S?S:c.C,t(h<=c.l.o),h>S){var D=c.l.width,j=y.ca,V=y.tb+D*S,B=c.V,U=c.Ba+c.c*S,K=c.gc;t(c.ab==1),t(K[0].hc==3),ul(K[0],S,h,B,U,j,V),rr(y,S,h,j,V,D)}c.C=c.Ma=h}function Yn(c,h,y,S,D,j,V){var B=c.$/S,U=c.$%S,K=c.m,it=c.s,dt=y+c.$,ft=dt;D=y+S*D;var lt=y+S*j,At=280+it.ua,yt=c.Pb?B:16777216,st=0<it.ua?it.Wa:null,ot=it.wc,wt=dt<lt?Ge(it,U,B):null;t(c.C<j),t(lt<=D);var It=!1;t:for(;;){for(;It||dt<lt;){var bt=0;if(B>=yt){var jt=dt-y;t((yt=c).Pb),yt.wd=yt.m,yt.xd=jt,0<yt.s.ua&&vt(yt.s.Wa,yt.s.vb),yt=B+j0}if(U&ot||(wt=Ge(it,U,B)),t(wt!=null),wt.Qb&&(h[dt]=wt.qb,It=!0),!It)if(nt(K),wt.jc){bt=K,jt=h;var Ft=dt,Jt=wt.pd[H(bt)&Ln-1];t(wt.jc),256>Jt.g?(Z(bt,bt.u+Jt.g),jt[Ft]=Jt.value,bt=0):(Z(bt,bt.u+Jt.g-256),t(256<=Jt.value),bt=Jt.value),bt==0&&(It=!0)}else bt=Rn(wt.G[0],wt.H[0],K);if(K.h)break;if(It||256>bt){if(!It)if(wt.nd)h[dt]=(wt.qb|bt<<8)>>>0;else{if(nt(K),It=Rn(wt.G[1],wt.H[1],K),nt(K),jt=Rn(wt.G[2],wt.H[2],K),Ft=Rn(wt.G[3],wt.H[3],K),K.h)break;h[dt]=(Ft<<24|It<<16|bt<<8|jt)>>>0}if(It=!1,++dt,++U>=S&&(U=0,++B,V!=null&&B<=j&&!(B%16)&&V(c,B),st!=null))for(;ft<dt;)bt=h[ft++],st.X[(506832829*bt&4294967295)>>>st.Mb]=bt}else if(280>bt){if(bt=mr(bt-256,K),jt=Rn(wt.G[4],wt.H[4],K),nt(K),jt=Kn(S,jt=mr(jt,K)),K.h)break;if(dt-y<jt||D-dt<bt)break t;for(Ft=0;Ft<bt;++Ft)h[dt+Ft]=h[dt+Ft-jt];for(dt+=bt,U+=bt;U>=S;)U-=S,++B,V!=null&&B<=j&&!(B%16)&&V(c,B);if(t(dt<=D),U&ot&&(wt=Ge(it,U,B)),st!=null)for(;ft<dt;)bt=h[ft++],st.X[(506832829*bt&4294967295)>>>st.Mb]=bt}else{if(!(bt<At))break t;for(It=bt-280,t(st!=null);ft<dt;)bt=h[ft++],st.X[(506832829*bt&4294967295)>>>st.Mb]=bt;bt=dt,t(!(It>>>(jt=st).Xa)),h[bt]=jt.X[It],It=!0}It||t(K.h==G(K))}if(c.Pb&&K.h&&dt<D)t(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&vt(c.s.vb,c.s.Wa);else{if(K.h)break t;V!=null&&V(c,B>j?j:B),c.a=0,c.$=dt-y}return 1}return c.a=3,0}function sr(c){t(c!=null),c.vc=null,c.yc=null,c.Ya=null;var h=c.Wa;h!=null&&(h.X=null),c.vb=null,t(c!=null)}function Xn(){var c=new sa;return c==null?null:(c.a=0,c.xb=Af,En("Predictor","VP8LPredictors"),En("Predictor","VP8LPredictors_C"),En("PredictorAdd","VP8LPredictorsAdd"),En("PredictorAdd","VP8LPredictorsAdd_C"),ll=pe,wo=Zt,lr=Ot,tr=dn,As=be,zi=Pn,Wi=Te,I.VP8LMapColor32b=ha,I.VP8LMapColor8b=hl,c)}function Nr(c,h,y,S,D){var j=1,V=[c],B=[h],U=S.m,K=S.s,it=null,dt=0;t:for(;;){if(y)for(;j&&at(U,1);){var ft=V,lt=B,At=S,yt=1,st=At.m,ot=At.gc[At.ab],wt=at(st,2);if(At.Oc&1<<wt)j=0;else{switch(At.Oc|=1<<wt,ot.hc=wt,ot.Ea=ft[0],ot.nc=lt[0],ot.K=[null],++At.ab,t(4>=At.ab),wt){case 0:case 1:ot.b=at(st,3)+2,yt=Nr(qt(ot.Ea,ot.b),qt(ot.nc,ot.b),0,At,ot.K),ot.K=ot.K[0];break;case 3:var It,bt=at(st,8)+1,jt=16<bt?0:4<bt?1:2<bt?2:3;if(ft[0]=qt(ot.Ea,jt),ot.b=jt,It=yt=Nr(bt,1,0,At,ot.K)){var Ft,Jt=bt,Dt=ot,xe=1<<(8>>Dt.b),Re=s(xe);if(Re==null)It=0;else{var Se=Dt.K[0],me=Dt.w;for(Re[0]=Dt.K[0][0],Ft=1;Ft<1*Jt;++Ft)Re[Ft]=xt(Se[me+Ft],Re[Ft-1]);for(;Ft<4*xe;++Ft)Re[Ft]=0;Dt.K[0]=null,Dt.K[0]=Re,It=1}}yt=It;break;case 2:break;default:t(0)}j=yt}}if(V=V[0],B=B[0],j&&at(U,1)&&!(j=1<=(dt=at(U,4))&&11>=dt)){S.a=3;break t}var Oe;if(Oe=j)e:{var De,ue,cn,ur=S,ln=V,hr=B,Le=dt,Ar=y,Er=ur.m,_n=ur.s,kn=[null],nr=1,qr=0,Si=M0[Le];n:for(;;){if(Ar&&at(Er,1)){var Tn=at(Er,3)+2,Xi=qt(ln,Tn),So=qt(hr,Tn),ma=Xi*So;if(!Nr(Xi,So,0,ur,kn))break n;for(kn=kn[0],_n.xc=Tn,De=0;De<ma;++De){var Ts=kn[De]>>8&65535;kn[De]=Ts,Ts>=nr&&(nr=Ts+1)}}if(Er.h)break n;for(ue=0;5>ue;++ue){var Je=wf[ue];!ue&&0<Le&&(Je+=1<<Le),qr<Je&&(qr=Je)}var $u=o(nr*Si,E),Cf=nr,Rf=o(Cf,W);if(Rf==null)var Il=null;else t(65536>=Cf),Il=Rf;var fc=s(qr);if(Il==null||fc==null||$u==null){ur.a=1;break n}var Sl=$u;for(De=cn=0;De<nr;++De){var ri=Il[De],ya=ri.G,va=ri.H,Lf=0,_l=1,kf=0;for(ue=0;5>ue;++ue){Je=wf[ue],ya[ue]=Sl,va[ue]=cn,!ue&&0<Le&&(Je+=1<<Le);i:{var Tl,th=Je,xl=ur,pc=fc,i2=Sl,s2=cn,eh=0,xs=xl.m,o2=at(xs,1);if(i(pc,0,0,th),o2){var a2=at(xs,1)+1,c2=at(xs,1),Ff=at(xs,c2==0?1:8);pc[Ff]=1,a2==2&&(pc[Ff=at(xs,8)]=1);var Pl=1}else{var Df=s(19),Of=at(xs,4)+4;if(19<Of){xl.a=3;var Nl=0;break i}for(Tl=0;Tl<Of;++Tl)Df[D0[Tl]]=at(xs,3);var nh=void 0,gc=void 0,Mf=xl,l2=Df,Cl=th,jf=pc,rh=0,Ps=Mf.m,Vf=8,Bf=o(128,E);r:for(;A(Bf,0,7,l2,19);){if(at(Ps,1)){var u2=2+2*at(Ps,3);if((nh=2+at(Ps,u2))>Cl)break r}else nh=Cl;for(gc=0;gc<Cl&&nh--;){nt(Ps);var qf=Bf[0+(127&H(Ps))];Z(Ps,Ps.u+qf.g);var wa=qf.value;if(16>wa)jf[gc++]=wa,wa!=0&&(Vf=wa);else{var h2=wa==16,Uf=wa-16,d2=k0[Uf],Hf=at(Ps,L0[Uf])+d2;if(gc+Hf>Cl)break r;for(var f2=h2?Vf:0;0<Hf--;)jf[gc++]=f2}}rh=1;break r}rh||(Mf.a=3),Pl=rh}(Pl=Pl&&!xs.h)&&(eh=A(i2,s2,8,pc,th)),Pl&&eh!=0?Nl=eh:(xl.a=3,Nl=0)}if(Nl==0)break n;if(_l&&F0[ue]==1&&(_l=Sl[cn].g==0),Lf+=Sl[cn].g,cn+=Nl,3>=ue){var mc,ih=fc[0];for(mc=1;mc<Je;++mc)fc[mc]>ih&&(ih=fc[mc]);kf+=ih}}if(ri.nd=_l,ri.Qb=0,_l&&(ri.qb=(ya[3][va[3]+0].value<<24|ya[1][va[1]+0].value<<16|ya[2][va[2]+0].value)>>>0,Lf==0&&256>ya[0][va[0]+0].value&&(ri.Qb=1,ri.qb+=ya[0][va[0]+0].value<<8)),ri.jc=!ri.Qb&&6>kf,ri.jc){var Rl,Qi=ri;for(Rl=0;Rl<Ln;++Rl){var Ns=Rl,Cs=Qi.pd[Ns],Ll=Qi.G[0][Qi.H[0]+Ns];256<=Ll.value?(Cs.g=Ll.g+256,Cs.value=Ll.value):(Cs.g=0,Cs.value=0,Ns>>=Qe(Ll,8,Cs),Ns>>=Qe(Qi.G[1][Qi.H[1]+Ns],16,Cs),Ns>>=Qe(Qi.G[2][Qi.H[2]+Ns],0,Cs),Qe(Qi.G[3][Qi.H[3]+Ns],24,Cs))}}}_n.vc=kn,_n.Wb=nr,_n.Ya=Il,_n.yc=$u,Oe=1;break e}Oe=0}if(!(j=Oe)){S.a=3;break t}if(0<dt){if(K.ua=1<<dt,!Gt(K.Wa,dt)){S.a=1,j=0;break t}}else K.ua=0;var sh=S,zf=V,p2=B,oh=sh.s,ah=oh.xc;if(sh.c=zf,sh.i=p2,oh.md=qt(zf,ah),oh.wc=ah==0?-1:(1<<ah)-1,y){S.xb=W0;break t}if((it=s(V*B))==null){S.a=1,j=0;break t}j=(j=Yn(S,it,0,V,B,B,null))&&!U.h;break t}return j?(D!=null?D[0]=it:(t(it==null),t(y)),S.$=0,y||sr(K)):sr(K),j}function di(c,h){var y=c.c*c.i,S=y+h+16*h;return t(c.c<=h),c.V=s(S),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+h,1)}function us(c,h){var y=c.C,S=h-y,D=c.V,j=c.Ba+c.c*y;for(t(h<=c.l.o);0<S;){var V=16<S?16:S,B=c.l.ma,U=c.l.width,K=U*V,it=B.ca,dt=B.tb+U*y,ft=c.Ta,lt=c.Ua;pn(c,V,D,j),tn(ft,lt,it,dt,K),rr(B,y,y+V,it,dt,U),S-=V,D+=V*c.c,y+=V}t(y==h),c.C=c.Ma=h}function Wr(){this.ub=this.yd=this.td=this.Rb=0}function Mi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function fi(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function pi(){this.Yb=function(){var c=[];return function h(y,S,D){for(var j=D[S],V=0;V<j&&(y.push(D.length>S+1?[]:0),!(D.length<S+1));V++)h(y[V],S+1,D)}(c,0,[3,11]),c}()}function Gr(){this.jb=s(3),this.Wc=l([4,8],pi),this.Xc=l([4,17],pi)}function oo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function hs(){this.ld=this.La=this.dd=this.tc=0}function ao(){this.Na=this.la=0}function Go(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ds(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function co(){this.uc=this.M=this.Nb=0,this.wa=Array(new hs),this.Y=0,this.ya=Array(new ds),this.aa=0,this.l=new ji}function fs(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ko(){this.cb=this.a=0,this.sc="",this.m=new mt,this.Od=new Wr,this.Kc=new Mi,this.ed=new oo,this.Qa=new fi,this.Ic=this.$c=this.Aa=0,this.D=new co,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,mt),this.ia=0,this.pb=o(4,Go),this.Pa=new Gr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fs),this.Hd=0,this.rb=Array(new ao),this.sb=0,this.wa=Array(new hs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ds),this.L=this.aa=0,this.gd=l([4,2],hs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ji(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Yo(){var c=new Ko;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,hc||(hc=gi)),c}function Ke(c,h,y){return c.a==0&&(c.a=h,c.sc=y,c.cb=0),0}function yr(c,h,y){return 3<=y&&c[h+0]==157&&c[h+1]==1&&c[h+2]==42}function Qn(c,h){if(c==null)return 0;if(c.a=0,c.sc="OK",h==null)return Ke(c,2,"null VP8Io passed to VP8GetHeaders()");var y=h.data,S=h.w,D=h.ha;if(4>D)return Ke(c,7,"Truncated header.");var j=y[S+0]|y[S+1]<<8|y[S+2]<<16,V=c.Od;if(V.Rb=!(1&j),V.td=j>>1&7,V.yd=j>>4&1,V.ub=j>>5,3<V.td)return Ke(c,3,"Incorrect keyframe parameters.");if(!V.yd)return Ke(c,4,"Frame not displayable.");S+=3,D-=3;var B=c.Kc;if(V.Rb){if(7>D)return Ke(c,7,"cannot parse picture header");if(!yr(y,S,D))return Ke(c,3,"Bad code word");B.c=16383&(y[S+4]<<8|y[S+3]),B.Td=y[S+4]>>6,B.i=16383&(y[S+6]<<8|y[S+5]),B.Ud=y[S+6]>>6,S+=7,D-=7,c.za=B.c+15>>4,c.Ub=B.i+15>>4,h.width=B.c,h.height=B.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((j=c.Pa).jb,0,255,j.jb.length),t((j=c.Qa)!=null),j.Cb=0,j.Bb=0,j.Fb=1,i(j.Zb,0,0,j.Zb.length),i(j.Lb,0,0,j.Lb)}if(V.ub>D)return Ke(c,7,"bad partition length");ct(j=c.m,y,S,V.ub),S+=V.ub,D-=V.ub,V.Rb&&(B.Ld=ht(j),B.Kd=ht(j)),B=c.Qa;var U,K=c.Pa;if(t(j!=null),t(B!=null),B.Cb=ht(j),B.Cb){if(B.Bb=ht(j),ht(j)){for(B.Fb=ht(j),U=0;4>U;++U)B.Zb[U]=ht(j)?X(j,7):0;for(U=0;4>U;++U)B.Lb[U]=ht(j)?X(j,6):0}if(B.Bb)for(U=0;3>U;++U)K.jb[U]=ht(j)?Q(j,8):255}else B.Bb=0;if(j.Ka)return Ke(c,3,"cannot parse segment header");if((B=c.ed).zd=ht(j),B.Tb=Q(j,6),B.wb=Q(j,3),B.Pc=ht(j),B.Pc&&ht(j)){for(K=0;4>K;++K)ht(j)&&(B.vd[K]=X(j,6));for(K=0;4>K;++K)ht(j)&&(B.od[K]=X(j,6))}if(c.L=B.Tb==0?0:B.zd?1:2,j.Ka)return Ke(c,3,"cannot parse filter header");var it=D;if(D=U=S,S=U+it,B=it,c.Xb=(1<<Q(c.m,2))-1,it<3*(K=c.Xb))y=7;else{for(U+=3*K,B-=3*K,it=0;it<K;++it){var dt=y[D+0]|y[D+1]<<8|y[D+2]<<16;dt>B&&(dt=B),ct(c.Jc[+it],y,U,dt),U+=dt,B-=dt,D+=3}ct(c.Jc[+K],y,U,B),y=U<S?0:5}if(y!=0)return Ke(c,y,"cannot parse partitions");for(y=Q(U=c.m,7),D=ht(U)?X(U,4):0,S=ht(U)?X(U,4):0,B=ht(U)?X(U,4):0,K=ht(U)?X(U,4):0,U=ht(U)?X(U,4):0,it=c.Qa,dt=0;4>dt;++dt){if(it.Cb){var ft=it.Zb[dt];it.Fb||(ft+=y)}else{if(0<dt){c.pb[dt]=c.pb[0];continue}ft=y}var lt=c.pb[dt];lt.Sc[0]=Qu[wr(ft+D,127)],lt.Sc[1]=Ju[wr(ft+0,127)],lt.Eb[0]=2*Qu[wr(ft+S,127)],lt.Eb[1]=101581*Ju[wr(ft+B,127)]>>16,8>lt.Eb[1]&&(lt.Eb[1]=8),lt.Qc[0]=Qu[wr(ft+K,117)],lt.Qc[1]=Ju[wr(ft+U,127)],lt.lc=ft+U}if(!V.Rb)return Ke(c,4,"Not a key frame.");for(ht(j),V=c.Pa,y=0;4>y;++y){for(D=0;8>D;++D)for(S=0;3>S;++S)for(B=0;11>B;++B)K=pt(j,H0[y][D][S][B])?Q(j,8):q0[y][D][S][B],V.Wc[y][D].Yb[S][B]=K;for(D=0;17>D;++D)V.Xc[y][D]=V.Wc[y][z0[D]]}return c.kc=ht(j),c.kc&&(c.Bd=Q(j,8)),c.cb=1}function gi(c,h,y,S,D,j,V){var B=h[D].Yb[y];for(y=0;16>D;++D){if(!pt(c,B[y+0]))return D;for(;!pt(c,B[y+1]);)if(B=h[++D].Yb[0],y=0,D==16)return 16;var U=h[D+1].Yb;if(pt(c,B[y+2])){var K=c,it=0;if(pt(K,(ft=B)[(dt=y)+3]))if(pt(K,ft[dt+6])){for(B=0,dt=2*(it=pt(K,ft[dt+8]))+(ft=pt(K,ft[dt+9+it])),it=0,ft=V0[dt];ft[B];++B)it+=it+pt(K,ft[B]);it+=3+(8<<dt)}else pt(K,ft[dt+7])?(it=7+2*pt(K,165),it+=pt(K,145)):it=5+pt(K,159);else it=pt(K,ft[dt+4])?3+pt(K,ft[dt+5]):2;B=U[2]}else it=1,B=U[1];U=V+B0[D],0>(K=c).b&&ut(K);var dt,ft=K.b,lt=(dt=K.Ca>>1)-(K.I>>ft)>>31;--K.b,K.Ca+=lt,K.Ca|=1,K.I-=(dt+1&lt)<<ft,j[U]=((it^lt)-lt)*S[(0<D)+0]}return 16}function Kr(c){var h=c.rb[c.sb-1];h.la=0,h.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function lo(c,h){if(c==null)return 0;if(h==null)return Ke(c,2,"NULL VP8Io parameter in VP8Decode().");if(!c.cb&&!Qn(c,h))return 0;if(t(c.cb),h.ac==null||h.ac(h)){h.ob&&(c.L=0);var y=El[c.L];if(c.L==2?(c.yb=0,c.zb=0):(c.yb=h.v-y>>4,c.zb=h.j-y>>4,0>c.yb&&(c.yb=0),0>c.zb&&(c.zb=0)),c.Va=h.o+15+y>>4,c.Hb=h.va+15+y>>4,c.Hb>c.za&&(c.Hb=c.za),c.Va>c.Ub&&(c.Va=c.Ub),0<c.L){var S=c.ed;for(y=0;4>y;++y){var D;if(c.Qa.Cb){var j=c.Qa.Lb[y];c.Qa.Fb||(j+=S.Tb)}else j=S.Tb;for(D=0;1>=D;++D){var V=c.gd[y][D],B=j;if(S.Pc&&(B+=S.vd[0],D&&(B+=S.od[0])),0<(B=0>B?0:63<B?63:B)){var U=B;0<S.wb&&(U=4<S.wb?U>>2:U>>1)>9-S.wb&&(U=9-S.wb),1>U&&(U=1),V.dd=U,V.tc=2*B+U,V.ld=40<=B?2:15<=B?1:0}else V.tc=0;V.La=D}}}y=0}else Ke(c,6,"Frame setup failed"),y=c.a;if(y=y==0){if(y){c.$c=0,0<c.Aa||(c.Ic=r2);t:{y=c.Ic,S=4*(U=c.za);var K=32*U,it=U+1,dt=0<c.L?U*(0<c.Aa?2:1):0,ft=(c.Aa==2?2:1)*U;if((V=S+832+(D=3*(16*y+El[c.L])/2*K)+(j=c.Fa!=null&&0<c.Fa.length?c.Kc.c*c.Kc.i:0))!=V)y=0;else{if(V>c.Vb){if(c.Vb=0,c.Ec=s(V),c.Fc=0,c.Ec==null){y=Ke(c,1,"no memory during frame initialization.");break t}c.Vb=V}V=c.Ec,B=c.Fc,c.Ac=V,c.Bc=B,B+=S,c.Gd=o(K,fs),c.Hd=0,c.rb=o(it+1,ao),c.sb=1,c.wa=dt?o(dt,hs):null,c.Y=0,c.D.Nb=0,c.D.wa=c.wa,c.D.Y=c.Y,0<c.Aa&&(c.D.Y+=U),t(!0),c.oc=V,c.pc=B,B+=832,c.ya=o(ft,ds),c.aa=0,c.D.ya=c.ya,c.D.aa=c.aa,c.Aa==2&&(c.D.aa+=U),c.R=16*U,c.B=8*U,U=(K=El[c.L])*c.R,K=K/2*c.B,c.sa=V,c.ta=B+U,c.qa=c.sa,c.ra=c.ta+16*y*c.R+K,c.Ha=c.qa,c.Ia=c.ra+8*y*c.B+K,c.$c=0,B+=D,c.mb=j?V:null,c.nb=j?B:null,t(B+j<=c.Fc+c.Vb),Kr(c),i(c.Ac,c.Bc,0,S),y=1}}if(y){if(h.ka=0,h.y=c.sa,h.O=c.ta,h.f=c.qa,h.N=c.ra,h.ea=c.Ha,h.Vd=c.Ia,h.fa=c.R,h.Rc=c.B,h.F=null,h.J=0,!fl){for(y=-255;255>=y;++y)mn[255+y]=0>y?-y:y;for(y=-1020;1020>=y;++y)Ki[1020+y]=-128>y?-128:127<y?127:y;for(y=-112;112>=y;++y)uc[112+y]=-16>y?-16:15<y?15:y;for(y=-255;510>=y;++y)ga[255+y]=0>y?0:255<y?255:y;fl=1}da=Ja,Gi=Qo,ac=Jo,er=Qa,Or=Zo,$e=Xo,fa=ti,dl=bi,cc=mo,bo=ys,Ao=ia,Es=Ai,Eo=Ei,pa=yo,Io=gs,Is=Zn,lc=kr,Mr=ms,ni[0]=Jn,ni[1]=Jr,ni[2]=$a,ni[3]=uo,ni[4]=ho,ni[5]=Rr,ni[6]=mi,ni[7]=ps,ni[8]=je,ni[9]=fo,Ss[0]=Zr,Ss[1]=ta,Ss[2]=Cr,Ss[3]=Vi,Ss[4]=Sn,Ss[5]=Za,Ss[6]=ea,Yi[0]=$r,Yi[1]=$o,Yi[2]=tc,Yi[3]=po,Yi[4]=Lr,Yi[5]=na,Yi[6]=or,y=1}else y=0}y&&(y=function(lt,At){for(lt.M=0;lt.M<lt.Va;++lt.M){var yt,st=lt.Jc[lt.M&lt.Xb],ot=lt.m,wt=lt;for(yt=0;yt<wt.za;++yt){var It=ot,bt=wt,jt=bt.Ac,Ft=bt.Bc+4*yt,Jt=bt.zc,Dt=bt.ya[bt.aa+yt];if(bt.Qa.Bb?Dt.$b=pt(It,bt.Pa.jb[0])?2+pt(It,bt.Pa.jb[2]):pt(It,bt.Pa.jb[1]):Dt.$b=0,bt.kc&&(Dt.Ad=pt(It,bt.Bd)),Dt.Za=!pt(It,145)+0,Dt.Za){var xe=Dt.Ob,Re=0;for(bt=0;4>bt;++bt){var Se,me=Jt[0+bt];for(Se=0;4>Se;++Se){me=U0[jt[Ft+Se]][me];for(var Oe=bf[pt(It,me[0])];0<Oe;)Oe=bf[2*Oe+pt(It,me[Oe])];me=-Oe,jt[Ft+Se]=me}r(xe,Re,jt,Ft,4),Re+=4,Jt[0+bt]=me}}else me=pt(It,156)?pt(It,128)?1:3:pt(It,163)?2:0,Dt.Ob[0]=me,i(jt,Ft,me,4),i(Jt,0,me,4);Dt.Dd=pt(It,142)?pt(It,114)?pt(It,183)?1:3:2:0}if(wt.m.Ka)return Ke(lt,7,"Premature end-of-partition0 encountered.");for(;lt.ja<lt.za;++lt.ja){if(wt=st,It=(ot=lt).rb[ot.sb-1],jt=ot.rb[ot.sb+ot.ja],yt=ot.ya[ot.aa+ot.ja],Ft=ot.kc?yt.Ad:0)It.la=jt.la=0,yt.Za||(It.Na=jt.Na=0),yt.Hc=0,yt.Gc=0,yt.ia=0;else{var De,ue;if(It=jt,jt=wt,Ft=ot.Pa.Xc,Jt=ot.ya[ot.aa+ot.ja],Dt=ot.pb[Jt.$b],bt=Jt.ad,xe=0,Re=ot.rb[ot.sb-1],me=Se=0,i(bt,xe,0,384),Jt.Za)var cn=0,ur=Ft[3];else{Oe=s(16);var ln=It.Na+Re.Na;if(ln=hc(jt,Ft[1],ln,Dt.Eb,0,Oe,0),It.Na=Re.Na=(0<ln)+0,1<ln)da(Oe,0,bt,xe);else{var hr=Oe[0]+3>>3;for(Oe=0;256>Oe;Oe+=16)bt[xe+Oe]=hr}cn=1,ur=Ft[0]}var Le=15&It.la,Ar=15&Re.la;for(Oe=0;4>Oe;++Oe){var Er=1&Ar;for(hr=ue=0;4>hr;++hr)Le=Le>>1|(Er=(ln=hc(jt,ur,ln=Er+(1&Le),Dt.Sc,cn,bt,xe))>cn)<<7,ue=ue<<2|(3<ln?3:1<ln?2:bt[xe+0]!=0),xe+=16;Le>>=4,Ar=Ar>>1|Er<<7,Se=(Se<<8|ue)>>>0}for(ur=Le,cn=Ar>>4,De=0;4>De;De+=2){for(ue=0,Le=It.la>>4+De,Ar=Re.la>>4+De,Oe=0;2>Oe;++Oe){for(Er=1&Ar,hr=0;2>hr;++hr)ln=Er+(1&Le),Le=Le>>1|(Er=0<(ln=hc(jt,Ft[2],ln,Dt.Qc,0,bt,xe)))<<3,ue=ue<<2|(3<ln?3:1<ln?2:bt[xe+0]!=0),xe+=16;Le>>=2,Ar=Ar>>1|Er<<5}me|=ue<<4*De,ur|=Le<<4<<De,cn|=(240&Ar)<<De}It.la=ur,Re.la=cn,Jt.Hc=Se,Jt.Gc=me,Jt.ia=43690&me?0:Dt.ia,Ft=!(Se|me)}if(0<ot.L&&(ot.wa[ot.Y+ot.ja]=ot.gd[yt.$b][yt.Za],ot.wa[ot.Y+ot.ja].La|=!Ft),wt.Ka)return Ke(lt,7,"Premature end-of-file encountered.")}if(Kr(lt),ot=At,wt=1,yt=(st=lt).D,It=0<st.L&&st.M>=st.zb&&st.M<=st.Va,st.Aa==0)t:{if(yt.M=st.M,yt.uc=It,nc(st,yt),wt=1,yt=(ue=st.D).Nb,It=(me=El[st.L])*st.R,jt=me/2*st.B,Oe=16*yt*st.R,hr=8*yt*st.B,Ft=st.sa,Jt=st.ta-It+Oe,Dt=st.qa,bt=st.ra-jt+hr,xe=st.Ha,Re=st.Ia-jt+hr,Ar=(Le=ue.M)==0,Se=Le>=st.Va-1,st.Aa==2&&nc(st,ue),ue.uc)for(Er=(ln=st).D.M,t(ln.D.uc),ue=ln.yb;ue<ln.Hb;++ue){cn=ue,ur=Er;var _n=(kn=(Je=ln).D).Nb;De=Je.R;var kn=kn.wa[kn.Y+cn],nr=Je.sa,qr=Je.ta+16*_n*De+16*cn,Si=kn.dd,Tn=kn.tc;if(Tn!=0)if(t(3<=Tn),Je.L==1)0<cn&&Is(nr,qr,De,Tn+4),kn.La&&Mr(nr,qr,De,Tn),0<ur&&Io(nr,qr,De,Tn+4),kn.La&&lc(nr,qr,De,Tn);else{var Xi=Je.B,So=Je.qa,ma=Je.ra+8*_n*Xi+8*cn,Ts=Je.Ha,Je=Je.Ia+8*_n*Xi+8*cn;_n=kn.ld,0<cn&&(dl(nr,qr,De,Tn+4,Si,_n),bo(So,ma,Ts,Je,Xi,Tn+4,Si,_n)),kn.La&&(Es(nr,qr,De,Tn,Si,_n),pa(So,ma,Ts,Je,Xi,Tn,Si,_n)),0<ur&&(fa(nr,qr,De,Tn+4,Si,_n),cc(So,ma,Ts,Je,Xi,Tn+4,Si,_n)),kn.La&&(Ao(nr,qr,De,Tn,Si,_n),Eo(So,ma,Ts,Je,Xi,Tn,Si,_n))}}if(st.ia&&alert("todo:DitherRow"),ot.put!=null){if(ue=16*Le,Le=16*(Le+1),Ar?(ot.y=st.sa,ot.O=st.ta+Oe,ot.f=st.qa,ot.N=st.ra+hr,ot.ea=st.Ha,ot.W=st.Ia+hr):(ue-=me,ot.y=Ft,ot.O=Jt,ot.f=Dt,ot.N=bt,ot.ea=xe,ot.W=Re),Se||(Le-=me),Le>ot.o&&(Le=ot.o),ot.F=null,ot.J=null,st.Fa!=null&&0<st.Fa.length&&ue<Le&&(ot.J=ws(st,ot,ue,Le-ue),ot.F=st.mb,ot.F==null&&ot.F.length==0)){wt=Ke(st,3,"Could not decode alpha data.");break t}ue<ot.j&&(me=ot.j-ue,ue=ot.j,t(!(1&me)),ot.O+=st.R*me,ot.N+=st.B*(me>>1),ot.W+=st.B*(me>>1),ot.F!=null&&(ot.J+=ot.width*me)),ue<Le&&(ot.O+=ot.v,ot.N+=ot.v>>1,ot.W+=ot.v>>1,ot.F!=null&&(ot.J+=ot.v),ot.ka=ue-ot.j,ot.U=ot.va-ot.v,ot.T=Le-ue,wt=ot.put(ot))}yt+1!=st.Ic||Se||(r(st.sa,st.ta-It,Ft,Jt+16*st.R,It),r(st.qa,st.ra-jt,Dt,bt+8*st.B,jt),r(st.Ha,st.Ia-jt,xe,Re+8*st.B,jt))}if(!wt)return Ke(lt,6,"Output aborted.")}return 1}(c,h)),h.bc!=null&&h.bc(h),y&=1}return y?(c.cb=0,y):0}function fe(c,h,y,S,D){D=c[h+y+32*S]+(D>>3),c[h+y+32*S]=-256&D?0>D?0:255:D}function Yr(c,h,y,S,D,j){fe(c,h,0,y,S+D),fe(c,h,1,y,S+j),fe(c,h,2,y,S-j),fe(c,h,3,y,S-D)}function an(c){return(20091*c>>16)+c}function Xr(c,h,y,S){var D,j=0,V=s(16);for(D=0;4>D;++D){var B=c[h+0]+c[h+8],U=c[h+0]-c[h+8],K=(35468*c[h+4]>>16)-an(c[h+12]),it=an(c[h+4])+(35468*c[h+12]>>16);V[j+0]=B+it,V[j+1]=U+K,V[j+2]=U-K,V[j+3]=B-it,j+=4,h++}for(D=j=0;4>D;++D)B=(c=V[j+0]+4)+V[j+8],U=c-V[j+8],K=(35468*V[j+4]>>16)-an(V[j+12]),fe(y,S,0,0,B+(it=an(V[j+4])+(35468*V[j+12]>>16))),fe(y,S,1,0,U+K),fe(y,S,2,0,U-K),fe(y,S,3,0,B-it),j++,S+=32}function Xo(c,h,y,S){var D=c[h+0]+4,j=35468*c[h+4]>>16,V=an(c[h+4]),B=35468*c[h+1]>>16;Yr(y,S,0,D+V,c=an(c[h+1]),B),Yr(y,S,1,D+j,c,B),Yr(y,S,2,D-j,c,B),Yr(y,S,3,D-V,c,B)}function Qo(c,h,y,S,D){Xr(c,h,y,S),D&&Xr(c,h+16,y,S+4)}function Jo(c,h,y,S){Gi(c,h+0,y,S,1),Gi(c,h+32,y,S+128,1)}function Qa(c,h,y,S){var D;for(c=c[h+0]+4,D=0;4>D;++D)for(h=0;4>h;++h)fe(y,S,h,D,c)}function Zo(c,h,y,S){c[h+0]&&er(c,h+0,y,S),c[h+16]&&er(c,h+16,y,S+4),c[h+32]&&er(c,h+32,y,S+128),c[h+48]&&er(c,h+48,y,S+128+4)}function Ja(c,h,y,S){var D,j=s(16);for(D=0;4>D;++D){var V=c[h+0+D]+c[h+12+D],B=c[h+4+D]+c[h+8+D],U=c[h+4+D]-c[h+8+D],K=c[h+0+D]-c[h+12+D];j[0+D]=V+B,j[8+D]=V-B,j[4+D]=K+U,j[12+D]=K-U}for(D=0;4>D;++D)V=(c=j[0+4*D]+3)+j[3+4*D],B=j[1+4*D]+j[2+4*D],U=j[1+4*D]-j[2+4*D],K=c-j[3+4*D],y[S+0]=V+B>>3,y[S+16]=K+U>>3,y[S+32]=V-B>>3,y[S+48]=K-U>>3,S+=64}function Qr(c,h,y){var S,D=h-32,j=br,V=255-c[D-1];for(S=0;S<y;++S){var B,U=j,K=V+c[h-1];for(B=0;B<y;++B)c[h+B]=U[K+c[D+B]];h+=32}}function Jr(c,h){Qr(c,h,4)}function $o(c,h){Qr(c,h,8)}function ta(c,h){Qr(c,h,16)}function Cr(c,h){var y;for(y=0;16>y;++y)r(c,h+32*y,c,h-32,16)}function Vi(c,h){var y;for(y=16;0<y;--y)i(c,h,c[h-1],16),h+=32}function Bi(c,h,y){var S;for(S=0;16>S;++S)i(h,y+32*S,c,16)}function Zr(c,h){var y,S=16;for(y=0;16>y;++y)S+=c[h-1+32*y]+c[h+y-32];Bi(S>>5,c,h)}function Sn(c,h){var y,S=8;for(y=0;16>y;++y)S+=c[h-1+32*y];Bi(S>>4,c,h)}function Za(c,h){var y,S=8;for(y=0;16>y;++y)S+=c[h+y-32];Bi(S>>4,c,h)}function ea(c,h){Bi(128,c,h)}function Wt(c,h,y){return c+2*h+y+2>>2}function $a(c,h){var y,S=h-32;for(S=new Uint8Array([Wt(c[S-1],c[S+0],c[S+1]),Wt(c[S+0],c[S+1],c[S+2]),Wt(c[S+1],c[S+2],c[S+3]),Wt(c[S+2],c[S+3],c[S+4])]),y=0;4>y;++y)r(c,h+32*y,S,0,S.length)}function uo(c,h){var y=c[h-1],S=c[h-1+32],D=c[h-1+64],j=c[h-1+96];Tt(c,h+0,16843009*Wt(c[h-1-32],y,S)),Tt(c,h+32,16843009*Wt(y,S,D)),Tt(c,h+64,16843009*Wt(S,D,j)),Tt(c,h+96,16843009*Wt(D,j,j))}function Jn(c,h){var y,S=4;for(y=0;4>y;++y)S+=c[h+y-32]+c[h-1+32*y];for(S>>=3,y=0;4>y;++y)i(c,h+32*y,S,4)}function ho(c,h){var y=c[h-1+0],S=c[h-1+32],D=c[h-1+64],j=c[h-1-32],V=c[h+0-32],B=c[h+1-32],U=c[h+2-32],K=c[h+3-32];c[h+0+96]=Wt(S,D,c[h-1+96]),c[h+1+96]=c[h+0+64]=Wt(y,S,D),c[h+2+96]=c[h+1+64]=c[h+0+32]=Wt(j,y,S),c[h+3+96]=c[h+2+64]=c[h+1+32]=c[h+0+0]=Wt(V,j,y),c[h+3+64]=c[h+2+32]=c[h+1+0]=Wt(B,V,j),c[h+3+32]=c[h+2+0]=Wt(U,B,V),c[h+3+0]=Wt(K,U,B)}function mi(c,h){var y=c[h+1-32],S=c[h+2-32],D=c[h+3-32],j=c[h+4-32],V=c[h+5-32],B=c[h+6-32],U=c[h+7-32];c[h+0+0]=Wt(c[h+0-32],y,S),c[h+1+0]=c[h+0+32]=Wt(y,S,D),c[h+2+0]=c[h+1+32]=c[h+0+64]=Wt(S,D,j),c[h+3+0]=c[h+2+32]=c[h+1+64]=c[h+0+96]=Wt(D,j,V),c[h+3+32]=c[h+2+64]=c[h+1+96]=Wt(j,V,B),c[h+3+64]=c[h+2+96]=Wt(V,B,U),c[h+3+96]=Wt(B,U,U)}function Rr(c,h){var y=c[h-1+0],S=c[h-1+32],D=c[h-1+64],j=c[h-1-32],V=c[h+0-32],B=c[h+1-32],U=c[h+2-32],K=c[h+3-32];c[h+0+0]=c[h+1+64]=j+V+1>>1,c[h+1+0]=c[h+2+64]=V+B+1>>1,c[h+2+0]=c[h+3+64]=B+U+1>>1,c[h+3+0]=U+K+1>>1,c[h+0+96]=Wt(D,S,y),c[h+0+64]=Wt(S,y,j),c[h+0+32]=c[h+1+96]=Wt(y,j,V),c[h+1+32]=c[h+2+96]=Wt(j,V,B),c[h+2+32]=c[h+3+96]=Wt(V,B,U),c[h+3+32]=Wt(B,U,K)}function ps(c,h){var y=c[h+0-32],S=c[h+1-32],D=c[h+2-32],j=c[h+3-32],V=c[h+4-32],B=c[h+5-32],U=c[h+6-32],K=c[h+7-32];c[h+0+0]=y+S+1>>1,c[h+1+0]=c[h+0+64]=S+D+1>>1,c[h+2+0]=c[h+1+64]=D+j+1>>1,c[h+3+0]=c[h+2+64]=j+V+1>>1,c[h+0+32]=Wt(y,S,D),c[h+1+32]=c[h+0+96]=Wt(S,D,j),c[h+2+32]=c[h+1+96]=Wt(D,j,V),c[h+3+32]=c[h+2+96]=Wt(j,V,B),c[h+3+64]=Wt(V,B,U),c[h+3+96]=Wt(B,U,K)}function fo(c,h){var y=c[h-1+0],S=c[h-1+32],D=c[h-1+64],j=c[h-1+96];c[h+0+0]=y+S+1>>1,c[h+2+0]=c[h+0+32]=S+D+1>>1,c[h+2+32]=c[h+0+64]=D+j+1>>1,c[h+1+0]=Wt(y,S,D),c[h+3+0]=c[h+1+32]=Wt(S,D,j),c[h+3+32]=c[h+1+64]=Wt(D,j,j),c[h+3+64]=c[h+2+64]=c[h+0+96]=c[h+1+96]=c[h+2+96]=c[h+3+96]=j}function je(c,h){var y=c[h-1+0],S=c[h-1+32],D=c[h-1+64],j=c[h-1+96],V=c[h-1-32],B=c[h+0-32],U=c[h+1-32],K=c[h+2-32];c[h+0+0]=c[h+2+32]=y+V+1>>1,c[h+0+32]=c[h+2+64]=S+y+1>>1,c[h+0+64]=c[h+2+96]=D+S+1>>1,c[h+0+96]=j+D+1>>1,c[h+3+0]=Wt(B,U,K),c[h+2+0]=Wt(V,B,U),c[h+1+0]=c[h+3+32]=Wt(y,V,B),c[h+1+32]=c[h+3+64]=Wt(S,y,V),c[h+1+64]=c[h+3+96]=Wt(D,S,y),c[h+1+96]=Wt(j,D,S)}function tc(c,h){var y;for(y=0;8>y;++y)r(c,h+32*y,c,h-32,8)}function po(c,h){var y;for(y=0;8>y;++y)i(c,h,c[h-1],8),h+=32}function yi(c,h,y){var S;for(S=0;8>S;++S)i(h,y+32*S,c,8)}function $r(c,h){var y,S=8;for(y=0;8>y;++y)S+=c[h+y-32]+c[h-1+32*y];yi(S>>4,c,h)}function na(c,h){var y,S=4;for(y=0;8>y;++y)S+=c[h+y-32];yi(S>>3,c,h)}function Lr(c,h){var y,S=4;for(y=0;8>y;++y)S+=c[h-1+32*y];yi(S>>3,c,h)}function or(c,h){yi(128,c,h)}function qi(c,h,y){var S=c[h-y],D=c[h+0],j=3*(D-S)+Wu[1020+c[h-2*y]-c[h+y]],V=pl[112+(j+4>>3)];c[h-y]=br[255+S+pl[112+(j+3>>3)]],c[h+0]=br[255+D-V]}function ra(c,h,y,S){var D=c[h+0],j=c[h+y];return Vr[255+c[h-2*y]-c[h-y]]>S||Vr[255+j-D]>S}function vi(c,h,y,S){return 4*Vr[255+c[h-y]-c[h+0]]+Vr[255+c[h-2*y]-c[h+y]]<=S}function go(c,h,y,S,D){var j=c[h-3*y],V=c[h-2*y],B=c[h-y],U=c[h+0],K=c[h+y],it=c[h+2*y],dt=c[h+3*y];return 4*Vr[255+B-U]+Vr[255+V-K]>S?0:Vr[255+c[h-4*y]-j]<=D&&Vr[255+j-V]<=D&&Vr[255+V-B]<=D&&Vr[255+dt-it]<=D&&Vr[255+it-K]<=D&&Vr[255+K-U]<=D}function gs(c,h,y,S){var D=2*S+1;for(S=0;16>S;++S)vi(c,h+S,y,D)&&qi(c,h+S,y)}function Zn(c,h,y,S){var D=2*S+1;for(S=0;16>S;++S)vi(c,h+S*y,1,D)&&qi(c,h+S*y,1)}function kr(c,h,y,S){var D;for(D=3;0<D;--D)gs(c,h+=4*y,y,S)}function ms(c,h,y,S){var D;for(D=3;0<D;--D)Zn(c,h+=4,y,S)}function wi(c,h,y,S,D,j,V,B){for(j=2*j+1;0<D--;){if(go(c,h,y,j,V))if(ra(c,h,y,B))qi(c,h,y);else{var U=c,K=h,it=y,dt=U[K-2*it],ft=U[K-it],lt=U[K+0],At=U[K+it],yt=U[K+2*it],st=27*(wt=Wu[1020+3*(lt-ft)+Wu[1020+dt-At]])+63>>7,ot=18*wt+63>>7,wt=9*wt+63>>7;U[K-3*it]=br[255+U[K-3*it]+wt],U[K-2*it]=br[255+dt+ot],U[K-it]=br[255+ft+st],U[K+0]=br[255+lt-st],U[K+it]=br[255+At-ot],U[K+2*it]=br[255+yt-wt]}h+=S}}function ar(c,h,y,S,D,j,V,B){for(j=2*j+1;0<D--;){if(go(c,h,y,j,V))if(ra(c,h,y,B))qi(c,h,y);else{var U=c,K=h,it=y,dt=U[K-it],ft=U[K+0],lt=U[K+it],At=pl[112+((yt=3*(ft-dt))+4>>3)],yt=pl[112+(yt+3>>3)],st=At+1>>1;U[K-2*it]=br[255+U[K-2*it]+st],U[K-it]=br[255+dt+yt],U[K+0]=br[255+ft-At],U[K+it]=br[255+lt-st]}h+=S}}function ti(c,h,y,S,D,j){wi(c,h,y,1,16,S,D,j)}function bi(c,h,y,S,D,j){wi(c,h,1,y,16,S,D,j)}function ia(c,h,y,S,D,j){var V;for(V=3;0<V;--V)ar(c,h+=4*y,y,1,16,S,D,j)}function Ai(c,h,y,S,D,j){var V;for(V=3;0<V;--V)ar(c,h+=4,1,y,16,S,D,j)}function mo(c,h,y,S,D,j,V,B){wi(c,h,D,1,8,j,V,B),wi(y,S,D,1,8,j,V,B)}function ys(c,h,y,S,D,j,V,B){wi(c,h,1,D,8,j,V,B),wi(y,S,1,D,8,j,V,B)}function Ei(c,h,y,S,D,j,V,B){ar(c,h+4*D,D,1,8,j,V,B),ar(y,S+4*D,D,1,8,j,V,B)}function yo(c,h,y,S,D,j,V,B){ar(c,h+4,1,D,8,j,V,B),ar(y,S+4,1,D,8,j,V,B)}function Ui(){this.ba=new Nn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new de,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function vr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function vs(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function vo(){this.ua=0,this.Wa=new rt,this.vb=new rt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new E}function sa(){this.xb=this.a=0,this.l=new ji,this.ca=new Nn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new vo,this.ab=0,this.gc=o(4,vs),this.Oc=0}function Hi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ji,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Fr(c,h,y,S,D,j,V){for(c=c==null?0:c[h+0],h=0;h<V;++h)D[j+h]=c+y[S+h]&255,c=D[j+h]}function gn(c,h,y,S,D,j,V){var B;if(c==null)Fr(null,null,y,S,D,j,V);else for(B=0;B<V;++B)D[j+B]=c[h+B]+y[S+B]&255}function ei(c,h,y,S,D,j,V){if(c==null)Fr(null,null,y,S,D,j,V);else{var B,U=c[h+0],K=U,it=U;for(B=0;B<V;++B)K=it+(U=c[h+B])-K,it=y[S+B]+(-256&K?0>K?0:255:K)&255,K=U,D[j+B]=it}}function ws(c,h,y,S){var D=h.width,j=h.o;if(t(c!=null&&h!=null),0>y||0>=S||y+S>j)return null;if(!c.Cc){if(c.ga==null){var V;if(c.ga=new Hi,(V=c.ga==null)||(V=h.width*h.o,t(c.Gb.length==0),c.Gb=s(V),c.Uc=0,c.Gb==null?V=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,V=1),V=!V),!V){V=c.ga;var B=c.Fa,U=c.P,K=c.qc,it=c.mb,dt=c.nb,ft=U+1,lt=K-1,At=V.l;if(t(B!=null&&it!=null&&h!=null),_s[0]=null,_s[1]=Fr,_s[2]=gn,_s[3]=ei,V.ca=it,V.tb=dt,V.c=h.width,V.i=h.height,t(0<V.c&&0<V.i),1>=K)h=0;else if(V.$a=B[U+0]>>0&3,V.Z=B[U+0]>>2&3,V.Lc=B[U+0]>>4&3,U=B[U+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||U)h=0;else if(At.put=Pr,At.ac=fn,At.bc=Cn,At.ma=V,At.width=h.width,At.height=h.height,At.Da=h.Da,At.v=h.v,At.va=h.va,At.j=h.j,At.o=h.o,V.$a)t:{t(V.$a==1),h=Xn();e:for(;;){if(h==null){h=0;break t}if(t(V!=null),V.mc=h,h.c=V.c,h.i=V.i,h.l=V.l,h.l.ma=V,h.l.width=V.c,h.l.height=V.i,h.a=0,et(h.m,B,ft,lt),!Nr(V.c,V.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&In(h.s)?(V.ic=1,B=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(B),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(V.ic=0,h=di(h,V.c)),!h))break e;h=1;break t}V.mc=null,h=0}else h=lt>=V.c*V.i;V=!h}if(V)return null;c.ga.Lc!=1?c.Ga=0:S=j-y}t(c.ga!=null),t(y+S<=j);t:{if(h=(B=c.ga).c,j=B.l.o,B.$a==0){if(ft=c.rc,lt=c.Vc,At=c.Fa,U=c.P+1+y*h,K=c.mb,it=c.nb+y*h,t(U<=c.P+c.qc),B.Z!=0)for(t(_s[B.Z]!=null),V=0;V<S;++V)_s[B.Z](ft,lt,At,U,K,it,h),ft=K,lt=it,it+=h,U+=h;else for(V=0;V<S;++V)r(K,it,At,U,h),ft=K,lt=it,it+=h,U+=h;c.rc=ft,c.Vc=lt}else{if(t(B.mc!=null),h=y+S,t((V=B.mc)!=null),t(h<=V.i),V.C>=h)h=1;else if(B.ic||x(),B.ic){B=V.V,ft=V.Ba,lt=V.c;var yt=V.i,st=(At=1,U=V.$/lt,K=V.$%lt,it=V.m,dt=V.s,V.$),ot=lt*yt,wt=lt*h,It=dt.wc,bt=st<wt?Ge(dt,K,U):null;t(st<=ot),t(h<=yt),t(In(dt));e:for(;;){for(;!it.h&&st<wt;){if(K&It||(bt=Ge(dt,K,U)),t(bt!=null),nt(it),256>(yt=Rn(bt.G[0],bt.H[0],it)))B[ft+st]=yt,++st,++K>=lt&&(K=0,++U<=h&&!(U%16)&&ir(V,U));else{if(!(280>yt)){At=0;break e}yt=mr(yt-256,it);var jt,Ft=Rn(bt.G[4],bt.H[4],it);if(nt(it),!(st>=(Ft=Kn(lt,Ft=mr(Ft,it)))&&ot-st>=yt)){At=0;break e}for(jt=0;jt<yt;++jt)B[ft+st+jt]=B[ft+st+jt-Ft];for(st+=yt,K+=yt;K>=lt;)K-=lt,++U<=h&&!(U%16)&&ir(V,U);st<wt&&K&It&&(bt=Ge(dt,K,U))}t(it.h==G(it))}ir(V,U>h?h:U);break e}!At||it.h&&st<ot?(At=0,V.a=it.h?5:3):V.$=st,h=At}else h=Yn(V,V.V,V.Ba,V.c,V.i,h,us);if(!h){S=0;break t}}y+S>=j&&(c.Cc=1),S=1}if(!S)return null;if(c.Cc&&((S=c.ga)!=null&&(S.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*D}function p(c,h,y,S,D,j){for(;0<D--;){var V,B=c,U=h+(y?1:0),K=c,it=h+(y?0:3);for(V=0;V<S;++V){var dt=K[it+4*V];dt!=255&&(dt*=32897,B[U+4*V+0]=B[U+4*V+0]*dt>>23,B[U+4*V+1]=B[U+4*V+1]*dt>>23,B[U+4*V+2]=B[U+4*V+2]*dt>>23)}h+=j}}function a(c,h,y,S,D){for(;0<S--;){var j;for(j=0;j<y;++j){var V=c[h+2*j+0],B=15&(K=c[h+2*j+1]),U=4369*B,K=(240&K|K>>4)*U>>16;c[h+2*j+0]=(240&V|V>>4)*U>>16&240|(15&V|V<<4)*U>>16>>4&15,c[h+2*j+1]=240&K|B}h+=D}}function f(c,h,y,S,D,j,V,B){var U,K,it=255;for(K=0;K<D;++K){for(U=0;U<S;++U){var dt=c[h+U];j[V+4*U]=dt,it&=dt}h+=y,V+=B}return it!=255}function w(c,h,y,S,D){var j;for(j=0;j<D;++j)y[S+j]=c[h+j]>>8}function x(){jr=p,Ve=a,Be=f,tn=w}function z(c,h,y){I[c]=function(S,D,j,V,B,U,K,it,dt,ft,lt,At,yt,st,ot,wt,It){var bt,jt=It-1>>1,Ft=B[U+0]|K[it+0]<<16,Jt=dt[ft+0]|lt[At+0]<<16;t(S!=null);var Dt=3*Ft+Jt+131074>>2;for(h(S[D+0],255&Dt,Dt>>16,yt,st),j!=null&&(Dt=3*Jt+Ft+131074>>2,h(j[V+0],255&Dt,Dt>>16,ot,wt)),bt=1;bt<=jt;++bt){var xe=B[U+bt]|K[it+bt]<<16,Re=dt[ft+bt]|lt[At+bt]<<16,Se=Ft+xe+Jt+Re+524296,me=Se+2*(xe+Jt)>>3;Dt=me+Ft>>1,Ft=(Se=Se+2*(Ft+Re)>>3)+xe>>1,h(S[D+2*bt-1],255&Dt,Dt>>16,yt,st+(2*bt-1)*y),h(S[D+2*bt-0],255&Ft,Ft>>16,yt,st+(2*bt-0)*y),j!=null&&(Dt=Se+Jt>>1,Ft=me+Re>>1,h(j[V+2*bt-1],255&Dt,Dt>>16,ot,wt+(2*bt-1)*y),h(j[V+2*bt+0],255&Ft,Ft>>16,ot,wt+(2*bt+0)*y)),Ft=xe,Jt=Re}1&It||(Dt=3*Ft+Jt+131074>>2,h(S[D+It-1],255&Dt,Dt>>16,yt,st+(It-1)*y),j!=null&&(Dt=3*Jt+Ft+131074>>2,h(j[V+It-1],255&Dt,Dt>>16,ot,wt+(It-1)*y)))}}function tt(){Br[gl]=G0,Br[ml]=Ef,Br[yf]=K0,Br[yl]=If,Br[vl]=Sf,Br[Gu]=_f,Br[vf]=Y0,Br[Ku]=Ef,Br[Yu]=If,Br[wl]=Sf,Br[Xu]=_f}function gt(c){return c&~X0?0>c?0:255:c>>Tf}function Nt(c,h){return gt((19077*c>>8)+(26149*h>>8)-14234)}function Ut(c,h,y){return gt((19077*c>>8)-(6419*h>>8)-(13320*y>>8)+8708)}function Mt(c,h){return gt((19077*c>>8)+(33050*h>>8)-17685)}function Kt(c,h,y,S,D){S[D+0]=Nt(c,y),S[D+1]=Ut(c,h,y),S[D+2]=Mt(c,h)}function Ae(c,h,y,S,D){S[D+0]=Mt(c,h),S[D+1]=Ut(c,h,y),S[D+2]=Nt(c,y)}function Pe(c,h,y,S,D){var j=Ut(c,h,y);h=j<<3&224|Mt(c,h)>>3,S[D+0]=248&Nt(c,y)|j>>5,S[D+1]=h}function Ce(c,h,y,S,D){var j=240&Mt(c,h)|15;S[D+0]=240&Nt(c,y)|Ut(c,h,y)>>4,S[D+1]=j}function Ue(c,h,y,S,D){S[D+0]=255,Kt(c,h,y,S,D+1)}function Ye(c,h,y,S,D){Ae(c,h,y,S,D),S[D+3]=255}function $n(c,h,y,S,D){Kt(c,h,y,S,D),S[D+3]=255}function wr(c,h){return 0>c?0:c>h?h:c}function Ii(c,h,y){I[c]=function(S,D,j,V,B,U,K,it,dt){for(var ft=it+(-2&dt)*y;it!=ft;)h(S[D+0],j[V+0],B[U+0],K,it),h(S[D+1],j[V+0],B[U+0],K,it+y),D+=2,++V,++U,it+=2*y;1&dt&&h(S[D+0],j[V+0],B[U+0],K,it)}}function cl(c,h,y){return y==0?c==0?h==0?6:5:h==0?4:0:y}function ec(c,h,y,S,D){switch(c>>>30){case 3:Gi(h,y,S,D,0);break;case 2:$e(h,y,S,D);break;case 1:er(h,y,S,D)}}function nc(c,h){var y,S,D=h.M,j=h.Nb,V=c.oc,B=c.pc+40,U=c.oc,K=c.pc+584,it=c.oc,dt=c.pc+600;for(y=0;16>y;++y)V[B+32*y-1]=129;for(y=0;8>y;++y)U[K+32*y-1]=129,it[dt+32*y-1]=129;for(0<D?V[B-1-32]=U[K-1-32]=it[dt-1-32]=129:(i(V,B-32-1,127,21),i(U,K-32-1,127,9),i(it,dt-32-1,127,9)),S=0;S<c.za;++S){var ft=h.ya[h.aa+S];if(0<S){for(y=-1;16>y;++y)r(V,B+32*y-4,V,B+32*y+12,4);for(y=-1;8>y;++y)r(U,K+32*y-4,U,K+32*y+4,4),r(it,dt+32*y-4,it,dt+32*y+4,4)}var lt=c.Gd,At=c.Hd+S,yt=ft.ad,st=ft.Hc;if(0<D&&(r(V,B-32,lt[At].y,0,16),r(U,K-32,lt[At].f,0,8),r(it,dt-32,lt[At].ea,0,8)),ft.Za){var ot=V,wt=B-32+16;for(0<D&&(S>=c.za-1?i(ot,wt,lt[At].y[15],4):r(ot,wt,lt[At+1].y,0,4)),y=0;4>y;y++)ot[wt+128+y]=ot[wt+256+y]=ot[wt+384+y]=ot[wt+0+y];for(y=0;16>y;++y,st<<=2)ot=V,wt=B+Pf[y],ni[ft.Ob[y]](ot,wt),ec(st,yt,16*+y,ot,wt)}else if(ot=cl(S,D,ft.Ob[0]),Ss[ot](V,B),st!=0)for(y=0;16>y;++y,st<<=2)ec(st,yt,16*+y,V,B+Pf[y]);for(y=ft.Gc,ot=cl(S,D,ft.Dd),Yi[ot](U,K),Yi[ot](it,dt),st=yt,ot=U,wt=K,255&(ft=y>>0)&&(170&ft?ac(st,256,ot,wt):Or(st,256,ot,wt)),ft=it,st=dt,255&(y>>=8)&&(170&y?ac(yt,320,ft,st):Or(yt,320,ft,st)),D<c.Ub-1&&(r(lt[At].y,0,V,B+480,16),r(lt[At].f,0,U,K+224,8),r(lt[At].ea,0,it,dt+224,8)),y=8*j*c.B,lt=c.sa,At=c.ta+16*S+16*j*c.R,yt=c.qa,ft=c.ra+8*S+y,st=c.Ha,ot=c.Ia+8*S+y,y=0;16>y;++y)r(lt,At+y*c.R,V,B+32*y,16);for(y=0;8>y;++y)r(yt,ft+y*c.B,U,K+32*y,8),r(st,ot+y*c.B,it,dt+32*y,8)}}function oa(c,h,y,S,D,j,V,B,U){var K=[0],it=[0],dt=0,ft=U!=null?U.kd:0,lt=U??new vr;if(c==null||12>y)return 7;lt.data=c,lt.w=h,lt.ha=y,h=[h],y=[y],lt.gb=[lt.gb];t:{var At=h,yt=y,st=lt.gb;if(t(c!=null),t(yt!=null),t(st!=null),st[0]=0,12<=yt[0]&&!e(c,At[0],"RIFF")){if(e(c,At[0]+8,"WEBP")){st=3;break t}var ot=kt(c,At[0]+4);if(12>ot||4294967286<ot){st=3;break t}if(ft&&ot>yt[0]-8){st=7;break t}st[0]=ot,At[0]+=12,yt[0]-=12}st=0}if(st!=0)return st;for(ot=0<lt.gb[0],y=y[0];;){t:{var wt=c;yt=h,st=y;var It=K,bt=it,jt=At=[0];if((Dt=dt=[dt])[0]=0,8>st[0])st=7;else{if(!e(wt,yt[0],"VP8X")){if(kt(wt,yt[0]+4)!=10){st=3;break t}if(18>st[0]){st=7;break t}var Ft=kt(wt,yt[0]+8),Jt=1+Rt(wt,yt[0]+12);if(2147483648<=Jt*(wt=1+Rt(wt,yt[0]+15))){st=3;break t}jt!=null&&(jt[0]=Ft),It!=null&&(It[0]=Jt),bt!=null&&(bt[0]=wt),yt[0]+=18,st[0]-=18,Dt[0]=1}st=0}}if(dt=dt[0],At=At[0],st!=0)return st;if(yt=!!(2&At),!ot&&dt)return 3;if(j!=null&&(j[0]=!!(16&At)),V!=null&&(V[0]=yt),B!=null&&(B[0]=0),V=K[0],At=it[0],dt&&yt&&U==null){st=0;break}if(4>y){st=7;break}if(ot&&dt||!ot&&!dt&&!e(c,h[0],"ALPH")){y=[y],lt.na=[lt.na],lt.P=[lt.P],lt.Sa=[lt.Sa];t:{Ft=c,st=h,ot=y;var Dt=lt.gb;It=lt.na,bt=lt.P,jt=lt.Sa,Jt=22,t(Ft!=null),t(ot!=null),wt=st[0];var xe=ot[0];for(t(It!=null),t(jt!=null),It[0]=null,bt[0]=null,jt[0]=0;;){if(st[0]=wt,ot[0]=xe,8>xe){st=7;break t}var Re=kt(Ft,wt+4);if(4294967286<Re){st=3;break t}var Se=8+Re+1&-2;if(Jt+=Se,0<Dt&&Jt>Dt){st=3;break t}if(!e(Ft,wt,"VP8 ")||!e(Ft,wt,"VP8L")){st=0;break t}if(xe[0]<Se){st=7;break t}e(Ft,wt,"ALPH")||(It[0]=Ft,bt[0]=wt+8,jt[0]=Re),wt+=Se,xe-=Se}}if(y=y[0],lt.na=lt.na[0],lt.P=lt.P[0],lt.Sa=lt.Sa[0],st!=0)break}y=[y],lt.Ja=[lt.Ja],lt.xa=[lt.xa];t:if(Dt=c,st=h,ot=y,It=lt.gb[0],bt=lt.Ja,jt=lt.xa,Ft=st[0],wt=!e(Dt,Ft,"VP8 "),Jt=!e(Dt,Ft,"VP8L"),t(Dt!=null),t(ot!=null),t(bt!=null),t(jt!=null),8>ot[0])st=7;else{if(wt||Jt){if(Dt=kt(Dt,Ft+4),12<=It&&Dt>It-12){st=3;break t}if(ft&&Dt>ot[0]-8){st=7;break t}bt[0]=Dt,st[0]+=8,ot[0]-=8,jt[0]=Jt}else jt[0]=5<=ot[0]&&Dt[Ft+0]==47&&!(Dt[Ft+4]>>5),bt[0]=ot[0];st=0}if(y=y[0],lt.Ja=lt.Ja[0],lt.xa=lt.xa[0],h=h[0],st!=0)break;if(4294967286<lt.Ja)return 3;if(B==null||yt||(B[0]=lt.xa?2:1),V=[V],At=[At],lt.xa){if(5>y){st=7;break}B=V,ft=At,yt=j,c==null||5>y?c=0:5<=y&&c[h+0]==47&&!(c[h+4]>>5)?(ot=[0],Dt=[0],It=[0],et(bt=new k,c,h,y),Qt(bt,ot,Dt,It)?(B!=null&&(B[0]=ot[0]),ft!=null&&(ft[0]=Dt[0]),yt!=null&&(yt[0]=It[0]),c=1):c=0):c=0}else{if(10>y){st=7;break}B=At,c==null||10>y||!yr(c,h+3,y-3)?c=0:(ft=c[h+0]|c[h+1]<<8|c[h+2]<<16,yt=16383&(c[h+7]<<8|c[h+6]),c=16383&(c[h+9]<<8|c[h+8]),1&ft||3<(ft>>1&7)||!(ft>>4&1)||ft>>5>=lt.Ja||!yt||!c?c=0:(V&&(V[0]=yt),B&&(B[0]=c),c=1))}if(!c||(V=V[0],At=At[0],dt&&(K[0]!=V||it[0]!=At)))return 3;U!=null&&(U[0]=lt,U.offset=h-U.w,t(4294967286>h-U.w),t(U.offset==U.ha-y));break}return st==0||st==7&&dt&&U==null?(j!=null&&(j[0]|=lt.na!=null&&0<lt.na.length),S!=null&&(S[0]=V),D!=null&&(D[0]=At),0):st}function rc(c,h,y){var S=h.width,D=h.height,j=0,V=0,B=S,U=D;if(h.Da=c!=null&&0<c.Da,h.Da&&(B=c.cd,U=c.bd,j=c.v,V=c.j,11>y||(j&=-2,V&=-2),0>j||0>V||0>=B||0>=U||j+B>S||V+U>D))return 0;if(h.v=j,h.j=V,h.va=j+B,h.o=V+U,h.U=B,h.T=U,h.da=c!=null&&0<c.da,h.da){if(!ne(B,U,y=[c.ib],j=[c.hb]))return 0;h.ib=y[0],h.hb=j[0]}return h.ob=c!=null&&c.ob,h.Kb=c==null||!c.Sd,h.da&&(h.ob=h.ib<3*S/4&&h.hb<3*D/4,h.Kb=0),1}function ic(c){if(c==null)return 2;if(11>c.S){var h=c.f.RGBA;h.fb+=(c.height-1)*h.A,h.A=-h.A}else h=c.f.kb,c=c.height,h.O+=(c-1)*h.fa,h.fa=-h.fa,h.N+=(c-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(c-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(c-1)*h.lb,h.lb=-h.lb);return 0}function aa(c,h,y,S){if(S==null||0>=c||0>=h)return 2;if(y!=null){if(y.Da){var D=y.cd,j=y.bd,V=-2&y.v,B=-2&y.j;if(0>V||0>B||0>=D||0>=j||V+D>c||B+j>h)return 2;c=D,h=j}if(y.da){if(!ne(c,h,D=[y.ib],j=[y.hb]))return 2;c=D[0],h=j[0]}}S.width=c,S.height=h;t:{var U=S.width,K=S.height;if(c=S.S,0>=U||0>=K||!(c>=gl&&13>c))c=2;else{if(0>=S.Rd&&S.sd==null){V=j=D=h=0;var it=(B=U*Nf[c])*K;if(11>c||(j=(K+1)/2*(h=(U+1)/2),c==12&&(V=(D=U)*K)),(K=s(it+2*j+V))==null){c=1;break t}S.sd=K,11>c?((U=S.f.RGBA).eb=K,U.fb=0,U.A=B,U.size=it):((U=S.f.kb).y=K,U.O=0,U.fa=B,U.Fd=it,U.f=K,U.N=0+it,U.Ab=h,U.Cd=j,U.ea=K,U.W=0+it+j,U.Db=h,U.Ed=j,c==12&&(U.F=K,U.J=0+it+2*j),U.Tc=V,U.lb=D)}if(h=1,D=S.S,j=S.width,V=S.height,D>=gl&&13>D)if(11>D)c=S.f.RGBA,h&=(B=Math.abs(c.A))*(V-1)+j<=c.size,h&=B>=j*Nf[D],h&=c.eb!=null;else{c=S.f.kb,B=(j+1)/2,it=(V+1)/2,U=Math.abs(c.fa),K=Math.abs(c.Ab);var dt=Math.abs(c.Db),ft=Math.abs(c.lb),lt=ft*(V-1)+j;h&=U*(V-1)+j<=c.Fd,h&=K*(it-1)+B<=c.Cd,h=(h&=dt*(it-1)+B<=c.Ed)&U>=j&K>=B&dt>=B,h&=c.y!=null,h&=c.f!=null,h&=c.ea!=null,D==12&&(h&=ft>=j,h&=lt<=c.Tc,h&=c.F!=null)}else h=0;c=h?0:2}}return c!=0||y!=null&&y.fd&&(c=ic(S)),c}var Ln=64,ca=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],la=24,ua=32,sc=8,cr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Pt("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(c){return c},I.Predictor2=function(c,h,y){return h[y+0]},I.Predictor3=function(c,h,y){return h[y+1]},I.Predictor4=function(c,h,y){return h[y-1]},I.Predictor5=function(c,h,y){return Lt(Lt(c,h[y+1]),h[y+0])},I.Predictor6=function(c,h,y){return Lt(c,h[y-1])},I.Predictor7=function(c,h,y){return Lt(c,h[y+0])},I.Predictor8=function(c,h,y){return Lt(h[y-1],h[y+0])},I.Predictor9=function(c,h,y){return Lt(h[y+0],h[y+1])},I.Predictor10=function(c,h,y){return Lt(Lt(c,h[y-1]),Lt(h[y+0],h[y+1]))},I.Predictor11=function(c,h,y){var S=h[y+0];return 0>=le(S>>24&255,c>>24&255,(h=h[y-1])>>24&255)+le(S>>16&255,c>>16&255,h>>16&255)+le(S>>8&255,c>>8&255,h>>8&255)+le(255&S,255&c,255&h)?S:c},I.Predictor12=function(c,h,y){var S=h[y+0];return(zt((c>>24&255)+(S>>24&255)-((h=h[y-1])>>24&255))<<24|zt((c>>16&255)+(S>>16&255)-(h>>16&255))<<16|zt((c>>8&255)+(S>>8&255)-(h>>8&255))<<8|zt((255&c)+(255&S)-(255&h)))>>>0},I.Predictor13=function(c,h,y){var S=h[y-1];return(re((c=Lt(c,h[y+0]))>>24&255,S>>24&255)<<24|re(c>>16&255,S>>16&255)<<16|re(c>>8&255,S>>8&255)<<8|re(c>>0&255,S>>0&255))>>>0};var zu=I.PredictorAdd0;I.PredictorAdd1=oe,Pt("Predictor2","PredictorAdd2"),Pt("Predictor3","PredictorAdd3"),Pt("Predictor4","PredictorAdd4"),Pt("Predictor5","PredictorAdd5"),Pt("Predictor6","PredictorAdd6"),Pt("Predictor7","PredictorAdd7"),Pt("Predictor8","PredictorAdd8"),Pt("Predictor9","PredictorAdd9"),Pt("Predictor10","PredictorAdd10"),Pt("Predictor11","PredictorAdd11"),Pt("Predictor12","PredictorAdd12"),Pt("Predictor13","PredictorAdd13");var oc=I.PredictorAdd2;he("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),he("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var ll,Dr=I.ColorIndexInverseTransform,ha=I.MapARGB,ul=I.VP8LColorIndexInverseTransformAlpha,hl=I.MapAlpha,bs=I.VP8LPredictorsAdd=[];bs.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var wo,lr,tr,As,zi,Wi,da,Gi,$e,ac,er,Or,fa,dl,cc,bo,Ao,Es,Eo,pa,Io,Is,lc,Mr,jr,Ve,Be,tn,mn=s(511),Ki=s(2041),uc=s(225),ga=s(767),fl=0,Wu=Ki,pl=uc,br=ga,Vr=mn,gl=0,ml=1,yf=2,yl=3,vl=4,Gu=5,vf=6,Ku=7,Yu=8,wl=9,Xu=10,L0=[2,3,7],k0=[3,3,11],wf=[280,256,256,256,40],F0=[0,1,1,1,0],D0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],O0=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],M0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],j0=8,Qu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ju=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],hc=null,V0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],B0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],bf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],q0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],U0=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],H0=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],z0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ss=[],ni=[],Yi=[],W0=1,Af=2,_s=[],Br=[];z("UpsampleRgbLinePair",Kt,3),z("UpsampleBgrLinePair",Ae,3),z("UpsampleRgbaLinePair",$n,4),z("UpsampleBgraLinePair",Ye,4),z("UpsampleArgbLinePair",Ue,4),z("UpsampleRgba4444LinePair",Ce,2),z("UpsampleRgb565LinePair",Pe,2);var G0=I.UpsampleRgbLinePair,K0=I.UpsampleBgrLinePair,Ef=I.UpsampleRgbaLinePair,If=I.UpsampleBgraLinePair,Sf=I.UpsampleArgbLinePair,_f=I.UpsampleRgba4444LinePair,Y0=I.UpsampleRgb565LinePair,bl=16,Al=1<<bl-1,dc=-227,Zu=482,Tf=6,X0=(256<<Tf)-1,xf=0,Q0=s(256),J0=s(256),Z0=s(256),$0=s(256),t2=s(Zu-dc),e2=s(Zu-dc);Ii("YuvToRgbRow",Kt,3),Ii("YuvToBgrRow",Ae,3),Ii("YuvToRgbaRow",$n,4),Ii("YuvToBgraRow",Ye,4),Ii("YuvToArgbRow",Ue,4),Ii("YuvToRgba4444Row",Ce,2),Ii("YuvToRgb565Row",Pe,2);var Pf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],El=[0,2,8],n2=[8,7,6,4,4,2,2,2,1,1,1,1],r2=1;this.WebPDecodeRGBA=function(c,h,y,S,D){var j=ml,V=new Ui,B=new Nn;V.ba=B,B.S=j,B.width=[B.width],B.height=[B.height];var U=B.width,K=B.height,it=new xr;if(it==null||c==null)var dt=2;else t(it!=null),dt=oa(c,h,y,it.width,it.height,it.Pd,it.Qd,it.format,null);if(dt!=0?U=0:(U!=null&&(U[0]=it.width[0]),K!=null&&(K[0]=it.height[0]),U=1),U){B.width=B.width[0],B.height=B.height[0],S!=null&&(S[0]=B.width),D!=null&&(D[0]=B.height);t:{if(S=new ji,(D=new vr).data=c,D.w=h,D.ha=y,D.kd=1,h=[0],t(D!=null),((c=oa(D.data,D.w,D.ha,null,null,null,h,null,D))==0||c==7)&&h[0]&&(c=4),(h=c)==0){if(t(V!=null),S.data=D.data,S.w=D.w+D.offset,S.ha=D.ha-D.offset,S.put=Pr,S.ac=fn,S.bc=Cn,S.ma=V,D.xa){if((c=Xn())==null){V=1;break t}if(function(ft,lt){var At=[0],yt=[0],st=[0];e:for(;;){if(ft==null)return 0;if(lt==null)return ft.a=2,0;if(ft.l=lt,ft.a=0,et(ft.m,lt.data,lt.w,lt.ha),!Qt(ft.m,At,yt,st)){ft.a=3;break e}if(ft.xb=Af,lt.width=At[0],lt.height=yt[0],!Nr(At[0],yt[0],1,ft,null))break e;return 1}return t(ft.a!=0),0}(c,S)){if(S=(h=aa(S.width,S.height,V.Oa,V.ba))==0){e:{S=c;n:for(;;){if(S==null){S=0;break e}if(t(S.s.yc!=null),t(S.s.Ya!=null),t(0<S.s.Wb),t((y=S.l)!=null),t((D=y.ma)!=null),S.xb!=0){if(S.ca=D.ba,S.tb=D.tb,t(S.ca!=null),!rc(D.Oa,y,yl)){S.a=2;break n}if(!di(S,y.width)||y.da)break n;if((y.da||Ie(S.ca.S))&&x(),11>S.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),S.ca.f.kb.F!=null&&x()),S.Pb&&0<S.s.ua&&S.s.vb.X==null&&!Gt(S.s.vb,S.s.Wa.Xa)){S.a=1;break n}S.xb=0}if(!Yn(S,S.V,S.Ba,S.c,S.i,y.o,ls))break n;D.Dc=S.Ma,S=1;break e}t(S.a!=0),S=0}S=!S}S&&(h=c.a)}else h=c.a}else{if((c=new Yo)==null){V=1;break t}if(c.Fa=D.na,c.P=D.P,c.qc=D.Sa,Qn(c,S)){if((h=aa(S.width,S.height,V.Oa,V.ba))==0){if(c.Aa=0,y=V.Oa,t((D=c)!=null),y!=null){if(0<(U=0>(U=y.Md)?0:100<U?255:255*U/100)){for(K=it=0;4>K;++K)12>(dt=D.pb[K]).lc&&(dt.ia=U*n2[0>dt.lc?0:dt.lc]>>3),it|=dt.ia;it&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=y.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}lo(c,S)||(h=c.a)}}else h=c.a}h==0&&V.Oa!=null&&V.Oa.fd&&(h=ic(V.ba))}V=h}j=V!=0?null:11>j?B.f.RGBA.eb:B.f.kb.y}else j=null;return j};var Nf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(I,C){for(var M="",A=0;A<4;A++)M+=String.fromCharCode(I[C++]);return M}function g(I,C){return(I[C+0]<<0|I[C+1]<<8|I[C+2]<<16)>>>0}function v(I,C){return(I[C+0]<<0|I[C+1]<<8|I[C+2]<<16|I[C+3]<<24)>>>0}new u;var b=[0],m=[0],N=[],R=new u,F=n,P=function(I,C){var M={},A=0,E=!1,T=0,W=0;if(M.frames=[],!function(H,G,Z,nt){for(var ut=0;ut<nt;ut++)if(H[G+ut]!=Z.charCodeAt(ut))return!0;return!1}(I,C,"RIFF",4)){var ct,Q;for(v(I,C+=4),C+=8;C<I.length;){var X=d(I,C),et=v(I,C+=4);C+=4;var $=et+(1&et);switch(X){case"VP8 ":case"VP8L":M.frames[A]===void 0&&(M.frames[A]={}),(k=M.frames[A]).src_off=E?W:C-8,k.src_size=T+et+8,A++,E&&(E=!1,T=0,W=0);break;case"VP8X":(k=M.header={}).feature_flags=I[C];var at=C+4;k.canvas_width=1+g(I,at),at+=3,k.canvas_height=1+g(I,at),at+=3;break;case"ALPH":E=!0,T=$+8,W=C-8;break;case"ANIM":(k=M.header).bgcolor=v(I,C),at=C+4,k.loop_count=(ct=I)[(Q=at)+0]<<0|ct[Q+1]<<8,at+=2;break;case"ANMF":var mt,k;(k=M.frames[A]={}).offset_x=2*g(I,C),C+=3,k.offset_y=2*g(I,C),C+=3,k.width=1+g(I,C),C+=3,k.height=1+g(I,C),C+=3,k.duration=g(I,C),C+=3,mt=I[C++],k.dispose=1&mt,k.blend=mt>>1&1}X!="ANMF"&&(C+=$)}return M}}(F,0);P.response=F,P.rgbaoutput=!0,P.dataurl=!1;var L=P.header?P.header:null,O=P.frames?P.frames:null;if(L){L.loop_counter=L.loop_count,b=[L.canvas_height],m=[L.canvas_width];for(var q=0;q<O.length&&O[q].blend!=0;q++);}var Y=O[0],J=R.WebPDecodeRGBA(F,Y.src_off,Y.src_size,m,b);Y.rgba=J,Y.imgwidth=m[0],Y.imgheight=b[0];for(var _=0;_<m[0]*b[0]*4;_++)N[_]=J[_];return this.width=m,this.height=b,this.data=N,this}(function(n){var t=function(){return typeof ld=="function"},e=function(b,m,N,R){var F=4,P=o;switch(R){case n.image_compression.FAST:F=1,P=s;break;case n.image_compression.MEDIUM:F=6,P=l;break;case n.image_compression.SLOW:F=9,P=u}b=r(b,m,N,P);var L=ld(b,{level:F});return n.__addimage__.arrayBufferToBinaryString(L)},r=function(b,m,N,R){for(var F,P,L,O=b.length/m,q=new Uint8Array(b.length+O),Y=g(),J=0;J<O;J+=1){if(L=J*m,F=b.subarray(L,L+m),R)q.set(R(F,N,P),L+J);else{for(var _,I=Y.length,C=[];_<I;_+=1)C[_]=Y[_](F,N,P);var M=v(C.concat());q.set(C[M],L+J)}P=F}return q},i=function(b){var m=Array.apply([],b);return m.unshift(0),m},s=function(b,m){var N,R=[],F=b.length;R[0]=1;for(var P=0;P<F;P+=1)N=b[P-m]||0,R[P+1]=b[P]-N+256&255;return R},o=function(b,m,N){var R,F=[],P=b.length;F[0]=2;for(var L=0;L<P;L+=1)R=N&&N[L]||0,F[L+1]=b[L]-R+256&255;return F},l=function(b,m,N){var R,F,P=[],L=b.length;P[0]=3;for(var O=0;O<L;O+=1)R=b[O-m]||0,F=N&&N[O]||0,P[O+1]=b[O]+256-(R+F>>>1)&255;return P},u=function(b,m,N){var R,F,P,L,O=[],q=b.length;O[0]=4;for(var Y=0;Y<q;Y+=1)R=b[Y-m]||0,F=N&&N[Y]||0,P=N&&N[Y-m]||0,L=d(R,F,P),O[Y+1]=b[Y]-L+256&255;return O},d=function(b,m,N){if(b===m&&m===N)return b;var R=Math.abs(m-N),F=Math.abs(b-N),P=Math.abs(b+m-N-N);return R<=F&&R<=P?b:F<=P?m:N},g=function(){return[i,s,o,l,u]},v=function(b){var m=b.map(function(N){return N.reduce(function(R,F){return R+Math.abs(F)},0)});return m.indexOf(Math.min.apply(null,m))};n.processPNG=function(b,m,N,R){var F,P,L,O,q,Y,J,_,I,C,M,A,E,T,W,ct=this.decode.FLATE_DECODE,Q="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(L=new pE(b)).imgData,P=L.bits,F=L.colorSpace,q=L.colors,[4,6].indexOf(L.colorType)!==-1){if(L.bits===8){I=(_=L.pixelBitlength==32?new Uint32Array(L.decodePixels().buffer):L.pixelBitlength==16?new Uint16Array(L.decodePixels().buffer):new Uint8Array(L.decodePixels().buffer)).length,M=new Uint8Array(I*L.colors),C=new Uint8Array(I);var X,et=L.pixelBitlength-L.bits;for(T=0,W=0;T<I;T++){for(E=_[T],X=0;X<et;)M[W++]=E>>>X&255,X+=L.bits;C[T]=E>>>X&255}}if(L.bits===16){I=(_=new Uint32Array(L.decodePixels().buffer)).length,M=new Uint8Array(I*(32/L.pixelBitlength)*L.colors),C=new Uint8Array(I*(32/L.pixelBitlength)),A=L.colors>1,T=0,W=0;for(var $=0;T<I;)E=_[T++],M[W++]=E>>>0&255,A&&(M[W++]=E>>>16&255,E=_[T++],M[W++]=E>>>0&255),C[$++]=E>>>16&255;P=8}R!==n.image_compression.NONE&&t()?(b=e(M,L.width*L.colors,L.colors,R),J=e(C,L.width,1,R)):(b=M,J=C,ct=void 0)}if(L.colorType===3&&(F=this.color_spaces.INDEXED,Y=L.palette,L.transparency.indexed)){var at=L.transparency.indexed,mt=0;for(T=0,I=at.length;T<I;++T)mt+=at[T];if((mt/=255)===I-1&&at.indexOf(0)!==-1)O=[at.indexOf(0)];else if(mt!==I){for(_=L.decodePixels(),C=new Uint8Array(_.length),T=0,I=_.length;T<I;T++)C[T]=at[_[T]];J=e(C,L.width,1)}}var k=function(H){var G;switch(H){case n.image_compression.FAST:G=11;break;case n.image_compression.MEDIUM:G=13;break;case n.image_compression.SLOW:G=14;break;default:G=12}return G}(R);return ct===this.decode.FLATE_DECODE&&(Q="/Predictor "+k+" "),Q+="/Colors "+q+" /BitsPerComponent "+P+" /Columns "+L.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(J&&this.__addimage__.isArrayBuffer(J)||this.__addimage__.isArrayBufferView(J))&&(J=this.__addimage__.arrayBufferToBinaryString(J)),{alias:N,data:b,index:m,filter:ct,decodeParameters:Q,transparency:O,palette:Y,sMask:J,predictor:k,width:L.width,height:L.height,bitsPerComponent:P,colorSpace:F}}}})(Yt.API),function(n){n.processGIF89A=function(t,e,r,i){var s=new gE(t),o=s.width,l=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:o,height:l},g=new Nh(100).encode(d,100);return n.processJPEG.call(this,g,e,r,i)},n.processGIF87A=n.processGIF89A}(Yt.API),si.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},si.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){Me.log("bit decode error:"+e)}},si.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var u=this.palette[s>>7-l&1];this.data[o+4*l]=u.blue,this.data[o+4*l+1]=u.green,this.data[o+4*l+2]=u.red,this.data[o+4*l+3]=255}e!==0&&(this.pos+=4-e)}},si.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=s>>4,u=15&s,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[u],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},si.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},si.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,u=(s>>10&t)/t*255|0,d=s>>15?255:0,g=r*this.width*4+4*i;this.data[g]=u,this.data[g+1]=l,this.data[g+2]=o,this.data[g+3]=d}this.pos+=n}},si.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,u=(o>>5&e)/e*255|0,d=(o>>11)/t*255|0,g=i*this.width*4+4*s;this.data[g]=d,this.data[g+1]=u,this.data[g+2]=l,this.data[g+3]=255}this.pos+=n}},si.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},si.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*e;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=o}},si.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,r,i){var s=new si(t,!1),o=s.width,l=s.height,u={data:s.getData(),width:o,height:l},d=new Nh(100).encode(u,100);return n.processJPEG.call(this,d,e,r,i)}}(Yt.API),Fg.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,r,i){var s=new Fg(t),o=s.width,l=s.height,u={data:s.getData(),width:o,height:l},d=new Nh(100).encode(u,100);return n.processJPEG.call(this,d,e,r,i)}}(Yt.API),Yt.API.processRGBA=function(n,t,e){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,u=0,d=0;d<i;d+=4){var g=r[d],v=r[d+1],b=r[d+2],m=r[d+3];s[l++]=g,s[l++]=v,s[l++]=b,o[u++]=m}var N=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:N,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Yt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Aa=Yt.API,Ul=Aa.getCharWidthsArray=function(n,t){var e,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,u=l.fof?l.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,g=d.fof?d.fof:1,v=t.doKerning!==!1,b=0,m=n.length,N=0,R=l[0]||u,F=[];for(e=0;e<m;e++)r=n.charCodeAt(e),typeof i.metadata.widthOfString=="function"?F.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(b=v&&ke(d[r])==="object"&&!isNaN(parseInt(d[r][N],10))?d[r][N]/g:0,F.push((l[r]||R)/u+b)),N=r;return F},Cg=Aa.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Aa.processArabic&&(n=Aa.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,e,i)/e:Ul.apply(this,arguments).reduce(function(s,o){return s+o},0)},Rg=function(n,t,e,r){for(var i=[],s=0,o=n.length,l=0;s!==o&&l+t[s]<e;)l+=t[s],s++;i.push(n.slice(0,s));var u=s;for(l=0;s!==o;)l+t[s]>r&&(i.push(n.slice(u,s)),l=0,u=s),l+=t[s],s++;return u!==s&&i.push(n.slice(u,s)),i},Lg=function(n,t,e){e||(e={});var r,i,s,o,l,u,d,g=[],v=[g],b=e.textIndent||0,m=0,N=0,R=n.split(" "),F=Ul.apply(this,[" ",e])[0];if(u=e.lineIndent===-1?R[0].length+2:e.lineIndent||0){var P=Array(u).join(" "),L=[];R.map(function(q){(q=q.split(/\s*\n/)).length>1?L=L.concat(q.map(function(Y,J){return(J&&Y.length?`
`:"")+Y})):L.push(q[0])}),R=L,u=Cg.apply(this,[P,e])}for(s=0,o=R.length;s<o;s++){var O=0;if(r=R[s],u&&r[0]==`
`&&(r=r.substr(1),O=1),b+m+(N=(i=Ul.apply(this,[r,e])).reduce(function(q,Y){return q+Y},0))>t||O){if(N>t){for(l=Rg.apply(this,[r,i,t-(b+m),t]),g.push(l.shift()),g=[l.pop()];l.length;)v.push([l.shift()]);N=i.slice(r.length-(g[0]?g[0].length:0)).reduce(function(q,Y){return q+Y},0)}else g=[r];v.push(g),b=N+u,m=F}else g.push(r),b+=m+N,m=F}return d=u?function(q,Y){return(Y?P:"")+q.join(" ")}:function(q){return q.join(" ")},v.map(d)},Aa.splitTextToSize=function(n,t,e){var r,i=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var v=this.internal.getFont(g.fontName,g.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=e.lineIndent;var l,u,d=[];for(l=0,u=r.length;l<u;l++)d=d.concat(Lg.apply(this,[r[l],o,s]));return d},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},r={},i=0;i<t.length;i++)e[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(v){return"0x"+parseInt(v,10).toString(16)},o=n.__fontmetrics__.compress=function(v){var b,m,N,R,F=["{"];for(var P in v){if(b=v[P],isNaN(parseInt(P,10))?m="'"+P+"'":(P=parseInt(P,10),m=(m=s(P).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof b=="number")b<0?(N=s(b).slice(3),R="-"):(N=s(b).slice(2),R=""),N=R+N.slice(0,-1)+r[N.slice(-1)];else{if(ke(b)!=="object")throw new Error("Don't know what to do with value type "+ke(b)+".");N=o(b)}F.push(m+N)}return F.push("}"),F.join("")},l=n.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,m,N,R,F={},P=1,L=F,O=[],q="",Y="",J=v.length-1,_=1;_<J;_+=1)(R=v[_])=="'"?b?(N=b.join(""),b=void 0):b=[]:b?b.push(R):R=="{"?(O.push([L,N]),L={},N=void 0):R=="}"?((m=O.pop())[0][m[1]]=L,N=void 0,L=m[0]):R=="-"?P=-1:N===void 0?e.hasOwnProperty(R)?(q+=e[R],N=parseInt(q,16)*P,P=1,q=""):q+=R:e.hasOwnProperty(R)?(Y+=e[R],L[N]=parseInt(Y,16)*P,P=1,N=void 0,Y=""):Y+=R;return F},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},g={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(v){var b=v.font,m=g.Unicode[b.postScriptName];m&&(b.metadata.Unicode={},b.metadata.Unicode.widths=m.widths,b.metadata.Unicode.kerning=m.kerning);var N=d.Unicode[b.postScriptName];N&&(b.metadata.Unicode.encoding=N,b.encoding=N.codePages[0])}])}(Yt.API),function(n){var t=function(e){for(var r=e.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=e.charCodeAt(s);return i};n.API.events.push(["addFont",function(e){var r=void 0,i=e.font,s=e.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(kc(l)),o.metadata=n.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Yt),function(n){function t(){return($t.canvg?Promise.resolve($t.canvg):Rh(()=>import("./index.es-7a0f40a4.js"),["assets/index.es-7a0f40a4.js","assets/index-d873c1fa.js","assets/index-fd15e71d.css"])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Yt.API.addSvgAsImage=function(e,r,i,s,o,l,u,d){if(isNaN(r)||isNaN(i))throw Me.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Me.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=s,g.height=o;var v=g.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,g.width,g.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(N){return N.fromString(v,e,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(b)}).then(function(){m.addImage(g.toDataURL("image/jpeg",1),r,i,s,o,u,d)})}}(),Yt.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,e);return this},Yt.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),u=[],d=0,g=0,v=0;function b(N,R){var F,P=!1;for(F=0;F<N.length;F+=1)N[F]===R&&(P=!0);return P}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var m=l.length;for(v=0;v<m;v+=1)e[l[v]].value=e[l[v]].defaultValue,e[l[v]].explicitSet=!1}if(ke(n)==="object"){for(i in n)if(s=n[i],b(l,i)&&s!==void 0){if(e[i].type==="boolean"&&typeof s=="boolean")e[i].value=s;else if(e[i].type==="name"&&b(e[i].valueSet,s))e[i].value=s;else if(e[i].type==="integer"&&Number.isInteger(s))e[i].value=s;else if(e[i].type==="array"){for(d=0;d<s.length;d+=1)if(r=!0,s[d].length===1&&typeof s[d][0]=="number")u.push(String(s[d]-1));else if(s[d].length>1){for(g=0;g<s[d].length;g+=1)typeof s[d][g]!="number"&&(r=!1);r===!0&&u.push([s[d][0]-1,s[d][1]-1].join(" "))}e[i].value="["+u.join(" ")+"]"}else e[i].value=e[i].defaultValue;e[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,R=[];for(N in e)e[N].explicitSet===!0&&(e[N].type==="name"?R.push("/"+N+" /"+e[N].value):R.push("/"+N+" "+e[N].value));R.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+R.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+l.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+l+u),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Yt.API),function(n){var t=n.API,e=t.pdfEscape16=function(s,o){for(var l,u=o.metadata.Unicode.widths,d=["","0","00","000","0000"],g=[""],v=0,b=s.length;v<b;++v){if(l=o.metadata.characterToGlyph(s.charCodeAt(v)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(v),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return g.join("");l=l.toString(16),g.push(d[4-l.length],l)}return g.join("")},r=function(s){var o,l,u,d,g,v,b;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],v=0,b=(l=Object.keys(s).sort(function(m,N){return m-N})).length;v<b;v++)o=l[v],u.length>=100&&(g+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+d+">"));return u.length&&(g+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),g+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var l=o.font,u=o.out,d=o.newObject,g=o.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="Identity-H"){for(var v=l.metadata.Unicode.widths,b=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",N=0;N<b.length;N++)m+=String.fromCharCode(b[N]);var R=d();g({data:m,addLength1:!0,objectId:R}),u("endobj");var F=d();g({data:r(l.metadata.toUnicode),addLength1:!0,objectId:F}),u("endobj");var P=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+xa(l.fontName)),u("/FontFile2 "+R+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var L=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+xa(l.fontName)),u("/FontDescriptor "+P+" 0 R"),u("/W "+n.API.PDFObject.convert(v)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+F+" 0 R"),u("/BaseFont /"+xa(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+L+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var l=o.font,u=o.out,d=o.newObject,g=o.putStream;if(l.metadata instanceof n.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var v=l.metadata.rawData,b="",m=0;m<v.length;m++)b+=String.fromCharCode(v[m]);var N=d();g({data:b,addLength1:!0,objectId:N}),u("endobj");var R=d();g({data:r(l.metadata.toUnicode),addLength1:!0,objectId:R}),u("endobj");var F=d();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+N+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+xa(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=d();for(var P=0;P<l.metadata.hmtx.widths.length;P++)l.metadata.hmtx.widths[P]=parseInt(l.metadata.hmtx.widths[P]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+R+" 0 R/BaseFont/"+xa(l.fontName)+"/FontDescriptor "+F+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,l=s.text||"",u=s.x,d=s.y,g=s.options||{},v=s.mutex||{},b=v.pdfEscape,m=v.activeFontKey,N=v.fonts,R=m,F="",P=0,L="",O=N[R].encoding;if(N[R].encoding!=="Identity-H")return{text:l,x:u,y:d,options:g,mutex:v};for(L=l,R=m,Array.isArray(l)&&(L=l[0]),P=0;P<L.length;P+=1)N[R].metadata.hasOwnProperty("cmap")&&(o=N[R].metadata.cmap.unicode.codeMap[L[P].charCodeAt(0)]),o||L[P].charCodeAt(0)<256&&N[R].metadata.hasOwnProperty("Unicode")?F+=L[P]:F+="";var q="";return parseInt(R.slice(1))<14||O==="WinAnsiEncoding"?q=b(F,R).split("").map(function(Y){return Y.charCodeAt(0).toString(16)}).join(""):O==="Identity-H"&&(q=e(F,N[R])),v.isHex=!0,{text:q,x:u,y:d,options:g,mutex:v}};t.events.push(["postProcessText",function(s){var o=s.text||"",l=[],u={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([i(Object.assign({},u,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(i(Object.assign({},u,{text:o[d]})).text);s.text=l}else s.text=i(Object.assign({},u,{text:o})).text}])}(Yt),function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Yt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,l,u,d,g,v=t,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},R={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},F=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],P=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,O=0;this.__bidiEngine__={};var q=function(A){var E=A.charCodeAt(),T=E>>8,W=R[T];return W!==void 0?v[256*W+(255&E)]:T===252||T===253?"AL":P.test(T)?"L":T===8?"R":"N"},Y=function(A){for(var E,T=0;T<A.length;T++){if((E=q(A.charAt(T)))==="L")return!1;if(E==="R")return!0}return!1},J=function(A,E,T,W){var ct,Q,X,et,$=E[W];switch($){case"L":case"R":L=!1;break;case"N":case"AN":break;case"EN":L&&($="AN");break;case"AL":L=!0,$="R";break;case"WS":$="N";break;case"CS":W<1||W+1>=E.length||(ct=T[W-1])!=="EN"&&ct!=="AN"||(Q=E[W+1])!=="EN"&&Q!=="AN"?$="N":L&&(Q="AN"),$=Q===ct?Q:"N";break;case"ES":$=(ct=W>0?T[W-1]:"B")==="EN"&&W+1<E.length&&E[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&T[W-1]==="EN"){$="EN";break}if(L){$="N";break}for(X=W+1,et=E.length;X<et&&E[X]==="ET";)X++;$=X<et&&E[X]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(et=E.length,X=W+1;X<et&&E[X]==="NSM";)X++;if(X<et){var at=A[W],mt=at>=1425&&at<=2303||at===64286;if(ct=E[X],mt&&(ct==="R"||ct==="AL")){$="R";break}}}$=W<1||(ct=E[W-1])==="B"?"N":T[W-1];break;case"B":L=!1,i=!0,$=O;break;case"S":s=!0,$="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"BN":$="N"}return $},_=function(A,E,T){var W=A.split("");return T&&I(W,T,{hiLevel:O}),W.reverse(),E&&E.reverse(),W.join("")},I=function(A,E,T){var W,ct,Q,X,et,$=-1,at=A.length,mt=0,k=[],H=O?m:b,G=[];for(L=!1,i=!1,s=!1,ct=0;ct<at;ct++)G[ct]=q(A[ct]);for(Q=0;Q<at;Q++){if(et=mt,k[Q]=J(A,G,k,Q),W=240&(mt=H[et][N[k[Q]]]),mt&=15,E[Q]=X=H[mt][5],W>0)if(W===16){for(ct=$;ct<Q;ct++)E[ct]=1;$=-1}else $=-1;if(H[mt][6])$===-1&&($=Q);else if($>-1){for(ct=$;ct<Q;ct++)E[ct]=X;$=-1}G[Q]==="B"&&(E[Q]=0),T.hiLevel|=X}s&&function(Z,nt,ut){for(var ht=0;ht<ut;ht++)if(Z[ht]==="S"){nt[ht]=O;for(var pt=ht-1;pt>=0&&Z[pt]==="WS";pt--)nt[pt]=O}}(G,E,at)},C=function(A,E,T,W,ct){if(!(ct.hiLevel<A)){if(A===1&&O===1&&!i)return E.reverse(),void(T&&T.reverse());for(var Q,X,et,$,at=E.length,mt=0;mt<at;){if(W[mt]>=A){for(et=mt+1;et<at&&W[et]>=A;)et++;for($=mt,X=et-1;$<X;$++,X--)Q=E[$],E[$]=E[X],E[X]=Q,T&&(Q=T[$],T[$]=T[X],T[X]=Q);mt=et}mt++}}},M=function(A,E,T){var W=A.split(""),ct={hiLevel:O};return T||(T=[]),I(W,T,ct),function(Q,X,et){if(et.hiLevel!==0&&g)for(var $,at=0;at<Q.length;at++)X[at]===1&&($=F.indexOf(Q[at]))>=0&&(Q[at]=F[$+1])}(W,T,ct),C(2,W,E,T,ct),C(1,W,E,T,ct),W.join("")};return this.__bidiEngine__.doBidiReorder=function(A,E,T){if(function(ct,Q){if(Q)for(var X=0;X<ct.length;X++)Q[X]=X;l===void 0&&(l=Y(ct)),d===void 0&&(d=Y(ct))}(A,E),o||!u||d)if(o&&u&&l^d)O=l?1:0,A=_(A,E,T);else if(!o&&u&&d)O=l?1:0,A=M(A,E,T),A=_(A,E);else if(!o||l||u||d){if(o&&!u&&l^d)A=_(A,E),l?(O=0,A=M(A,E,T)):(O=1,A=M(A,E,T),A=_(A,E));else if(o&&l&&!u&&d)O=1,A=M(A,E,T),A=_(A,E);else if(!o&&!u&&l^d){var W=g;l?(O=1,A=M(A,E,T),O=0,g=!1,A=M(A,E,T),g=W):(O=0,A=M(A,E,T),A=_(A,E),O=1,g=!1,A=M(A,E,T),g=W,A=_(A,E))}}else O=0,A=M(A,E,T);else O=l?1:0,A=M(A,E,T);return A},this.__bidiEngine__.setOptions=function(A){A&&(o=A.isInputVisual,u=A.isOutputVisual,l=A.isInputRtl,d=A.isOutputRtl,g=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([e.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([e.doBidiReorder(i[l])]);r.text=o}else r.text=e.doBidiReorder(i);e.setOptions({isInputVisual:!0})}])}(Yt),Yt.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new to(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new CE(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new mE(this.contents),this.head=new vE(this),this.name=new IE(this),this.cmap=new P0(this),this.toUnicode={},this.hhea=new wE(this),this.maxp=new SE(this),this.hmtx=new _E(this),this.post=new AE(this),this.os2=new bE(this),this.loca=new NE(this),this.glyf=new TE(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,u,d;for(d=[],o=0,l=(u=this.bbox).length;o<l;o++)t=u[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(e=i>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,r){var i,s,o,l;for(o=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/e)||0;return o*(e/1e3)},n.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n}();var hi,to=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var e,r,i;for(i=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)i.push(this.writeByte(t.charCodeAt(e)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,r,i,s,o,l,u;return t=this.readByte(),e=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^u)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*i+16777216*s+65536*o+256*l+u},n.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},n.prototype.write=function(t){var e,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)e=t[r],s.push(this.writeByte(e));return s},n}(),mE=function(){var n;function t(e){var r,i,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,i,s,o,l,u,d,g,v,b,m,N,R;for(R in m=Object.keys(e).length,u=Math.log(2),v=16*Math.floor(Math.log(m)/u),o=Math.floor(v/u),g=16*m-v,(i=new to).writeInt(this.scalarType),i.writeShort(m),i.writeShort(v),i.writeShort(o),i.writeShort(g),s=16*m,d=i.pos+s,l=null,N=[],e)for(b=e[R],i.writeString(R),i.writeInt(n(b)),i.writeInt(d),i.writeInt(b.length),N=N.concat(b),R==="head"&&(l=d),d+=b.length;d%4;)N.push(0),d++;return i.write(N),r=2981146554-n(i.data),i.pos=l+8,i.writeUInt32(r),i.data},n=function(e){var r,i,s,o;for(e=N0.call(e);e.length%4;)e.push(0);for(s=new to(e),i=0,r=0,o=e.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),yE={}.hasOwnProperty,Oi=function(n,t){for(var e in t)yE.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};hi=function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var vE=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Oi(t,hi),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new to).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),Dg=function(){function n(t,e){var r,i,s,o,l,u,d,g,v,b,m,N,R,F,P,L,O;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),v=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(m=t.readUInt16(),b=m/2,t.pos+=6,s=function(){var q,Y;for(Y=[],u=q=0;0<=b?q<b:q>b;u=0<=b?++q:--q)Y.push(t.readUInt16());return Y}(),t.pos+=2,R=function(){var q,Y;for(Y=[],u=q=0;0<=b?q<b:q>b;u=0<=b?++q:--q)Y.push(t.readUInt16());return Y}(),d=function(){var q,Y;for(Y=[],u=q=0;0<=b?q<b:q>b;u=0<=b?++q:--q)Y.push(t.readUInt16());return Y}(),g=function(){var q,Y;for(Y=[],u=q=0;0<=b?q<b:q>b;u=0<=b?++q:--q)Y.push(t.readUInt16());return Y}(),i=(this.length-t.pos+this.offset)/2,l=function(){var q,Y;for(Y=[],u=q=0;0<=i?q<i:q>i;u=0<=i?++q:--q)Y.push(t.readUInt16());return Y}(),u=P=0,O=s.length;P<O;u=++P)for(F=s[u],r=L=N=R[u];N<=F?L<=F:L>=F;r=N<=F?++L:--L)g[u]===0?o=r+d[u]:(o=l[g[u]/2+(r-N)-(b-u)]||0)!==0&&(o+=d[u]),this.codeMap[r]=65535&o}t.pos=v}return n.encode=function(t,e){var r,i,s,o,l,u,d,g,v,b,m,N,R,F,P,L,O,q,Y,J,_,I,C,M,A,E,T,W,ct,Q,X,et,$,at,mt,k,H,G,Z,nt,ut,ht,pt,Tt,_t,Rt;switch(W=new to,o=Object.keys(t).sort(function(kt,Gt){return kt-Gt}),e){case"macroman":for(R=0,F=function(){var kt=[];for(N=0;N<256;++N)kt.push(0);return kt}(),L={0:0},s={},ct=0,$=o.length;ct<$;ct++)L[pt=t[i=o[ct]]]==null&&(L[pt]=++R),s[i]={old:t[i],new:L[t[i]]},F[i]=L[t[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(F),{charMap:s,subtable:W.data,maxGlyphID:R+1};case"unicode":for(E=[],v=[],O=0,L={},r={},P=d=null,Q=0,at=o.length;Q<at;Q++)L[Y=t[i=o[Q]]]==null&&(L[Y]=++O),r[i]={old:Y,new:L[Y]},l=L[Y]-i,P!=null&&l===d||(P&&v.push(P),E.push(i),d=l),P=i;for(P&&v.push(P),v.push(65535),E.push(65535),M=2*(C=E.length),I=2*Math.pow(Math.log(C)/Math.LN2,2),b=Math.log(I/2)/Math.LN2,_=2*C-I,u=[],J=[],m=[],N=X=0,mt=E.length;X<mt;N=++X){if(A=E[N],g=v[N],A===65535){u.push(0),J.push(0);break}if(A-(T=r[A].new)>=32768)for(u.push(0),J.push(2*(m.length+C-N)),i=et=A;A<=g?et<=g:et>=g;i=A<=g?++et:--et)m.push(r[i].new);else u.push(T-A),J.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*C+2*m.length),W.writeUInt16(0),W.writeUInt16(M),W.writeUInt16(I),W.writeUInt16(b),W.writeUInt16(_),ut=0,k=v.length;ut<k;ut++)i=v[ut],W.writeUInt16(i);for(W.writeUInt16(0),ht=0,H=E.length;ht<H;ht++)i=E[ht],W.writeUInt16(i);for(Tt=0,G=u.length;Tt<G;Tt++)l=u[Tt],W.writeUInt16(l);for(_t=0,Z=J.length;_t<Z;_t++)q=J[_t],W.writeUInt16(q);for(Rt=0,nt=m.length;Rt<nt;Rt++)R=m[Rt],W.writeUInt16(R);return{charMap:r,subtable:W.data,maxGlyphID:O+1}}},n}(),P0=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Oi(t,hi),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,i,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new Dg(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var i,s;return r==null&&(r="macroman"),i=Dg.encode(e,r),(s=new to).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),wE=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Oi(t,hi),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),bE=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Oi(t,hi),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(e.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(e.readInt());return i}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(e.readInt());return i}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),AE=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Oi(t,hi),t.prototype.tag="post",t.prototype.parse=function(e){var r,i,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var o;for(i=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)r=e.readByte(),s.push(this.names.push(e.readString(r)));return s;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 196608:break;case 262144:return this.map=(function(){var l,u,d;for(d=[],o=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;o=0<=u?++l:--l)d.push(e.readUInt32());return d}).call(this)}},t}(),EE=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},IE=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Oi(t,hi),t.prototype.tag="name",t.prototype.parse=function(e){var r,i,s,o,l,u,d,g,v,b,m;for(e.pos=this.offset,e.readShort(),r=e.readShort(),u=e.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(d={},o=v=0,b=i.length;v<b;o=++v)s=i[o],e.pos=s.offset,g=e.readString(s.length),l=new EE(g,s),d[m=s.nameID]==null&&(d[m]=[]),d[s.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),SE=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Oi(t,hi),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),_E=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Oi(t,hi),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,i,s,o,l,u,d;for(e.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var g,v;for(v=[],r=g=0;0<=s?g<s:g>s;r=0<=s?++g:--g)v.push(e.readInt16());return v}(),this.widths=(function(){var g,v,b,m;for(m=[],g=0,v=(b=this.metrics).length;g<v;g++)o=b[g],m.push(o.advance);return m}).call(this),i=this.widths[this.widths.length-1],d=[],r=l=0;0<=s?l<s:l>s;r=0<=s?++l:--l)d.push(this.widths.push(i));return d},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),N0=[].slice,TE=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Oi(t,hi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,i,s,o,l,u,d,g,v,b;return e in this.cache?this.cache[e]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+i,l=(u=new to(r.read(s))).readShort(),g=u.readShort(),b=u.readShort(),d=u.readShort(),v=u.readShort(),this.cache[e]=l===-1?new PE(u,g,b,d,v):new xE(u,l,g,b,d,v),this.cache[e]))},t.prototype.encode=function(e,r,i){var s,o,l,u,d;for(l=[],o=[],u=0,d=r.length;u<d;u++)s=e[r[u]],o.push(l.length),s&&(l=l.concat(s.encode(i)));return o.push(l.length),{table:l,offsets:o}},t}(),xE=function(){function n(t,e,r,i,s,o){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),PE=function(){function n(t,e,r,i,s){var o,l;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return n.prototype.encode=function(){var t,e,r;for(e=new to(N0.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),NE=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Oi(t,hi),t.prototype.tag="loca",t.prototype.parse=function(e){var r,i;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,l=0;l<i.length;++l)if(i[l]=s,o<r.length&&r[o]==l){++o,i[l]=s;var u=this.offsets[l],d=this.offsets[l+1]-u;d>0&&(s+=d)}for(var g=new Array(4*i.length),v=0;v<i.length;++v)g[4*v+3]=255&i[v],g[4*v+2]=(65280&i[v])>>8,g[4*v+1]=(16711680&i[v])>>16,g[4*v]=(4278190080&i[v])>>24;return g},t}(),CE=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,i,s;for(e in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[e],t[e]=i[r];return t},n.prototype.glyphsFor=function(t){var e,r,i,s,o,l,u;for(i={},o=0,l=t.length;o<l;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in e=[],i)(r=i[s])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(s in u=this.glyphsFor(e))r=u[s],i[s]=r;return i},n.prototype.encode=function(t,e){var r,i,s,o,l,u,d,g,v,b,m,N,R,F,P;for(i in r=P0.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},P=r.charMap)m[(u=P[i]).old]=u.new;for(N in b=r.maxGlyphID,o)N in m||(m[N]=b++);return g=function(L){var O,q;for(O in q={},L)q[L[O]]=O;return q}(m),v=Object.keys(g).sort(function(L,O){return L-O}),R=function(){var L,O,q;for(q=[],L=0,O=v.length;L<O;L++)l=v[L],q.push(g[l]);return q}(),s=this.font.glyf.encode(o,R,m),d=this.font.loca.encode(s.offsets,R),F={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(F["OS/2"]=this.font.os2.raw()),this.font.directory.encode(F)},n}();Yt.API.PDFObject=function(){var n;function t(){}return n=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,i,s,o;if(Array.isArray(e))return"["+function(){var l,u,d;for(d=[],l=0,u=e.length;l<u;l++)r=e[l],d.push(t.convert(r));return d}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(i in s=["<<"],e)o=e[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+e},t}();const RE=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:cE,AcroFormAppearance:Bt,AcroFormButton:yn,AcroFormCheckBox:Oc,AcroFormChoiceField:ko,AcroFormComboBox:Do,AcroFormEditBox:Fc,AcroFormListBox:Fo,AcroFormPasswordField:Mc,AcroFormPushButton:Dc,AcroFormRadioButton:Oo,AcroFormTextField:Gs,GState:Qc,ShadingPattern:Ms,TilingPattern:Co,default:Yt,jsPDF:Yt},Symbol.toStringTag,{value:"Module"}));var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function LE(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var e=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),e}var kE={exports:{}};const FE=LE(RE);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(n,t){(function(r,i){n.exports=i(function(){try{return FE}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Ch<"u"?Ch:typeof window<"u"?window:typeof self<"u"?self:Ch,function(e){return function(){var r={172:function(l,u){var d=this&&this.__extends||function(){var b=function(m,N){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,F){R.__proto__=F}||function(R,F){for(var P in F)Object.prototype.hasOwnProperty.call(F,P)&&(R[P]=F[P])},b(m,N)};return function(m,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");b(m,N);function R(){this.constructor=m}m.prototype=N===null?Object.create(N):(R.prototype=N.prototype,new R)}}();Object.defineProperty(u,"__esModule",{value:!0}),u.CellHookData=u.HookData=void 0;var g=function(){function b(m,N,R){this.table=N,this.pageNumber=N.pageNumber,this.pageCount=this.pageNumber,this.settings=N.settings,this.cursor=R,this.doc=m.getDocument()}return b}();u.HookData=g;var v=function(b){d(m,b);function m(N,R,F,P,L,O){var q=b.call(this,N,R,O)||this;return q.cell=F,q.row=P,q.column=L,q.section=P.section,q}return m}(g);u.CellHookData=v},340:function(l,u,d){Object.defineProperty(u,"__esModule",{value:!0});var g=d(4),v=d(136),b=d(744),m=d(776),N=d(664),R=d(972);function F(P){P.API.autoTable=function(){for(var L=[],O=0;O<arguments.length;O++)L[O]=arguments[O];var q;L.length===1?q=L[0]:(console.error("Use of deprecated autoTable initiation"),q=L[2]||{},q.columns=L[0],q.body=L[1]);var Y=(0,m.parseInput)(this,q),J=(0,R.createTable)(this,Y);return(0,N.drawTable)(this,J),this},P.API.lastAutoTable=!1,P.API.previousAutoTable=!1,P.API.autoTable.previous=!1,P.API.autoTableText=function(L,O,q,Y){(0,v.default)(L,O,q,Y,this)},P.API.autoTableSetDefaults=function(L){return b.DocHandler.setDefaults(L,this),this},P.autoTableSetDefaults=function(L,O){b.DocHandler.setDefaults(L,O)},P.API.autoTableHtmlToJson=function(L,O){var q;if(O===void 0&&(O=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var Y=new b.DocHandler(this),J=(0,g.parseHtml)(Y,L,window,O,!1),_=J.head,I=J.body,C=((q=_[0])===null||q===void 0?void 0:q.map(function(M){return M.content}))||[];return{columns:C,rows:I,data:I}},P.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var L=this.lastAutoTable;return L&&L.finalY?L.finalY:0},P.API.autoTableAddPageContent=function(L){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),P.API.autoTable.globalDefaults||(P.API.autoTable.globalDefaults={}),P.API.autoTable.globalDefaults.addPageContent=L,this},P.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}u.default=F},136:function(l,u){Object.defineProperty(u,"__esModule",{value:!0});function d(g,v,b,m,N){m=m||{};var R=1.15,F=N.internal.scaleFactor,P=N.internal.getFontSize()/F,L=N.getLineHeightFactor?N.getLineHeightFactor():R,O=P*L,q=/\r\n|\r|\n/g,Y="",J=1;if((m.valign==="middle"||m.valign==="bottom"||m.halign==="center"||m.halign==="right")&&(Y=typeof g=="string"?g.split(q):g,J=Y.length||1),b+=P*(2-R),m.valign==="middle"?b-=J/2*O:m.valign==="bottom"&&(b-=J*O),m.halign==="center"||m.halign==="right"){var _=P;if(m.halign==="center"&&(_*=.5),Y&&J>=1){for(var I=0;I<Y.length;I++)N.text(Y[I],v-N.getStringUnitWidth(Y[I])*_,b),b+=O;return N}v-=N.getStringUnitWidth(g)*_}return m.halign==="justify"?N.text(g,v,b,{maxWidth:m.maxWidth||100,align:"justify"}):N.text(g,v,b),N}u.default=d},420:function(l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.getPageAvailableWidth=u.parseSpacing=u.getFillStyle=u.addTableBorder=u.getStringWidth=void 0;function d(N,R,F){F.applyStyles(R,!0);var P=Array.isArray(N)?N:[N],L=P.map(function(O){return F.getTextWidth(O)}).reduce(function(O,q){return Math.max(O,q)},0);return L}u.getStringWidth=d;function g(N,R,F,P){var L=R.settings.tableLineWidth,O=R.settings.tableLineColor;N.applyStyles({lineWidth:L,lineColor:O});var q=v(L,!1);q&&N.rect(F.x,F.y,R.getWidth(N.pageSize().width),P.y-F.y,q)}u.addTableBorder=g;function v(N,R){var F=N>0,P=R||R===0;return F&&P?"DF":F?"S":P?"F":null}u.getFillStyle=v;function b(N,R){var F,P,L,O;if(N=N||R,Array.isArray(N)){if(N.length>=4)return{top:N[0],right:N[1],bottom:N[2],left:N[3]};if(N.length===3)return{top:N[0],right:N[1],bottom:N[2],left:N[1]};if(N.length===2)return{top:N[0],right:N[1],bottom:N[0],left:N[1]};N.length===1?N=N[0]:N=R}return typeof N=="object"?(typeof N.vertical=="number"&&(N.top=N.vertical,N.bottom=N.vertical),typeof N.horizontal=="number"&&(N.right=N.horizontal,N.left=N.horizontal),{left:(F=N.left)!==null&&F!==void 0?F:R,top:(P=N.top)!==null&&P!==void 0?P:R,right:(L=N.right)!==null&&L!==void 0?L:R,bottom:(O=N.bottom)!==null&&O!==void 0?O:R}):(typeof N!="number"&&(N=R),{top:N,right:N,bottom:N,left:N})}u.parseSpacing=b;function m(N,R){var F=b(R.settings.margin,0);return N.pageSize().width-(F.left+F.right)}u.getPageAvailableWidth=m},796:function(l,u){var d=this&&this.__extends||function(){var m=function(N,R){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,P){F.__proto__=P}||function(F,P){for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(F[L]=P[L])},m(N,R)};return function(N,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");m(N,R);function F(){this.constructor=N}N.prototype=R===null?Object.create(R):(F.prototype=R.prototype,new F)}}();Object.defineProperty(u,"__esModule",{value:!0}),u.getTheme=u.defaultStyles=u.HtmlRowInput=void 0;var g=function(m){d(N,m);function N(R){var F=m.call(this)||this;return F._element=R,F}return N}(Array);u.HtmlRowInput=g;function v(m){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/m,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}u.defaultStyles=v;function b(m){var N={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return N[m]}u.getTheme=b},903:function(l,u,d){Object.defineProperty(u,"__esModule",{value:!0}),u.parseCss=void 0;var g=d(420);function v(F,P,L,O,q){var Y={},J=1.3333333333333333,_=m(P,function($){return q.getComputedStyle($).backgroundColor});_!=null&&(Y.fillColor=_);var I=m(P,function($){return q.getComputedStyle($).color});I!=null&&(Y.textColor=I);var C=R(O,L);C&&(Y.cellPadding=C);var M="borderTopColor",A=J*L,E=O.borderTopWidth;if(O.borderBottomWidth===E&&O.borderRightWidth===E&&O.borderLeftWidth===E){var T=(parseFloat(E)||0)/A;T&&(Y.lineWidth=T)}else Y.lineWidth={top:(parseFloat(O.borderTopWidth)||0)/A,right:(parseFloat(O.borderRightWidth)||0)/A,bottom:(parseFloat(O.borderBottomWidth)||0)/A,left:(parseFloat(O.borderLeftWidth)||0)/A},Y.lineWidth.top||(Y.lineWidth.right?M="borderRightColor":Y.lineWidth.bottom?M="borderBottomColor":Y.lineWidth.left&&(M="borderLeftColor"));var W=m(P,function($){return q.getComputedStyle($)[M]});W!=null&&(Y.lineColor=W);var ct=["left","right","center","justify"];ct.indexOf(O.textAlign)!==-1&&(Y.halign=O.textAlign),ct=["middle","bottom","top"],ct.indexOf(O.verticalAlign)!==-1&&(Y.valign=O.verticalAlign);var Q=parseInt(O.fontSize||"");isNaN(Q)||(Y.fontSize=Q/J);var X=b(O);X&&(Y.fontStyle=X);var et=(O.fontFamily||"").toLowerCase();return F.indexOf(et)!==-1&&(Y.font=et),Y}u.parseCss=v;function b(F){var P="";return(F.fontWeight==="bold"||F.fontWeight==="bolder"||parseInt(F.fontWeight)>=700)&&(P="bold"),(F.fontStyle==="italic"||F.fontStyle==="oblique")&&(P+="italic"),P}function m(F,P){var L=N(F,P);if(!L)return null;var O=L.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!O||!Array.isArray(O))return null;var q=[parseInt(O[1]),parseInt(O[2]),parseInt(O[3])],Y=parseInt(O[4]);return Y===0||isNaN(q[0])||isNaN(q[1])||isNaN(q[2])?null:q}function N(F,P){var L=P(F);return L==="rgba(0, 0, 0, 0)"||L==="transparent"||L==="initial"||L==="inherit"?F.parentElement==null?null:N(F.parentElement,P):L}function R(F,P){var L=[F.paddingTop,F.paddingRight,F.paddingBottom,F.paddingLeft],O=96/(72/P),q=(parseInt(F.lineHeight)-parseInt(F.fontSize))/P/2,Y=L.map(function(_){return parseInt(_||"0")/O}),J=(0,g.parseSpacing)(Y,0);return q>J.top&&(J.top=q),q>J.bottom&&(J.bottom=q),J}},744:function(l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.DocHandler=void 0;var d={},g=function(){function v(b){this.jsPDFDocument=b,this.userStyles={textColor:b.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:b.internal.getFontSize(),fontStyle:b.internal.getFont().fontStyle,font:b.internal.getFont().fontName,lineWidth:b.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:b.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return v.setDefaults=function(b,m){m===void 0&&(m=null),m?m.__autoTableDocumentDefaults=b:d=b},v.unifyColor=function(b){return Array.isArray(b)?b:typeof b=="number"?[b,b,b]:typeof b=="string"?[b]:null},v.prototype.applyStyles=function(b,m){var N,R,F;m===void 0&&(m=!1),b.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(b.fontStyle);var P=this.jsPDFDocument.internal.getFont(),L=P.fontStyle,O=P.fontName;if(b.font&&(O=b.font),b.fontStyle){L=b.fontStyle;var q=this.getFontList()[O];q&&q.indexOf(L)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(q[0]),L=q[0])}if(this.jsPDFDocument.setFont(O,L),b.fontSize&&this.jsPDFDocument.setFontSize(b.fontSize),!m){var Y=v.unifyColor(b.fillColor);Y&&(N=this.jsPDFDocument).setFillColor.apply(N,Y),Y=v.unifyColor(b.textColor),Y&&(R=this.jsPDFDocument).setTextColor.apply(R,Y),Y=v.unifyColor(b.lineColor),Y&&(F=this.jsPDFDocument).setDrawColor.apply(F,Y),typeof b.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(b.lineWidth)}},v.prototype.splitTextToSize=function(b,m,N){return this.jsPDFDocument.splitTextToSize(b,m,N)},v.prototype.rect=function(b,m,N,R,F){return this.jsPDFDocument.rect(b,m,N,R,F)},v.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},v.prototype.getTextWidth=function(b){return this.jsPDFDocument.getTextWidth(b)},v.prototype.getDocument=function(){return this.jsPDFDocument},v.prototype.setPage=function(b){this.jsPDFDocument.setPage(b)},v.prototype.addPage=function(){return this.jsPDFDocument.addPage()},v.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},v.prototype.getGlobalOptions=function(){return d||{}},v.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},v.prototype.pageSize=function(){var b=this.jsPDFDocument.internal.pageSize;return b.width==null&&(b={width:b.getWidth(),height:b.getHeight()}),b},v.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},v.prototype.getLineHeightFactor=function(){var b=this.jsPDFDocument;return b.getLineHeightFactor?b.getLineHeightFactor():1.15},v.prototype.getLineHeight=function(b){return b/this.scaleFactor()*this.getLineHeightFactor()},v.prototype.pageNumber=function(){var b=this.jsPDFDocument.internal.getCurrentPageInfo();return b?b.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},v}();u.DocHandler=g},4:function(l,u,d){Object.defineProperty(u,"__esModule",{value:!0}),u.parseHtml=void 0;var g=d(903),v=d(796);function b(R,F,P,L,O){var q,Y;L===void 0&&(L=!1),O===void 0&&(O=!1);var J;typeof F=="string"?J=P.document.querySelector(F):J=F;var _=Object.keys(R.getFontList()),I=R.scaleFactor(),C=[],M=[],A=[];if(!J)return console.error("Html table could not be found with input: ",F),{head:C,body:M,foot:A};for(var E=0;E<J.rows.length;E++){var T=J.rows[E],W=(Y=(q=T==null?void 0:T.parentElement)===null||q===void 0?void 0:q.tagName)===null||Y===void 0?void 0:Y.toLowerCase(),ct=m(_,I,P,T,L,O);ct&&(W==="thead"?C.push(ct):W==="tfoot"?A.push(ct):M.push(ct))}return{head:C,body:M,foot:A}}u.parseHtml=b;function m(R,F,P,L,O,q){for(var Y=new v.HtmlRowInput(L),J=0;J<L.cells.length;J++){var _=L.cells[J],I=P.getComputedStyle(_);if(O||I.display!=="none"){var C=void 0;q&&(C=(0,g.parseCss)(R,_,F,I,P)),Y.push({rowSpan:_.rowSpan,colSpan:_.colSpan,styles:C,_element:_,content:N(_)})}}var M=P.getComputedStyle(L);if(Y.length>0&&(O||M.display!=="none"))return Y}function N(R){var F=R.cloneNode(!0);return F.innerHTML=F.innerHTML.replace(/\n/g,"").replace(/ +/g," "),F.innerHTML=F.innerHTML.split(/<br.*?>/).map(function(P){return P.trim()}).join(`
`),F.innerText||F.textContent||""}},776:function(l,u,d){Object.defineProperty(u,"__esModule",{value:!0}),u.parseInput=void 0;var g=d(4),v=d(356),b=d(420),m=d(744),N=d(792);function R(J,_){var I=new m.DocHandler(J),C=I.getDocumentOptions(),M=I.getGlobalOptions();(0,N.default)(I,M,C,_);var A=(0,v.assign)({},M,C,_),E;typeof window<"u"&&(E=window);var T=F(M,C,_),W=P(M,C,_),ct=L(I,A),Q=q(I,A,E);return{id:_.tableId,content:Q,hooks:W,styles:T,settings:ct}}u.parseInput=R;function F(J,_,I){for(var C={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},M=function(W){if(W==="columnStyles"){var ct=J[W],Q=_[W],X=I[W];C.columnStyles=(0,v.assign)({},ct,Q,X)}else{var et=[J,_,I],$=et.map(function(at){return at[W]||{}});C[W]=(0,v.assign)({},$[0],$[1],$[2])}},A=0,E=Object.keys(C);A<E.length;A++){var T=E[A];M(T)}return C}function P(J,_,I){for(var C=[J,_,I],M={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},A=0,E=C;A<E.length;A++){var T=E[A];T.didParseCell&&M.didParseCell.push(T.didParseCell),T.willDrawCell&&M.willDrawCell.push(T.willDrawCell),T.didDrawCell&&M.didDrawCell.push(T.didDrawCell),T.willDrawPage&&M.willDrawPage.push(T.willDrawPage),T.didDrawPage&&M.didDrawPage.push(T.didDrawPage)}return M}function L(J,_){var I,C,M,A,E,T,W,ct,Q,X,et,$,at=(0,b.parseSpacing)(_.margin,40/J.scaleFactor()),mt=(I=O(J,_.startY))!==null&&I!==void 0?I:at.top,k;_.showFoot===!0?k="everyPage":_.showFoot===!1?k="never":k=(C=_.showFoot)!==null&&C!==void 0?C:"everyPage";var H;_.showHead===!0?H="everyPage":_.showHead===!1?H="never":H=(M=_.showHead)!==null&&M!==void 0?M:"everyPage";var G=(A=_.useCss)!==null&&A!==void 0?A:!1,Z=_.theme||(G?"plain":"striped"),nt=!!_.horizontalPageBreak,ut=(E=_.horizontalPageBreakRepeat)!==null&&E!==void 0?E:null;return{includeHiddenHtml:(T=_.includeHiddenHtml)!==null&&T!==void 0?T:!1,useCss:G,theme:Z,startY:mt,margin:at,pageBreak:(W=_.pageBreak)!==null&&W!==void 0?W:"auto",rowPageBreak:(ct=_.rowPageBreak)!==null&&ct!==void 0?ct:"auto",tableWidth:(Q=_.tableWidth)!==null&&Q!==void 0?Q:"auto",showHead:H,showFoot:k,tableLineWidth:(X=_.tableLineWidth)!==null&&X!==void 0?X:0,tableLineColor:(et=_.tableLineColor)!==null&&et!==void 0?et:200,horizontalPageBreak:nt,horizontalPageBreakRepeat:ut,horizontalPageBreakBehaviour:($=_.horizontalPageBreakBehaviour)!==null&&$!==void 0?$:"afterAllRows"}}function O(J,_){var I=J.getLastAutoTable(),C=J.scaleFactor(),M=J.pageNumber(),A=!1;if(I&&I.startPageNumber){var E=I.startPageNumber+I.pageNumber-1;A=E===M}return typeof _=="number"?_:(_==null||_===!1)&&A&&(I==null?void 0:I.finalY)!=null?I.finalY+20/C:null}function q(J,_,I){var C=_.head||[],M=_.body||[],A=_.foot||[];if(_.html){var E=_.includeHiddenHtml;if(I){var T=(0,g.parseHtml)(J,_.html,I,E,_.useCss)||{};C=T.head||C,M=T.body||C,A=T.foot||C}else console.error("Cannot parse html in non browser environment")}var W=_.columns||Y(C,M,A);return{columns:W,head:C,body:M,foot:A}}function Y(J,_,I){var C=J[0]||_[0]||I[0]||[],M=[];return Object.keys(C).filter(function(A){return A!=="_element"}).forEach(function(A){var E=1,T;Array.isArray(C)?T=C[parseInt(A)]:T=C[A],typeof T=="object"&&!Array.isArray(T)&&(E=(T==null?void 0:T.colSpan)||1);for(var W=0;W<E;W++){var ct=void 0;Array.isArray(C)?ct=M.length:ct=A+(W>0?"_".concat(W):"");var Q={dataKey:ct};M.push(Q)}}),M}},792:function(l,u){Object.defineProperty(u,"__esModule",{value:!0});function d(v,b,m,N){for(var R=function(O){O&&typeof O!="object"&&console.error("The options parameter should be of type object, is: "+typeof O),typeof O.extendWidth<"u"&&(O.tableWidth=O.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof O.margins<"u"&&(typeof O.margin>"u"&&(O.margin=O.margins),console.error("Use of deprecated option: margins, use margin instead.")),O.startY&&typeof O.startY!="number"&&(console.error("Invalid value for startY option",O.startY),delete O.startY),!O.didDrawPage&&(O.afterPageContent||O.beforePageContent||O.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),O.didDrawPage=function(A){v.applyStyles(v.userStyles),O.beforePageContent&&O.beforePageContent(A),v.applyStyles(v.userStyles),O.afterPageContent&&O.afterPageContent(A),v.applyStyles(v.userStyles),O.afterPageAdd&&A.pageNumber>1&&A.afterPageAdd(A),v.applyStyles(v.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(A){O[A]&&console.error('The "'.concat(A,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(A){var E=A[0],T=A[1];O[T]&&(console.error("Use of deprecated option ".concat(T,". Use ").concat(E," instead")),O[E]=O[T])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(A){var E=typeof A=="string"?A:A[0],T=typeof A=="string"?A:A[1];typeof O[E]<"u"&&(typeof O.styles[T]>"u"&&(O.styles[T]=O[E]),console.error("Use of deprecated option: "+E+", use the style "+T+" instead."))});for(var q=0,Y=["styles","bodyStyles","headStyles","footStyles"];q<Y.length;q++){var J=Y[q];g(O[J]||{})}for(var _=O.columnStyles||{},I=0,C=Object.keys(_);I<C.length;I++){var M=C[I];g(_[M]||{})}},F=0,P=[b,m,N];F<P.length;F++){var L=P[F];R(L)}}u.default=d;function g(v){v.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),v.minCellHeight||(v.minCellHeight=v.rowHeight)):v.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),v.cellWidth||(v.cellWidth=v.columnWidth))}},260:function(l,u,d){Object.defineProperty(u,"__esModule",{value:!0}),u.Column=u.Cell=u.Row=u.Table=void 0;var g=d(796),v=d(172),b=d(420),m=function(){function P(L,O){this.pageNumber=1,this.pageCount=1,this.id=L.id,this.settings=L.settings,this.styles=L.styles,this.hooks=L.hooks,this.columns=O.columns,this.head=O.head,this.body=O.body,this.foot=O.foot}return P.prototype.getHeadHeight=function(L){return this.head.reduce(function(O,q){return O+q.getMaxCellHeight(L)},0)},P.prototype.getFootHeight=function(L){return this.foot.reduce(function(O,q){return O+q.getMaxCellHeight(L)},0)},P.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},P.prototype.callCellHooks=function(L,O,q,Y,J,_){for(var I=0,C=O;I<C.length;I++){var M=C[I],A=new v.CellHookData(L,this,q,Y,J,_),E=M(A)===!1;if(q.text=Array.isArray(q.text)?q.text:[q.text],E)return!1}return!0},P.prototype.callEndPageHooks=function(L,O){L.applyStyles(L.userStyles);for(var q=0,Y=this.hooks.didDrawPage;q<Y.length;q++){var J=Y[q];J(new v.HookData(L,this,O))}},P.prototype.callWillDrawPageHooks=function(L,O){for(var q=0,Y=this.hooks.willDrawPage;q<Y.length;q++){var J=Y[q];J(new v.HookData(L,this,O))}},P.prototype.getWidth=function(L){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var O=this.columns.reduce(function(Y,J){return Y+J.wrappedWidth},0);return O}else{var q=this.settings.margin;return L-q.left-q.right}},P}();u.Table=m;var N=function(){function P(L,O,q,Y,J){J===void 0&&(J=!1),this.height=0,this.raw=L,L instanceof g.HtmlRowInput&&(this.raw=L._element,this.element=L._element),this.index=O,this.section=q,this.cells=Y,this.spansMultiplePages=J}return P.prototype.getMaxCellHeight=function(L){var O=this;return L.reduce(function(q,Y){var J;return Math.max(q,((J=O.cells[Y.index])===null||J===void 0?void 0:J.height)||0)},0)},P.prototype.hasRowSpan=function(L){var O=this;return L.filter(function(q){var Y=O.cells[q.index];return Y?Y.rowSpan>1:!1}).length>0},P.prototype.canEntireRowFit=function(L,O){return this.getMaxCellHeight(O)<=L},P.prototype.getMinimumRowHeight=function(L,O){var q=this;return L.reduce(function(Y,J){var _=q.cells[J.index];if(!_)return 0;var I=O.getLineHeight(_.styles.fontSize),C=_.padding("vertical"),M=C+I;return M>Y?M:Y},0)},P}();u.Row=N;var R=function(){function P(L,O,q){var Y,J;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=O,this.section=q,this.raw=L;var _=L;L!=null&&typeof L=="object"&&!Array.isArray(L)?(this.rowSpan=L.rowSpan||1,this.colSpan=L.colSpan||1,_=(J=(Y=L.content)!==null&&Y!==void 0?Y:L.title)!==null&&J!==void 0?J:L,L._element&&(this.raw=L._element)):(this.rowSpan=1,this.colSpan=1);var I=_!=null?""+_:"",C=/\r\n|\r|\n/g;this.text=I.split(C)}return P.prototype.getTextPos=function(){var L;if(this.styles.valign==="top")L=this.y+this.padding("top");else if(this.styles.valign==="bottom")L=this.y+this.height-this.padding("bottom");else{var O=this.height-this.padding("vertical");L=this.y+O/2+this.padding("top")}var q;if(this.styles.halign==="right")q=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var Y=this.width-this.padding("horizontal");q=this.x+Y/2+this.padding("left")}else q=this.x+this.padding("left");return{x:q,y:L}},P.prototype.getContentHeight=function(L,O){O===void 0&&(O=1.15);var q=Array.isArray(this.text)?this.text.length:1,Y=this.styles.fontSize/L*O,J=q*Y+this.padding("vertical");return Math.max(J,this.styles.minCellHeight)},P.prototype.padding=function(L){var O=(0,b.parseSpacing)(this.styles.cellPadding,0);return L==="vertical"?O.top+O.bottom:L==="horizontal"?O.left+O.right:O[L]},P}();u.Cell=R;var F=function(){function P(L,O,q){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=L,this.raw=O,this.index=q}return P.prototype.getMaxCustomCellWidth=function(L){for(var O=0,q=0,Y=L.allRows();q<Y.length;q++){var J=Y[q],_=J.cells[this.index];_&&typeof _.styles.cellWidth=="number"&&(O=Math.max(O,_.styles.cellWidth))}return O},P}();u.Column=F},356:function(l,u){Object.defineProperty(u,"__esModule",{value:!0}),u.assign=void 0;function d(g,v,b,m,N){if(g==null)throw new TypeError("Cannot convert undefined or null to object");for(var R=Object(g),F=1;F<arguments.length;F++){var P=arguments[F];if(P!=null)for(var L in P)Object.prototype.hasOwnProperty.call(P,L)&&(R[L]=P[L])}return R}u.assign=d},972:function(l,u,d){Object.defineProperty(u,"__esModule",{value:!0}),u.createTable=void 0;var g=d(744),v=d(260),b=d(324),m=d(796),N=d(356);function R(J,_){var I=new g.DocHandler(J),C=F(_,I.scaleFactor()),M=new v.Table(_,C);return(0,b.calculateWidths)(I,M),I.applyStyles(I.userStyles),M}u.createTable=R;function F(J,_){var I=J.content,C=q(I.columns);if(I.head.length===0){var M=L(C,"head");M&&I.head.push(M)}if(I.foot.length===0){var M=L(C,"foot");M&&I.foot.push(M)}var A=J.settings.theme,E=J.styles;return{columns:C,head:P("head",I.head,C,E,A,_),body:P("body",I.body,C,E,A,_),foot:P("foot",I.foot,C,E,A,_)}}function P(J,_,I,C,M,A){var E={},T=_.map(function(W,ct){for(var Q=0,X={},et=0,$=0,at=0,mt=I;at<mt.length;at++){var k=mt[at];if(E[k.index]==null||E[k.index].left===0)if($===0){var H=void 0;Array.isArray(W)?H=W[k.index-et-Q]:H=W[k.dataKey];var G={};typeof H=="object"&&!Array.isArray(H)&&(G=(H==null?void 0:H.styles)||{});var Z=Y(J,k,ct,M,C,A,G),nt=new v.Cell(H,Z,J);X[k.dataKey]=nt,X[k.index]=nt,$=nt.colSpan-1,E[k.index]={left:nt.rowSpan-1,times:$}}else $--,et++;else E[k.index].left--,$=E[k.index].times,Q++}return new v.Row(W,ct,J,X)});return T}function L(J,_){var I={};return J.forEach(function(C){if(C.raw!=null){var M=O(_,C.raw);M!=null&&(I[C.dataKey]=M)}}),Object.keys(I).length>0?I:null}function O(J,_){if(J==="head"){if(typeof _=="object")return _.header||_.title||null;if(typeof _=="string"||typeof _=="number")return _}else if(J==="foot"&&typeof _=="object")return _.footer;return null}function q(J){return J.map(function(_,I){var C,M,A;return typeof _=="object"?A=(M=(C=_.dataKey)!==null&&C!==void 0?C:_.key)!==null&&M!==void 0?M:I:A=I,new v.Column(A,_,I)})}function Y(J,_,I,C,M,A,E){var T=(0,m.getTheme)(C),W;J==="head"?W=M.headStyles:J==="body"?W=M.bodyStyles:J==="foot"&&(W=M.footStyles);var ct=(0,N.assign)({},T.table,T[J],M.styles,W),Q=M.columnStyles[_.dataKey]||M.columnStyles[_.index]||{},X=J==="body"?Q:{},et=J==="body"&&I%2===0?(0,N.assign)({},T.alternateRow,M.alternateRowStyles):{},$=(0,m.defaultStyles)(A),at=(0,N.assign)({},$,ct,et,X);return(0,N.assign)(at,E)}},664:function(l,u,d){Object.defineProperty(u,"__esModule",{value:!0}),u.addPage=u.drawTable=void 0;var g=d(420),v=d(260),b=d(744),m=d(356),N=d(136),R=d(224);function F(Q,X){var et=X.settings,$=et.startY,at=et.margin,mt={x:at.left,y:$},k=X.getHeadHeight(X.columns)+X.getFootHeight(X.columns),H=$+at.bottom+k;if(et.pageBreak==="avoid"){var G=X.body,Z=G.reduce(function(ht,pt){return ht+pt.height},0);H+=Z}var nt=new b.DocHandler(Q);(et.pageBreak==="always"||et.startY!=null&&H>nt.pageSize().height)&&(ct(nt),mt.y=at.top),X.callWillDrawPageHooks(nt,mt);var ut=(0,m.assign)({},mt);X.startPageNumber=nt.pageNumber(),et.horizontalPageBreak?P(nt,X,ut,mt):(nt.applyStyles(nt.userStyles),(et.showHead==="firstPage"||et.showHead==="everyPage")&&X.head.forEach(function(ht){return M(nt,X,ht,mt,X.columns)}),nt.applyStyles(nt.userStyles),X.body.forEach(function(ht,pt){var Tt=pt===X.body.length-1;C(nt,X,ht,Tt,ut,mt,X.columns)}),nt.applyStyles(nt.userStyles),(et.showFoot==="lastPage"||et.showFoot==="everyPage")&&X.foot.forEach(function(ht){return M(nt,X,ht,mt,X.columns)})),(0,g.addTableBorder)(nt,X,ut,mt),X.callEndPageHooks(nt,mt),X.finalY=mt.y,Q.lastAutoTable=X,Q.previousAutoTable=X,Q.autoTable&&(Q.autoTable.previous=X),nt.applyStyles(nt.userStyles)}u.drawTable=F;function P(Q,X,et,$){var at=(0,R.calculateAllColumnsCanFitInPage)(Q,X),mt=X.settings;if(mt.horizontalPageBreakBehaviour==="afterAllRows")at.forEach(function(Z,nt){Q.applyStyles(Q.userStyles),nt>0?W(Q,X,et,$,Z.columns,!0):L(Q,X,$,Z.columns),O(Q,X,et,$,Z.columns),Y(Q,X,$,Z.columns)});else for(var k=-1,H=at[0],G=function(){var Z=k;if(H){Q.applyStyles(Q.userStyles);var nt=H.columns;k>=0?W(Q,X,et,$,nt,!0):L(Q,X,$,nt),Z=q(Q,X,k+1,$,nt),Y(Q,X,$,nt)}var ut=Z-k;at.slice(1).forEach(function(ht){Q.applyStyles(Q.userStyles),W(Q,X,et,$,ht.columns,!0),q(Q,X,k+1,$,ht.columns,ut),Y(Q,X,$,ht.columns)}),k=Z};k<X.body.length-1;)G()}function L(Q,X,et,$){var at=X.settings;Q.applyStyles(Q.userStyles),(at.showHead==="firstPage"||at.showHead==="everyPage")&&X.head.forEach(function(mt){return M(Q,X,mt,et,$)})}function O(Q,X,et,$,at){Q.applyStyles(Q.userStyles),X.body.forEach(function(mt,k){var H=k===X.body.length-1;C(Q,X,mt,H,et,$,at)})}function q(Q,X,et,$,at,mt){Q.applyStyles(Q.userStyles),mt=mt??X.body.length;var k=Math.min(et+mt,X.body.length),H=-1;return X.body.slice(et,k).forEach(function(G,Z){var nt=et+Z===X.body.length-1,ut=T(Q,X,nt,$);G.canEntireRowFit(ut,at)&&(M(Q,X,G,$,at),H=et+Z)}),H}function Y(Q,X,et,$){var at=X.settings;Q.applyStyles(Q.userStyles),(at.showFoot==="lastPage"||at.showFoot==="everyPage")&&X.foot.forEach(function(mt){return M(Q,X,mt,et,$)})}function J(Q,X,et){var $=et.getLineHeight(Q.styles.fontSize),at=Q.padding("vertical"),mt=Math.floor((X-at)/$);return Math.max(0,mt)}function _(Q,X,et,$){var at={};Q.spansMultiplePages=!0,Q.height=0;for(var mt=0,k=0,H=et.columns;k<H.length;k++){var G=H[k],Z=Q.cells[G.index];if(Z){Array.isArray(Z.text)||(Z.text=[Z.text]);var nt=new v.Cell(Z.raw,Z.styles,Z.section);nt=(0,m.assign)(nt,Z),nt.text=[];var ut=J(Z,X,$);Z.text.length>ut&&(nt.text=Z.text.splice(ut,Z.text.length));var ht=$.scaleFactor(),pt=$.getLineHeightFactor();Z.contentHeight=Z.getContentHeight(ht,pt),Z.contentHeight>=X&&(Z.contentHeight=X,nt.styles.minCellHeight-=X),Z.contentHeight>Q.height&&(Q.height=Z.contentHeight),nt.contentHeight=nt.getContentHeight(ht,pt),nt.contentHeight>mt&&(mt=nt.contentHeight),at[G.index]=nt}}var Tt=new v.Row(Q.raw,-1,Q.section,at,!0);Tt.height=mt;for(var _t=0,Rt=et.columns;_t<Rt.length;_t++){var G=Rt[_t],nt=Tt.cells[G.index];nt&&(nt.height=Tt.height);var Z=Q.cells[G.index];Z&&(Z.height=Q.height)}return Tt}function I(Q,X,et,$){var at=Q.pageSize().height,mt=$.settings.margin,k=mt.top+mt.bottom,H=at-k;X.section==="body"&&(H-=$.getHeadHeight($.columns)+$.getFootHeight($.columns));var G=X.getMinimumRowHeight($.columns,Q),Z=G<et;if(G>H)return console.error("Will not be able to print row ".concat(X.index," correctly since it's minimum height is larger than page height")),!0;if(!Z)return!1;var nt=X.hasRowSpan($.columns),ut=X.getMaxCellHeight($.columns)>H;return ut?(nt&&console.error("The content of row ".concat(X.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(nt||$.settings.rowPageBreak==="avoid")}function C(Q,X,et,$,at,mt,k){var H=T(Q,X,$,mt);if(et.canEntireRowFit(H,k))M(Q,X,et,mt,k);else if(I(Q,et,H,X)){var G=_(et,H,X,Q);M(Q,X,et,mt,k),W(Q,X,at,mt,k),C(Q,X,G,$,at,mt,k)}else W(Q,X,at,mt,k),C(Q,X,et,$,at,mt,k)}function M(Q,X,et,$,at){$.x=X.settings.margin.left;for(var mt=0,k=at;mt<k.length;mt++){var H=k[mt],G=et.cells[H.index];if(!G){$.x+=H.width;continue}Q.applyStyles(G.styles),G.x=$.x,G.y=$.y;var Z=X.callCellHooks(Q,X.hooks.willDrawCell,G,et,H,$);if(Z===!1){$.x+=H.width;continue}A(Q,G,$);var nt=G.getTextPos();(0,N.default)(G.text,nt.x,nt.y,{halign:G.styles.halign,valign:G.styles.valign,maxWidth:Math.ceil(G.width-G.padding("left")-G.padding("right"))},Q.getDocument()),X.callCellHooks(Q,X.hooks.didDrawCell,G,et,H,$),$.x+=H.width}$.y+=et.height}function A(Q,X,et){var $=X.styles;if(Q.getDocument().setFillColor(Q.getDocument().getFillColor()),typeof $.lineWidth=="number"){var at=(0,g.getFillStyle)($.lineWidth,$.fillColor);at&&Q.rect(X.x,et.y,X.width,X.height,at)}else typeof $.lineWidth=="object"&&($.fillColor&&Q.rect(X.x,et.y,X.width,X.height,"F"),E(Q,X,et,$.lineWidth))}function E(Q,X,et,$){var at,mt,k,H;$.top&&(at=et.x,mt=et.y,k=et.x+X.width,H=et.y,$.right&&(k+=.5*$.right),$.left&&(at-=.5*$.left),G($.top,at,mt,k,H)),$.bottom&&(at=et.x,mt=et.y+X.height,k=et.x+X.width,H=et.y+X.height,$.right&&(k+=.5*$.right),$.left&&(at-=.5*$.left),G($.bottom,at,mt,k,H)),$.left&&(at=et.x,mt=et.y,k=et.x,H=et.y+X.height,$.top&&(mt-=.5*$.top),$.bottom&&(H+=.5*$.bottom),G($.left,at,mt,k,H)),$.right&&(at=et.x+X.width,mt=et.y,k=et.x+X.width,H=et.y+X.height,$.top&&(mt-=.5*$.top),$.bottom&&(H+=.5*$.bottom),G($.right,at,mt,k,H));function G(Z,nt,ut,ht,pt){Q.getDocument().setLineWidth(Z),Q.getDocument().line(nt,ut,ht,pt,"S")}}function T(Q,X,et,$){var at=X.settings.margin.bottom,mt=X.settings.showFoot;return(mt==="everyPage"||mt==="lastPage"&&et)&&(at+=X.getFootHeight(X.columns)),Q.pageSize().height-$.y-at}function W(Q,X,et,$,at,mt){at===void 0&&(at=[]),mt===void 0&&(mt=!1),Q.applyStyles(Q.userStyles),X.settings.showFoot==="everyPage"&&!mt&&X.foot.forEach(function(H){return M(Q,X,H,$,at)}),X.callEndPageHooks(Q,$);var k=X.settings.margin;(0,g.addTableBorder)(Q,X,et,$),ct(Q),X.pageNumber++,X.pageCount++,$.x=k.left,$.y=k.top,et.y=k.top,X.callWillDrawPageHooks(Q,$),X.settings.showHead==="everyPage"&&(X.head.forEach(function(H){return M(Q,X,H,$,at)}),Q.applyStyles(Q.userStyles))}u.addPage=W;function ct(Q){var X=Q.pageNumber();Q.setPage(X+1);var et=Q.pageNumber();return et===X?(Q.addPage(),!0):!1}},224:function(l,u,d){Object.defineProperty(u,"__esModule",{value:!0}),u.calculateAllColumnsCanFitInPage=void 0;var g=d(420);function v(m,N,R){var F;R===void 0&&(R={});var P=(0,g.getPageAvailableWidth)(m,N),L=new Map,O=[],q=[],Y=[];N.settings.horizontalPageBreakRepeat,Array.isArray(N.settings.horizontalPageBreakRepeat)?Y=N.settings.horizontalPageBreakRepeat:(typeof N.settings.horizontalPageBreakRepeat=="string"||typeof N.settings.horizontalPageBreakRepeat=="number")&&(Y=[N.settings.horizontalPageBreakRepeat]),Y.forEach(function(C){var M=N.columns.find(function(A){return A.dataKey===C||A.index===C});M&&!L.has(M.index)&&(L.set(M.index,!0),O.push(M.index),q.push(N.columns[M.index]),P-=M.wrappedWidth)});for(var J=!0,_=(F=R==null?void 0:R.start)!==null&&F!==void 0?F:0;_<N.columns.length;){if(L.has(_)){_++;continue}var I=N.columns[_].wrappedWidth;if(J||P>=I)J=!1,O.push(_),q.push(N.columns[_]),P-=I;else break;_++}return{colIndexes:O,columns:q,lastIndex:_-1}}function b(m,N){for(var R=[],F=0;F<N.columns.length;F++){var P=v(m,N,{start:F});P.columns.length&&(R.push(P),F=P.lastIndex)}return R}u.calculateAllColumnsCanFitInPage=b},324:function(l,u,d){Object.defineProperty(u,"__esModule",{value:!0}),u.ellipsize=u.resizeColumns=u.calculateWidths=void 0;var g=d(420);function v(O,q){b(O,q);var Y=[],J=0;q.columns.forEach(function(I){var C=I.getMaxCustomCellWidth(q);C?I.width=C:(I.width=I.wrappedWidth,Y.push(I)),J+=I.width});var _=q.getWidth(O.pageSize().width)-J;_&&(_=m(Y,_,function(I){return Math.max(I.minReadableWidth,I.minWidth)})),_&&(_=m(Y,_,function(I){return I.minWidth})),_=Math.abs(_),!q.settings.horizontalPageBreak&&_>.1/O.scaleFactor()&&(_=_<1?_:Math.round(_),console.warn("Of the table content, ".concat(_," units width could not fit page"))),R(q),F(q,O),N(q)}u.calculateWidths=v;function b(O,q){var Y=O.scaleFactor(),J=q.settings.horizontalPageBreak,_=(0,g.getPageAvailableWidth)(O,q);q.allRows().forEach(function(I){for(var C=0,M=q.columns;C<M.length;C++){var A=M[C],E=I.cells[A.index];if(E){var T=q.hooks.didParseCell;q.callCellHooks(O,T,E,I,A,null);var W=E.padding("horizontal");E.contentWidth=(0,g.getStringWidth)(E.text,E.styles,O)+W;var ct=(0,g.getStringWidth)(E.text.join(" ").split(/[^\S\u00A0]+/),E.styles,O);if(E.minReadableWidth=ct+E.padding("horizontal"),typeof E.styles.cellWidth=="number")E.minWidth=E.styles.cellWidth,E.wrappedWidth=E.styles.cellWidth;else if(E.styles.cellWidth==="wrap"||J===!0)E.contentWidth>_?(E.minWidth=_,E.wrappedWidth=_):(E.minWidth=E.contentWidth,E.wrappedWidth=E.contentWidth);else{var Q=10/Y;E.minWidth=E.styles.minCellWidth||Q,E.wrappedWidth=E.contentWidth,E.minWidth>E.wrappedWidth&&(E.wrappedWidth=E.minWidth)}}}}),q.allRows().forEach(function(I){for(var C=0,M=q.columns;C<M.length;C++){var A=M[C],E=I.cells[A.index];if(E&&E.colSpan===1)A.wrappedWidth=Math.max(A.wrappedWidth,E.wrappedWidth),A.minWidth=Math.max(A.minWidth,E.minWidth),A.minReadableWidth=Math.max(A.minReadableWidth,E.minReadableWidth);else{var T=q.styles.columnStyles[A.dataKey]||q.styles.columnStyles[A.index]||{},W=T.cellWidth||T.minCellWidth;W&&typeof W=="number"&&(A.minWidth=W,A.wrappedWidth=W)}E&&(E.colSpan>1&&!A.minWidth&&(A.minWidth=E.minWidth),E.colSpan>1&&!A.wrappedWidth&&(A.wrappedWidth=E.minWidth))}})}function m(O,q,Y){for(var J=q,_=O.reduce(function(Q,X){return Q+X.wrappedWidth},0),I=0;I<O.length;I++){var C=O[I],M=C.wrappedWidth/_,A=J*M,E=C.width+A,T=Y(C),W=E<T?T:E;q-=W-C.width,C.width=W}if(q=Math.round(q*1e10)/1e10,q){var ct=O.filter(function(Q){return q<0?Q.width>Y(Q):!0});ct.length&&(q=m(ct,q,Y))}return q}u.resizeColumns=m;function N(O){for(var q={},Y=1,J=O.allRows(),_=0;_<J.length;_++)for(var I=J[_],C=0,M=O.columns;C<M.length;C++){var A=M[C],E=q[A.index];if(Y>1)Y--,delete I.cells[A.index];else if(E)E.cell.height+=I.height,Y=E.cell.colSpan,delete I.cells[A.index],E.left--,E.left<=1&&delete q[A.index];else{var T=I.cells[A.index];if(!T)continue;if(T.height=I.height,T.rowSpan>1){var W=J.length-_,ct=T.rowSpan>W?W:T.rowSpan;q[A.index]={cell:T,left:ct,row:I}}}}}function R(O){for(var q=O.allRows(),Y=0;Y<q.length;Y++)for(var J=q[Y],_=null,I=0,C=0,M=0;M<O.columns.length;M++){var A=O.columns[M];if(C-=1,C>1&&O.columns[M+1])I+=A.width,delete J.cells[A.index];else if(_){var E=_;delete J.cells[A.index],_=null,E.width=A.width+I}else{var E=J.cells[A.index];if(!E)continue;if(C=E.colSpan,I=0,E.colSpan>1){_=E,I+=A.width;continue}E.width=A.width+I}}}function F(O,q){for(var Y={count:0,height:0},J=0,_=O.allRows();J<_.length;J++){for(var I=_[J],C=0,M=O.columns;C<M.length;C++){var A=M[C],E=I.cells[A.index];if(E){q.applyStyles(E.styles,!0);var T=E.width-E.padding("horizontal");if(E.styles.overflow==="linebreak")E.text=q.splitTextToSize(E.text,T+1/q.scaleFactor(),{fontSize:E.styles.fontSize});else if(E.styles.overflow==="ellipsize")E.text=P(E.text,T,E.styles,q,"...");else if(E.styles.overflow==="hidden")E.text=P(E.text,T,E.styles,q,"");else if(typeof E.styles.overflow=="function"){var W=E.styles.overflow(E.text,T);typeof W=="string"?E.text=[W]:E.text=W}E.contentHeight=E.getContentHeight(q.scaleFactor(),q.getLineHeightFactor());var ct=E.contentHeight/E.rowSpan;E.rowSpan>1&&Y.count*Y.height<ct*E.rowSpan?Y={height:ct,count:E.rowSpan}:Y&&Y.count>0&&Y.height>ct&&(ct=Y.height),ct>I.height&&(I.height=ct)}}Y.count--}}function P(O,q,Y,J,_){return O.map(function(I){return L(I,q,Y,J,_)})}u.ellipsize=P;function L(O,q,Y,J,_){var I=1e4*J.scaleFactor();if(q=Math.ceil(q*I)/I,q>=(0,g.getStringWidth)(O,Y,J))return O;for(;q<(0,g.getStringWidth)(O+_,Y,J)&&!(O.length<=1);)O=O.substring(0,O.length-1);return O.trim()+_}},964:function(l){if(typeof e>"u"){var u=new Error("Cannot find module 'undefined'");throw u.code="MODULE_NOT_FOUND",u}l.exports=e}},i={};function s(l){var u=i[l];if(u!==void 0)return u.exports;var d=i[l]={exports:{}};return r[l].call(d.exports,d,d.exports,s),d.exports}var o={};return function(){var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.Cell=l.Column=l.Row=l.Table=l.CellHookData=l.__drawTable=l.__createTable=l.applyPlugin=void 0;var u=s(340),d=s(776),g=s(664),v=s(972),b=s(260);Object.defineProperty(l,"Table",{enumerable:!0,get:function(){return b.Table}});var m=s(172);Object.defineProperty(l,"CellHookData",{enumerable:!0,get:function(){return m.CellHookData}});var N=s(260);Object.defineProperty(l,"Cell",{enumerable:!0,get:function(){return N.Cell}}),Object.defineProperty(l,"Column",{enumerable:!0,get:function(){return N.Column}}),Object.defineProperty(l,"Row",{enumerable:!0,get:function(){return N.Row}});function R(q){(0,u.default)(q)}l.applyPlugin=R;function F(q,Y){var J=(0,d.parseInput)(q,Y),_=(0,v.createTable)(q,J);(0,g.drawTable)(q,_)}function P(q,Y){var J=(0,d.parseInput)(q,Y);return(0,v.createTable)(q,J)}l.__createTable=P;function L(q,Y){(0,g.drawTable)(q,Y)}l.__drawTable=L;try{var O=s(964);O.jsPDF&&(O=O.jsPDF),R(O)}catch{}l.default=F}(),o}()})})(kE);const Ro=n=>new Intl.NumberFormat("es-DO",{style:"currency",currency:"DOP",minimumFractionDigits:2,maximumFractionDigits:2}).format(n),jc=n=>n?new Date(n).toLocaleDateString("es-DO",{year:"numeric",month:"2-digit",day:"2-digit"}):"";class Og{static generateQuotePDF(t){const e=new Yt("p","mm","a4"),r=e.internal.pageSize.width,i=[23,54,93],s=[230,240,255],o=[0,128,0],l="data:image/png;base64,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";e.setFillColor(...i),e.rect(0,10,r,3,"F");const u=25,d=25;e.addImage(l,"PNG",3,15,u,d),e.setFont("helvetica","bold"),e.setFontSize(14),e.setTextColor(...i),e.text("CONSTRUCCIÓN, MANTENIMIENTO &",29,22),e.text("REPARACIONES DE PISCINAS DURÁN",29,28),e.setFont("helvetica","normal"),e.setFontSize(9),e.text("DIRECCIÓN: Calle Buen Pastor #5 Alondra, Pantoja",29,34),e.text("TELÉFONO: (809) 856-7741",29,39),e.text("CORREO: rogeliodurran88@gmail.com",29,44),e.setFont("helvetica","bold"),e.setFontSize(12),e.setTextColor(...i),e.text("COTIZACIÓN",r-15,20,{align:"right"}),e.setFont("helvetica","normal"),e.setFontSize(9),e.text(`N° DE COTIZACIÓN: ${t.number||"0001"}`,r-15,28,{align:"right"}),e.text(`FECHA: ${jc(t.date)}`,r-15,33,{align:"right"}),e.text(`VÁLIDO HASTA: ${jc(this.addDays(t.date,15))}`,r-15,38,{align:"right"}),e.setDrawColor(...i),e.roundedRect(15,55,r-30,35,3,3),e.setFont("helvetica","bold"),e.setFontSize(11),e.setTextColor(...i),e.text("DATOS DE LA EMPRESA",20,62),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.setFontSize(9),e.text(`Cliente: ${t.clientName||""}`,20,70),e.text(`Empresa: ${t.clientCompany||""}`,20,75),e.text(`Dirección: ${t.clientAddress||""}`,20,80),e.text(`Teléfono: ${t.clientPhone||""}`,20,85);const g=100,v=["CANT.","DESCRIPCIÓN","TOTAL"],b=t.items.map(L=>[L.quantity.toString(),L.description,Ro(L.total)]);e.autoTable({startY:g,head:[v],body:b,theme:"grid",headStyles:{fillColor:i,textColor:[255,255,255],fontSize:9,halign:"center"},styles:{fontSize:9,cellPadding:2},alternateRowStyles:{fillColor:s},columnStyles:{0:{cellWidth:20,halign:"center"},1:{cellWidth:120},2:{cellWidth:40,halign:"right"}}});const m=e.lastAutoTable.finalY+4,N=r-18;e.setFont("helvetica","bold"),e.setFontSize(9),e.setTextColor(0,0,0),e.text("TOTAL:",N-24,m,{align:"right"}),e.text(Ro(t.total),N,m,{align:"right"});const R=m+10;e.setDrawColor(...i),e.rect(14.2,R-14,r-80,40),e.setFont("helvetica","bold"),e.setFontSize(10),e.setTextColor(0,0,0),e.text("TÉRMINOS Y CONDICIONES",20,R),e.setFont("helvetica","normal"),e.setFontSize(8);const F=["1. Esta cotización se ajusta a las cláusulas y condiciones que se enuncian","2. Duración de la oferta: 15 días","3. Para iniciar el servicio el cliente realizará un anticipo del 50%","4. En el transcurso del trabajo el cliente tiene que dar el 25%","5. Al finalizar el trabajo el cliente dará el 25% restante"];let P=R+6;return F.forEach(L=>{e.text(L,20,P),P+=4}),P+=5,e.text("Firma del cliente: ____________________________",14.2,P),P+=10,e.setFontSize(8),e.text("Si usted tiene alguna pregunta sobre esta cotización, por favor, póngase en contacto con nosotros.",14.2,P),P+=10,e.setFont("helvetica","bold"),e.setFontSize(10),e.setTextColor(...o),e.text("Gracias por la preferencia!",14.2,P),e.setFillColor(...i),e.rect(0,287,r,3,"F"),e}static generateInvoicePDF(t){const e=new Yt("p","mm","a4"),r=e.internal.pageSize.width,i=[23,54,93],s=[230,240,255],o=[0,128,0],l="TU_LOGO_BASE64";e.setFillColor(...i),e.rect(0,10,r,3,"F");const u=25,d=25;e.addImage(l,"PNG",3,15,u,d),e.setFont("helvetica","bold"),e.setFontSize(14),e.setTextColor(...i),e.text("MANTENIMIENTO & REPARACIONES",29,22),e.text("DURAN",29,28),e.setFont("helvetica","normal"),e.setFontSize(9),e.text("DIRECCIÓN: Calle Buen Pastor #5 Alondra, Pantoja",29,34),e.text("TELÉFONO: (809) 856-7741",29,39),e.text("CORREO: rogeliodurran88@gmail.com",29,44),e.setFont("helvetica","bold"),e.setFontSize(12),e.text("FACTURA",r-15,20,{align:"right"}),e.setFont("helvetica","normal"),e.setFontSize(9),e.text(`N° DE FACTURA: ${t.number||"0001"}`,r-15,28,{align:"right"}),e.text(`FECHA: ${jc(t.date)}`,r-15,33,{align:"right"}),e.setDrawColor(...i),e.roundedRect(15,55,r-30,30,3,3),e.setFont("helvetica","bold"),e.setFontSize(11),e.setTextColor(...i),e.text("DATOS DEL CLIENTE",20,62),e.setFont("helvetica","normal"),e.setTextColor(0,0,0),e.setFontSize(9),e.text(`Cliente: ${t.clientName||""}`,20,70),e.text(`Dirección: ${t.clientAddress||""}`,20,75),e.text(`Teléfono: ${t.clientPhone||""}`,20,80);const g=95,v=["CANT.","DESCRIPCIÓN","TOTAL"],b=t.items.map(F=>[F.quantity.toString(),F.description,Ro(F.total)]);e.autoTable({startY:g,head:[v],body:b,theme:"grid",headStyles:{fillColor:i,textColor:[255,255,255],fontSize:9,halign:"center"},styles:{fontSize:9,cellPadding:2},alternateRowStyles:{fillColor:s},columnStyles:{0:{cellWidth:20,halign:"center"},1:{cellWidth:120},2:{cellWidth:40,halign:"right"}}});const m=e.lastAutoTable.finalY+2,N=r-20;e.setFont("helvetica","bold"),e.setFontSize(12),e.setTextColor(0,0,0),e.text("TOTAL:",N-40,m,{align:"right"}),e.text(Ro(t.total),N,m,{align:"right"});const R=m+20;return e.setFont("helvetica","bold"),e.setFontSize(10),e.setTextColor(...o),e.text("¡Gracias por su pago!",20,R),e.setFillColor(...i),e.rect(0,287,r,3,"F"),e}static addDays(t,e){const r=new Date(t);return r.setDate(r.getDate()+e),r.toISOString().split("T")[0]}}class C0{constructor(t,e,r=null){this.type=t,this.onDelete=e,this.onEdit=r||e}render(){const t=document.createElement("div");return t.className="card",t.innerHTML=`
      <div class="text-center py-8">
        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"></div>
        <p class="text-gray-600">Cargando ${this.type==="quote"?"cotizaciones":"facturas"}...</p>
      </div>
    `,this.loadDocuments(t),t}async loadDocuments(t){try{let e;if(this.type==="quote"?e=await Yc.getAll():e=await ka.getAll(),e.length===0){const o=this.type==="quote"?"No hay cotizaciones registradas":"No hay facturas registradas";t.innerHTML=`
          <div class="text-center py-8">
            <p class="text-gray-500">${o}</p>
          </div>
        `;return}const r=this.type==="quote"?"<th>Número</th><th>Cliente</th><th>Fecha</th><th>Total</th><th>Estado</th><th>Acciones</th>":"<th>Número</th><th>Cliente</th><th>Fecha</th><th>Total</th><th>Acciones</th>",i=e.map(o=>{const l=Ro(o.total);if(this.type==="quote"){const u=o.status==="Pendiente"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800";return`
            <tr>
              <td class="font-mono">${o.number}</td>
              <td class="font-medium">${o.clientName}</td>
              <td>${jc(o.date)}</td>
              <td class="font-medium">${l}</td>
              <td><span class="px-2 py-1 rounded text-xs font-medium ${u}">${o.status}</span></td>
              <td>
                <div class="flex space-x-2 flex-wrap gap-1">
                  <button class="btn btn-warning btn-sm print-quote" data-id="${o.id}">Imprimir</button>
                  <button class="btn btn-primary btn-sm edit-quote" data-id="${o.id}">Editar</button>
                  <button class="btn btn-success btn-sm convert-to-invoice" data-quote='${JSON.stringify(o).replace(/'/g,"\\'")}'>Convertir a Factura</button>
                  <button class="btn btn-danger btn-sm delete-doc" data-id="${o.id}">Eliminar</button>
                </div>
              </td>
            </tr>
          `}else return`
            <tr>
              <td class="font-mono">${o.number}</td>
              <td class="font-medium">${o.clientName}</td>
              <td>${jc(o.date)}</td>
              <td class="font-medium">${l}</td>
              <td>
                <div class="flex space-x-2 flex-wrap gap-1">
                  <button class="btn btn-warning btn-sm print-invoice" data-id="${o.id}">Imprimir</button>
                  <button class="btn btn-primary btn-sm edit-invoice" data-id="${o.id}">Editar</button>
                  <button class="btn btn-danger btn-sm delete-doc" data-id="${o.id}">Eliminar</button>
                </div>
              </td>
            </tr>
          `}).join(""),s=`
        <div class="table-container">
          <table class="table">
            <thead>
              <tr>${r}</tr>
            </thead>
            <tbody>${i}</tbody>
          </table>
        </div>
      `;t.innerHTML=s,t.querySelectorAll(".print-quote").forEach(o=>{o.addEventListener("click",async l=>{const u=l.target.getAttribute("data-id");try{const d=Hr(wn,"quotes",u),g=await Tc(d);if(g.exists()){const v={id:g.id,...g.data()};Og.generateQuotePDF(v).save(`cotizacion_${v.number}.pdf`),en.success("Cotización impresa exitosamente")}}catch(d){console.error("Error al generar PDF:",d),en.error("Error al generar el PDF de la cotización")}})}),t.querySelectorAll(".print-invoice").forEach(o=>{o.addEventListener("click",async l=>{const u=l.target.getAttribute("data-id");try{const d=Hr(wn,"invoices",u),g=await Tc(d);if(g.exists()){const v={id:g.id,...g.data()};Og.generateInvoicePDF(v).save(`factura_${v.number}.pdf`),en.success("Factura impresa exitosamente")}}catch(d){console.error("Error al generar PDF:",d),en.error("Error al generar el PDF de la factura")}})}),t.querySelectorAll(".convert-to-invoice").forEach(o=>{o.addEventListener("click",async l=>{const u=JSON.parse(o.getAttribute("data-quote"));try{const d={clientId:u.clientId,clientName:u.clientName,clientPhone:u.clientPhone,clientAddress:u.clientAddress,date:new Date().toISOString().split("T")[0],items:u.items,total:u.total,relatedQuoteId:u.id};await ka.create(d),en.success("¡Cotización convertida a factura exitosamente!"),this.onDelete()}catch(d){en.error("Error al convertir a factura: "+d.message)}})}),t.querySelectorAll(".edit-quote").forEach(o=>{o.addEventListener("click",async l=>{const u=l.target.getAttribute("data-id");try{const d=Hr(wn,"quotes",u),g=await Tc(d);if(g.exists()){const v={id:g.id,...g.data()};typeof this.onEdit=="function"&&this.onEdit(v)}}catch(d){console.error("Error al cargar cotización para editar:",d),en.error("Error al cargar la cotización para editar")}})}),t.querySelectorAll(".edit-invoice").forEach(o=>{o.addEventListener("click",async l=>{const u=l.target.getAttribute("data-id");try{const d=Hr(wn,"invoices",u),g=await Tc(d);if(g.exists()){const v={id:g.id,...g.data()};typeof this.onEdit=="function"&&this.onEdit(v)}}catch(d){console.error("Error al cargar factura para editar:",d),en.error("Error al cargar la factura para editar")}})}),t.querySelectorAll(".delete-doc").forEach(o=>{o.addEventListener("click",l=>{const u=l.target.getAttribute("data-id"),d=this.type==="quote"?"¿Está seguro de eliminar esta cotización?":"¿Está seguro de eliminar esta factura?";confirm(d)&&this.handleDelete(u)})})}catch(e){console.error("Error al cargar documentos:",e),en.error("Error al cargar los documentos"),t.innerHTML=`
        <div class="text-center py-8">
          <p class="text-red-500">Error al cargar ${this.type==="quote"?"cotizaciones":"facturas"}</p>
          <button class="btn btn-primary mt-4 retry-button">Reintentar</button>
        </div>
      `,t.querySelector(".retry-button").addEventListener("click",()=>{this.loadDocuments(t)})}}async handleDelete(t){try{this.type==="quote"?(await Yc.delete(t),en.success("Cotización eliminada exitosamente")):(await ka.delete(t),en.success("Factura eliminada exitosamente")),this.onDelete()}catch(e){en.error("Error al eliminar: "+e.message)}}}class R0{constructor(t,e){this.type=t,this.onSubmit=e,this.modal=null,this.currentDocumentId=null}show(t=null){this.currentDocumentId=t?t.id:null;const e=t?this.type==="quote"?"Editar Cotización":"Editar Factura":this.type==="quote"?"Nueva Cotización":"Nueva Factura";try{Ws.getAll().then(r=>{const i=r.map(o=>`<option value="${o.id}">${o.name}</option>`).join(""),s=`
          <form id="document-form" class="space-y-6">
            <input type="hidden" id="document-type" value="${this.type}">
            <div id="document-error-message" class="text-red-500 text-sm hidden"></div>
            
            <div class="space-y-4">
              <label class="block text-sm font-medium text-gray-700">Cliente *</label>
              <div class="flex space-x-3 mb-3">
                <button type="button" id="select-existing-client" class="btn btn-outline">Seleccionar Existente</button>
                <button type="button" id="create-new-client" class="btn btn-outline">Crear Nuevo</button>
              </div>
              
              <div id="existing-client-section">
                <select id="existing-client" class="form-control">
                  <option value="">Seleccione un cliente</option>
                  ${i}
                </select>
              </div>
              
              <div id="new-client-section" class="hidden space-y-3">
                <input type="text" id="new-client-name" class="form-control" placeholder="Nombre completo *" required>
                <input type="email" id="new-client-email" class="form-control" placeholder="Email (opcional)">
                <input type="tel" id="new-client-phone" class="form-control" placeholder="Teléfono (opcional)">
                <input type="text" id="new-client-address" class="form-control" placeholder="Dirección (opcional)">
              </div>
            </div>
            
            <div>
              <label for="document-date" class="block text-sm font-medium text-gray-700 mb-1">Fecha *</label>
              <input type="date" id="document-date" class="form-control" required>
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Items</label>
              <div id="items-container" class="space-y-3"></div>
              <button type="button" id="add-item" class="btn btn-success mt-2">+ Agregar Item</button>
            </div>
            
            <div class="bg-gray-50 p-4 rounded-lg">
              <div class="flex justify-end space-y-2 flex-col">
                <div class="flex justify-between">
                  <span class="font-medium">Total:</span>
                  <span id="total" class="font-bold text-lg text-blue-600">RD$0.00</span>
                </div>
              </div>
            </div>
          </form>
        `;this.modal=new ff,this.modal.show(e,s,"Guardar",null),this.setupFormEvents(),t&&this.loadDocumentData(t)})}catch(r){console.error("Error al mostrar formulario:",r),alert("Error al cargar el formulario: "+r.message)}}setupFormEvents(){var e,r,i;(e=document.getElementById("select-existing-client"))==null||e.addEventListener("click",()=>{document.getElementById("existing-client-section").classList.remove("hidden"),document.getElementById("new-client-section").classList.add("hidden")}),(r=document.getElementById("create-new-client"))==null||r.addEventListener("click",()=>{document.getElementById("existing-client-section").classList.add("hidden"),document.getElementById("new-client-section").classList.remove("hidden")}),document.getElementById("document-date").valueAsDate=new Date,this.addItem(),(i=document.getElementById("add-item"))==null||i.addEventListener("click",()=>{this.addItem()});const t=this.modal.element.querySelector(".confirm-modal");t&&t.addEventListener("click",async s=>{s.preventDefault(),await this.handleSave()})}addItem(){const t=document.getElementById("items-container");if(!t)return;const e=`
      <div class="item-row flex space-x-3 p-3 bg-white rounded border">
        <div class="w-16">
          <input type="number" class="form-control item-quantity" placeholder="1" min="1" value="1" required>
        </div>
        <div class="flex-1">
          <input type="text" class="form-control item-description" placeholder="Descripción detallada del servicio" required>
        </div>
        <div class="w-24">
          <input type="number" class="form-control item-price" placeholder="0.00" min="0" step="0.01">
        </div>
        <div class="w-24">
          <input type="text" class="form-control item-total" readonly>
        </div>
        <button type="button" class="btn btn-danger remove-item self-end">✕</button>
      </div>
    `;t.insertAdjacentHTML("beforeend",e);const r=t.lastElementChild;this.setupItemListeners(r)}setupItemListeners(t){const e=t.querySelector(".item-quantity"),r=t.querySelector(".item-price"),i=t.querySelector(".item-total"),s=t.querySelector(".remove-item"),o=()=>{const l=parseFloat(e.value)||0,u=parseFloat(r.value)||0,d=u>0?l*u:0;i.value=u>0?Ro(d):"Sin precio",this.calculateTotals()};e.addEventListener("input",o),r.addEventListener("input",o),s.addEventListener("click",()=>{t.parentNode&&(t.parentNode.removeChild(t),this.calculateTotals())})}calculateTotals(){let t=0;document.querySelectorAll(".item-row").forEach(r=>{var s,o;const i=parseFloat((s=r.querySelector(".item-price"))==null?void 0:s.value)||0;if(i>0){const l=parseFloat((o=r.querySelector(".item-quantity"))==null?void 0:o.value)||0;t+=l*i}}),document.getElementById("total").textContent=Ro(t)}loadDocumentData(t){t.getElementById("existing-client-section").classList.remove("hidden"),t.getElementById("new-client-section").classList.add("hidden");const e=t.getElementById("existing-client");if(e){let i=Array.from(e.options).find(s=>s.value===t.clientId||s.textContent===t.clientName);if(i)i.selected=!0;else{const s=t.createElement("option");s.value=t.clientId||t.clientName,s.textContent=t.clientName,s.selected=!0,e.appendChild(s)}}t.getElementById("document-date").value=t.date||"";const r=t.getElementById("items-container");r.innerHTML="",t.items&&t.items.length>0?t.items.forEach(i=>{this.addItem();const s=r.lastElementChild;if(s){const o=s.querySelector(".item-description"),l=s.querySelector(".item-quantity"),u=s.querySelector(".item-price");o&&(o.value=i.description||""),l&&(l.value=i.quantity||1),u&&(u.value=i.price||0)}}):this.addItem(),this.calculateTotals()}async handleSave(){var e,r,i,s,o,l,u;const t=document.getElementById("document-error-message");t&&(t.classList.add("hidden"),t.textContent="");try{const d=!((e=document.getElementById("existing-client-section"))!=null&&e.classList.contains("hidden"));let g,v,b,m,N;if(d){if(g=(r=document.getElementById("existing-client"))==null?void 0:r.value,!g)throw new Error("Por favor seleccione un cliente");const q=await Ws.getById(g);if(!q)throw new Error("Cliente no encontrado");v=q.name,b=q.phone||"",m=q.address||"",N=q.email||""}else{if(v=(i=document.getElementById("new-client-name"))==null?void 0:i.value.trim(),!v)throw new Error("El nombre del cliente es requerido");N=((s=document.getElementById("new-client-email"))==null?void 0:s.value.trim())||"",b=((o=document.getElementById("new-client-phone"))==null?void 0:o.value.trim())||"",m=((l=document.getElementById("new-client-address"))==null?void 0:l.value.trim())||"";const q={name:v,email:N,phone:b,address:m};g=(await Ws.create(q)).id}const R=[],F=document.querySelectorAll(".item-row");let P=!1;if(F.forEach(q=>{var I,C,M;const Y=(I=q.querySelector(".item-description"))==null?void 0:I.value.trim(),J=parseFloat((C=q.querySelector(".item-quantity"))==null?void 0:C.value)||0,_=parseFloat((M=q.querySelector(".item-price"))==null?void 0:M.value)||0;Y&&J>0&&(R.push({description:Y,quantity:J,price:_||0,total:_>0?J*_:0}),P=!0)}),!P)throw new Error("Por favor agregue al menos un item válido");const L=R.reduce((q,Y)=>q+Y.total,0),O={clientId:g,clientName:v,clientPhone:b,clientAddress:m,clientEmail:N,date:(u=document.getElementById("document-date"))==null?void 0:u.value,items:R,total:L};this.type==="quote"?this.currentDocumentId?(await Yc.update(this.currentDocumentId,O),en.success("¡Cotización actualizada exitosamente!")):(await Yc.create(O),en.success("¡Cotización creada exitosamente!")):this.currentDocumentId?(await ka.update(this.currentDocumentId,O),en.success("¡Factura actualizada exitosamente!")):(await ka.create(O),en.success("¡Factura creada exitosamente!")),this.onSubmit(),this.modal.close()}catch(d){console.error("Error al guardar documento:",d),en.error(d.message||"Error al guardar el documento")}}}class DE{constructor(){this.documentForm=new R0("quote",()=>this.refresh())}render(){const t=document.createElement("div");t.className="space-y-6";const e=document.createElement("div");e.className="space-y-4",e.innerHTML=`
      <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4">
        <h2 class="text-2xl font-bold text-gray-800">Gestión de Cotizaciones</h2>
        <button id="new-quote-btn" class="btn btn-primary whitespace-nowrap">+ Nueva Cotización</button>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Buscar por nombre de cliente</label>
          <input type="text" id="search-client-quote" class="form-control" placeholder="Escriba el nombre del cliente...">
        </div>
        <div class="flex items-end">
          <button id="clear-filters-quote" class="btn btn-outline w-full">Limpiar Filtros</button>
        </div>
      </div>
    `,t.appendChild(e);const r=new C0("quote",()=>this.refresh(),i=>this.documentForm.show(i));return t.appendChild(r.render()),setTimeout(()=>{var s,o;(s=document.getElementById("new-quote-btn"))==null||s.addEventListener("click",()=>{this.documentForm.show()});const i=document.getElementById("search-client-quote");i&&i.addEventListener("input",l=>{}),(o=document.getElementById("clear-filters-quote"))==null||o.addEventListener("click",()=>{i&&(i.value=""),this.refresh()})},100),t}refresh(){const t=this.render(),e=document.querySelector("#page-content");e&&(e.innerHTML="",e.appendChild(t))}}class OE{constructor(){this.documentForm=new R0("invoice",()=>this.refresh()),this.debounceTimer=null}render(){const t=document.createElement("div");t.className="space-y-6";const e=document.createElement("div");e.className="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",e.innerHTML=`
      <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4">
        <h2 class="text-2xl font-bold text-gray-800">Gestión de Facturas</h2>
        <button id="new-invoice-btn" class="btn btn-primary whitespace-nowrap">+ Nueva Factura</button>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Buscar por nombre de cliente</label>
          <input type="text" id="search-client-invoice" class="form-control" placeholder="Escriba el nombre del cliente...">
        </div>
        <div class="flex items-end">
          <button id="clear-filters-invoice" class="btn btn-outline w-full">Limpiar Filtros</button>
        </div>
      </div>
    `,t.appendChild(e);const r=new C0("invoice",()=>this.refresh());return t.appendChild(r.render()),setTimeout(()=>{var s,o;(s=document.getElementById("new-invoice-btn"))==null||s.addEventListener("click",()=>{this.documentForm.show()});const i=document.getElementById("search-client-invoice");i&&i.addEventListener("input",l=>{clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.filterInvoices(l.target.value)},300)}),(o=document.getElementById("clear-filters-invoice"))==null||o.addEventListener("click",()=>{i&&(i.value=""),this.filterInvoices("")})},100),t}filterInvoices(t){const e=document.querySelector("#invoices-list");if(!e)return;const r=e.querySelectorAll("tbody tr"),i=t.toLowerCase();r.forEach(s=>{const o=s.querySelector("td:nth-child(2)");o&&(o.textContent.toLowerCase().includes(i)?s.style.display="":s.style.display="none")})}refresh(){const t=this.render(),e=document.querySelector("#page-content");e&&(e.innerHTML="",e.appendChild(t))}}class Mg{constructor(t,e=null){this.onAuthSuccess=t,this.onAuthError=e,this.modal=new ff}show(){const t=`
      <div class="space-y-6">
        <!-- Formulario de Email/Contraseña -->
        <div id="email-form-section">
          <form id="email-form" class="space-y-4">
            <div>
              <label for="auth-email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
              <input type="email" id="auth-email" class="form-control" required placeholder="tu@email.com">
            </div>
            <div>
              <label for="auth-password" class="block text-sm font-medium text-gray-700 mb-1">Contraseña</label>
              <input type="password" id="auth-password" class="form-control" required placeholder="Mínimo 6 caracteres">
            </div>
            <div class="flex space-x-3">
              <button type="button" id="login-email-btn" class="btn btn-primary flex-1">Iniciar Sesión</button>
              <button type="button" id="register-email-btn" class="btn btn-outline flex-1">Registrarse</button>
            </div>
          </form>
        </div>

        <!-- Separador -->
        <div class="relative">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-gray-300"></div>
          </div>
          <div class="relative flex justify-center text-sm">
            <span class="px-2 bg-white text-gray-500">O continuar con</span>
          </div>
        </div>

        <!-- Botón de Google -->
        <div class="text-center">
          <button id="google-signin-btn" class="w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">
            <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24">
              <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
              <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
              <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
              <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
            </svg>
            Google
          </button>
        </div>

        <!-- Información adicional -->
        <div class="text-xs text-gray-500 text-center">
          <p>Al iniciar sesión, aceptas nuestros Términos de servicio y Política de privacidad.</p>
        </div>
      </div>
    `;this.modal.show("Iniciar Sesión - AquaBuild",t,null,e=>{document.getElementById("login-email-btn").addEventListener("click",()=>{this.handleEmailLogin(e)}),document.getElementById("register-email-btn").addEventListener("click",()=>{this.handleEmailRegister(e)}),document.getElementById("google-signin-btn").addEventListener("click",()=>{this.handleGoogleSignIn(e)})})}async handleEmailLogin(t){const e=document.getElementById("auth-email").value,r=document.getElementById("auth-password").value;if(!e||!r){alert("Por favor completa todos los campos");return}try{await h4(No,e,r),this.onAuthSuccess(),t.close()}catch(i){this.handleError(i,"iniciar sesión")}}async handleEmailRegister(t){const e=document.getElementById("auth-email").value,r=document.getElementById("auth-password").value;if(!e||!r){alert("Por favor completa todos los campos");return}if(r.length<6){alert("La contraseña debe tener al menos 6 caracteres");return}try{await u4(No,e,r),this.onAuthSuccess(),t.close()}catch(i){this.handleError(i,"registrarte")}}async handleGoogleSignIn(t){try{await D4(No,id),this.onAuthSuccess(),t.close()}catch(e){this.handleError(e,"iniciar sesión con Google")}}handleError(t,e){let r="Error desconocido";switch(t.code){case"auth/invalid-email":r="El email no es válido";break;case"auth/user-disabled":r="Esta cuenta ha sido deshabilitada";break;case"auth/user-not-found":r="No se encontró una cuenta con este email";break;case"auth/wrong-password":r="Contraseña incorrecta";break;case"auth/email-already-in-use":r="Este email ya está registrado";break;case"auth/weak-password":r="La contraseña es muy débil (mínimo 6 caracteres)";break;case"auth/popup-closed-by-user":r="Inicio de sesión cancelado";break;case"auth/popup-blocked":r="Popup bloqueado. Por favor permite popups para este sitio";break;default:r=t.message}this.onAuthError?this.onAuthError(r):alert(`Error al ${e}: ${r}`)}static async logout(){try{return await g4(No),!0}catch(t){return console.error("Error al cerrar sesión:",t),!1}}}class ME{constructor(){this.currentPage=null,this.currentUser=null,window.addEventListener("error",t=>{var e;(e=toast==null?void 0:toast.error)==null||e.call(toast,"Ha ocurrido un error inesperado. Por favor, recargue la página."),console.error("Error global:",t.error)}),window.addEventListener("hashchange",()=>{this.handleHashChange()}),this.checkAuth()}checkAuth(){try{p4(No,t=>{t?(this.currentUser=t,this.initApp()):this.showAuth()},t=>{console.error("Error en autenticación:",t),this.showError("Error en el sistema de autenticación. Por favor, recarga la página.")})}catch(t){console.error("Error al inicializar autenticación:",t),this.showError("No se pudo inicializar el sistema de autenticación.")}}showError(t){const e=document.getElementById("app");e&&(e.innerHTML=`
        <div class="min-h-screen flex items-center justify-center bg-red-50">
          <div class="text-center p-8 bg-white rounded-lg shadow-lg max-w-md">
            <h2 class="text-xl font-bold text-red-600 mb-4">Error</h2>
            <p class="text-gray-700 mb-4">${t}</p>
            <button onclick="location.reload()" class="btn btn-primary">Recargar</button>
          </div>
        </div>
      `)}showAuth(){const t=document.getElementById("app");if(t){t.innerHTML='<div class="min-h-screen flex items-center justify-center bg-gray-100">Cargando...</div>';try{new Mg(()=>this.initApp(),r=>{console.error("Error de autenticación:",r),alert("Error de autenticación: "+r)}).show()}catch(e){console.error("Error al mostrar formulario de autenticación:",e),this.showError("No se pudo cargar el formulario de autenticación.")}}}initApp(){const t=document.getElementById("app");if(t){t.innerHTML=`
      <div class="min-h-screen bg-gray-100">
        <header id="app-header"></header>
        <main class="container mx-auto px-4 py-8">
          <div id="page-content"></div>
        </main>
      </div>
    `;try{this.header=new g2(r=>this.navigate(r));const e=this.header.render();if(e)document.getElementById("app-header").appendChild(e),this.handleHashChange();else throw new Error("No se pudo crear el header")}catch(e){console.error("Error al inicializar la aplicación:",e),this.showError("Error al inicializar la aplicación principal.")}}}handleHashChange(){const t=window.location.hash.replace("#/","");t?this.navigate(t):this.navigate("dashboard")}navigate(t){let e;switch(t){case"dashboard":e=new gg(i=>this.navigate(i));break;case"clients":e=new LA;break;case"quotes":e=new DE;break;case"invoices":e=new OE;break;case"logout":this.handleLogout();return;default:e=new gg(i=>this.navigate(i))}t!=="logout"&&(window.location.hash=`#/${t}`),this.currentPage=e,document.getElementById("page-content").innerHTML="",document.getElementById("page-content").appendChild(e.render());const r=document.getElementById("dropdown-menu");r&&r.classList.add("hidden")}async handleLogout(){if(confirm("¿Estás seguro de que deseas cerrar sesión?"))try{await Mg.logout()&&(this.currentUser=null,this.showAuth())}catch(e){console.error("Error al cerrar sesión:",e),alert("Error al cerrar sesión: "+e.message)}}}const qE=Object.freeze(Object.defineProperty({__proto__:null,App:ME},Symbol.toStringTag,{value:"Module"}));export{ke as _,qE as a,Ch as c,BE as g};
